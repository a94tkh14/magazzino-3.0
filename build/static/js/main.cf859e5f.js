/*! For license information please see main.cf859e5f.js.LICENSE.txt */
(()=>{var e={67:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4410),a=n(3666),i=n(8355);function o(e,t){(0,a.A)(2,arguments);var n=(0,i.A)(t);return(0,r.A)(e,-n)}},129:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8355),a=n(4410),i=n(3666),o=6e4;function s(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.A)(e,n*o)}},234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6819),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.default)(e,12*n)}},238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(6260),a=n(8355),i=n(3666),o=n(2239);function s(e,t){var n,s,l,c,u,d,h,f;(0,i.A)(1,arguments);var p=(0,o.q)(),m=(0,a.A)(null!==(n=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(h=p.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.default)(e),v=g.getDay(),y=(v<m?7:0)+v-m;return g.setDate(g.getDate()-y),g.setHours(0,0,0,0),g}},356:(e,t,n)=>{e.exports=n(9645).last},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5780),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case o:case i:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===a}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(2284),a=n(6260),i=n(3666);function o(e){var t,n;if((0,i.A)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,a.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)}),n||new Date(NaN)}},779:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(2284),a=n(6260),i=n(3778),o=n(8355),s=n(3666);function l(e,t){if((0,s.A)(2,arguments),"object"!==(0,r.A)(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,a.default)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,i.default)(n,t.month)),null!=t.date&&n.setDate((0,o.A)(t.date)),null!=t.hours&&n.setHours((0,o.A)(t.hours)),null!=t.minutes&&n.setMinutes((0,o.A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,o.A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,o.A)(t.milliseconds)),n)}},812:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);return n.setMinutes(o),n}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){var n;(0,a.A)(1,arguments);var i=e||{},o=(0,r.default)(i.start),s=(0,r.default)(i.end).getTime();if(!(o.getTime()<=s))throw new RangeError("Invalid interval");var l=[],c=o;c.setHours(0,0,0,0);var u=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=s;)l.push((0,r.default)(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}},1032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(7461),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.default)(e,-n)}},1049:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(6260),a=n(1740),i=n(1104),o=n(3666);var s=6048e5;function l(e){(0,o.A)(1,arguments);var t=(0,r.default)(e),n=(0,a.A)(t).getTime()-function(e){(0,o.A)(1,arguments);var t=(0,i.A)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.A)(n)}(t).getTime();return Math.round(n/s)+1}},1082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(6260),a=n(6740),i=n(3666);function o(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function s(e,t){(0,i.A)(2,arguments);var n=(0,r.default)(e),s=(0,r.default)(t),l=o(n,s),c=Math.abs((0,a.default)(n,s));n.setDate(n.getDate()-l*c);var u=l*(c-Number(o(n,s)===-l));return 0===u?0:u}},1104:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6260),a=n(3666),i=n(1740);function o(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var s=(0,i.A)(o),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,i.A)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(8829)),i=r(n(5736)),o=n(5745);class s{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new s(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;s.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new i.default({method:t,url:s,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=s},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:i=!0,maxWait:o}=n,s=Array(2);let l;a&&(s[0]="leading"),i&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,a="",i="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];i?"\\"===s&&r+1<n?(r++,a+=e[r]):s===i?i="":a+=s:o?'"'===s||"'"===s?i=s:"]"===s?(o=!1,t.push(a),a=""):a+=s:"["===s?(o=!0,a&&(t.push(a),a="")):"."===s?a&&(t.push(a),a=""):a+=s,r++}return a&&t.push(a),t}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(2239),a=n(6260),i=n(8355),o=n(3666);function s(e,t){var n,s,l,c,u,d,h,f;(0,o.A)(1,arguments);var p=(0,r.q)(),m=(0,i.A)(null!==(n=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(h=p.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,a.default)(e),v=g.getDay(),y=6+(v<m?-7:0)-(v-m);return g.setDate(g.getDate()+y),g.setHours(23,59,59,999),g}},1627:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getMonth()}},1740:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=t.getUTCDay(),i=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}},1751:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=d(n(5173)),o=d(n(5237)),s=n(7384),l=n(5889),c=d(n(1824)),u=d(n(8139));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,n,r,i=v(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),x(y(t=i.call(this,e)),"handleRangeChange",function(e){var n=t.props,r=n.onChange,a=n.ranges,i=n.focusedRange,o=a[i[0]];r&&o&&r(x({},o.key||"range".concat(i[0]+1),p(p({},o),e)))}),t.state={rangeOffset:0,focusedInput:-1},t}return t=s,(n=[{key:"getRangeOptionValue",value:function(e){var t=this.props,n=t.ranges,r=void 0===n?[]:n,a=t.focusedRange,i=void 0===a?[]:a;if("function"!==typeof e.getCurrentValue)return"";var o=r[i[0]]||{};return e.getCurrentValue(o)||""}},{key:"getSelectedRange",value:function(e,t){var n=e.findIndex(function(e){return!(!e.startDate||!e.endDate||e.disabled)&&t.isSelected(e)});return{selectedRange:e[n],focusedRangeIndex:n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerContent,r=t.footerContent,i=t.onPreviewChange,s=t.inputRanges,l=t.staticRanges,d=t.ranges,h=t.renderStaticRangeLabel,f=t.rangeColors,p=t.className;return a.default.createElement("div",{className:(0,u.default)(o.default.definedRangesWrapper,p)},n,a.default.createElement("div",{className:o.default.staticRanges},l.map(function(t,n){var r,s=e.getSelectedRange(d,t),l=s.selectedRange,c=s.focusedRangeIndex;return r=t.hasCustomRendering?h(t):t.label,a.default.createElement("button",{type:"button",className:(0,u.default)(o.default.staticRange,x({},o.default.staticRangeSelected,Boolean(l))),style:{color:l?l.color||f[c]:null},key:n,onClick:function(){return e.handleRangeChange(t.range(e.props))},onFocus:function(){return i&&i(t.range(e.props))},onMouseOver:function(){return i&&i(t.range(e.props))},onMouseLeave:function(){i&&i()}},a.default.createElement("span",{tabIndex:-1,className:o.default.staticRangeLabel},r))})),a.default.createElement("div",{className:o.default.inputRanges},s.map(function(t,n){return a.default.createElement(c.default,{key:n,styles:o.default,label:t.label,onFocus:function(){return e.setState({focusedInput:n,rangeOffset:0})},onBlur:function(){return e.setState({rangeOffset:0})},onChange:function(n){return e.handleRangeChange(t.range(n,e.props))},value:e.getRangeOptionValue(t)})})),r)}}])&&m(t.prototype,n),r&&m(t,r),s}(a.Component);w.propTypes={inputRanges:i.default.array,staticRanges:i.default.array,ranges:i.default.arrayOf(l.rangeShape),focusedRange:i.default.arrayOf(i.default.number),onPreviewChange:i.default.func,onChange:i.default.func,footerContent:i.default.any,headerContent:i.default.any,rangeColors:i.default.arrayOf(i.default.string),className:i.default.string,renderStaticRangeLabel:i.default.func},w.defaultProps={inputRanges:s.defaultInputRanges,staticRanges:s.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};var k=w;t.default=k},1783:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=I(n(5173)),o=n(5889),s=I(n(6105)),l=I(n(8199)),c=n(3974),u=I(n(8139)),d=I(n(8082)),h=n(9627),f=I(n(5277)),p=I(n(775)),m=I(n(1082)),g=I(n(2431)),v=I(n(7860)),y=I(n(6255)),b=I(n(2128)),x=I(n(3764)),w=I(n(3778)),k=I(n(2950)),S=I(n(234)),j=I(n(407)),N=I(n(1555)),_=I(n(238)),E=I(n(1010)),O=I(n(9993)),C=I(n(3498)),T=I(n(6819)),D=I(n(2199)),P=I(n(5237)),A=n(1888);function I(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function L(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){K(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return W(e)}(this,n)}}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,e);var t,n,r,i=q(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),K(W(n=i.call(this,e,t)),"focusToDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.scroll.enabled){var a=(0,x.default)(e,t.minDate,n.dateOptions),i=n.list.getVisibleRange();r&&i.includes(a)||(n.isFirstRender=!0,n.list.scrollTo(a),n.setState({focusedDate:e}))}else{if(r&&t.preventSnapRefocus){var o=(0,x.default)(e,n.state.focusedDate),s="forwards"===t.calendarFocus&&o>=0,l="backwards"===t.calendarFocus&&o<=0;if((s||l)&&Math.abs(o)<t.months)return}n.setState({focusedDate:e})}}),K(W(n),"updateShownDate",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.scroll.enabled?U(U({},e),{},{months:n.list.getVisibleRange().length}):e,r=(0,c.calcFocusDate)(n.state.focusedDate,t);n.focusToDate(r,t)}),K(W(n),"updatePreview",function(e){if(e){var t={startDate:e,endDate:e,color:n.props.color};n.setState({preview:t})}else n.setState({preview:null})}),K(W(n),"changeShownDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",r=n.state.focusedDate,a=n.props,i=a.onShownDateChange,o=a.minDate,s=a.maxDate,l={monthOffset:function(){return(0,T.default)(r,e)},setMonth:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,w.default)(r,e)}),setYear:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,k.default)(r,e)}),set:function(){return e}},c=(0,p.default)([(0,f.default)([l[t](),o]),s]);n.focusToDate(c,n.props,!1),i&&i(c)}),K(W(n),"handleRangeFocusChange",function(e,t){n.props.onRangeFocusChange&&n.props.onRangeFocusChange([e,t])}),K(W(n),"handleScroll",function(){var e=n.props,t=e.onShownDateChange,r=e.minDate,a=n.state.focusedDate,i=W(n).isFirstRender,o=n.list.getVisibleRange();if(void 0!==o[0]){var s=(0,T.default)(r,o[0]||0);!(0,g.default)(s,a)&&!i&&(n.setState({focusedDate:s}),t&&t(s)),n.isFirstRender=!1}}),K(W(n),"renderMonthAndYear",function(e,t,r){var i=r.showMonthArrow,s=r.minDate,l=r.maxDate,c=r.showMonthAndYearPickers,d=r.ariaLabels,h=(l||o.defaultProps.maxDate).getFullYear(),f=(s||o.defaultProps.minDate).getFullYear(),p=n.styles;return a.default.createElement("div",{onMouseUp:function(e){return e.stopPropagation()},className:p.monthAndYearWrapper},i?a.default.createElement("button",{type:"button",className:(0,u.default)(p.nextPrevButton,p.prevButton),onClick:function(){return t(-1,"monthOffset")},"aria-label":d.prevButton},a.default.createElement("i",null)):null,c?a.default.createElement("span",{className:p.monthAndYearPickers},a.default.createElement("span",{className:p.monthPicker},a.default.createElement("select",{value:e.getMonth(),onChange:function(e){return t(e.target.value,"setMonth")},"aria-label":d.monthPicker},n.state.monthNames.map(function(e,t){return a.default.createElement("option",{key:t,value:t},e)}))),a.default.createElement("span",{className:p.monthAndYearDivider}),a.default.createElement("span",{className:p.yearPicker},a.default.createElement("select",{value:e.getFullYear(),onChange:function(e){return t(e.target.value,"setYear")},"aria-label":d.yearPicker},new Array(h-f+1).fill(h).map(function(e,t){var n=e-t;return a.default.createElement("option",{key:n,value:n},n)})))):a.default.createElement("span",{className:p.monthAndYearPickers},n.state.monthNames[e.getMonth()]," ",e.getFullYear()),i?a.default.createElement("button",{type:"button",className:(0,u.default)(p.nextPrevButton,p.nextButton),onClick:function(){return t(1,"monthOffset")},"aria-label":d.nextButton},a.default.createElement("i",null)):null)}),K(W(n),"renderDateDisplay",function(){var e=n.props,t=e.focusedRange,r=e.color,i=e.ranges,o=e.rangeColors,s=e.dateDisplayFormat,c=e.editableDateInputs,d=e.startDatePlaceholder,h=e.endDatePlaceholder,f=e.ariaLabels,p=o[t[0]]||r,m=n.styles;return a.default.createElement("div",{className:m.dateDisplayWrapper},i.map(function(e,r){return!1===e.showDateDisplay||e.disabled&&!e.showDateDisplay?null:a.default.createElement("div",{className:m.dateDisplay,key:r,style:{color:e.color||p}},a.default.createElement(l.default,{className:(0,u.default)(m.dateDisplayItem,K({},m.dateDisplayItemActive,t[0]===r&&0===t[1])),readOnly:!c,disabled:e.disabled,value:e.startDate,placeholder:d,dateOptions:n.dateOptions,dateDisplayFormat:s,ariaLabel:f.dateInput&&f.dateInput[e.key]&&f.dateInput[e.key].startDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,0)}}),a.default.createElement(l.default,{className:(0,u.default)(m.dateDisplayItem,K({},m.dateDisplayItemActive,t[0]===r&&1===t[1])),readOnly:!c,disabled:e.disabled,value:e.endDate,placeholder:h,dateOptions:n.dateOptions,dateDisplayFormat:s,ariaLabel:f.dateInput&&f.dateInput[e.key]&&f.dateInput[e.key].endDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,1)}}))}))}),K(W(n),"onDragSelectionStart",function(e){var t=n.props,r=t.onChange;t.dragSelectionEnabled?n.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):r&&r(e)}),K(W(n),"onDragSelectionEnd",function(e){var t=n.props,r=t.updateRange,a=t.displayMode,i=t.onChange;if(t.dragSelectionEnabled)if("date"!==a&&n.state.drag.status){var o={startDate:n.state.drag.range.startDate,endDate:e};"dateRange"!==a||(0,j.default)(o.startDate,e)?n.setState({drag:{status:!1,range:{}}},function(){return i&&i(e)}):n.setState({drag:{status:!1,range:{}}},function(){r&&r(o)})}else i&&i(e)}),K(W(n),"onDragSelectionMove",function(e){var t=n.state.drag;t.status&&n.props.dragSelectionEnabled&&n.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})}),K(W(n),"estimateMonthSize",function(e,t){var r=n.props,a=r.direction,i=r.minDate,o=n.state.scrollArea;if(t&&(n.listSizeCache=t,t[e]))return t[e];if("horizontal"===a)return o.monthWidth;var s=(0,T.default)(i,e),l=(0,c.getMonthDisplayRange)(s,n.dateOptions),u=l.start,d=l.end;return(0,m.default)(d,u,n.dateOptions)+1>35?o.longMonthHeight:o.monthHeight}),n.dateOptions={locale:e.locale},void 0!==e.weekStartsOn&&(n.dateOptions.weekStartsOn=e.weekStartsOn),n.styles=(0,c.generateStyles)([P.default,e.classNames]),n.listSizeCache={},n.isFirstRender=!0,n.state={monthNames:n.getMonthNames(),focusedDate:(0,c.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:n.calcScrollArea(e)},n}return t=o,(n=[{key:"getMonthNames",value:function(){var e=this;return L(Array(12).keys()).map(function(t){return e.props.locale.localize.month(t)})}},{key:"calcScrollArea",value:function(e){var t=e.direction,n=e.months,r=e.scroll;if(!r.enabled)return{enabled:!1};var a=r.longMonthHeight||r.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:r.monthHeight||220,longMonthHeight:a||260,calendarWidth:"auto",calendarHeight:(r.calendarHeight||a||240)*n}:{enabled:!0,monthWidth:r.monthWidth||332,calendarWidth:(r.calendarWidth||r.monthWidth||332)*n,monthHeight:a||300,calendarHeight:a||300}}},{key:"componentDidMount",value:function(){var e=this;this.props.scroll.enabled&&setTimeout(function(){return e.focusToDate(e.state.focusedDate)})}},{key:"componentDidUpdate",value:function(e){var t={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[t]!==e[t]&&this.updateShownDate(this.props),e.locale===this.props.locale&&e.weekStartsOn===this.props.weekStartsOn||(this.dateOptions={locale:this.props.locale},void 0!==this.props.weekStartsOn&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,h.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}},{key:"renderWeekdays",value:function(){var e=this,t=new Date;return a.default.createElement("div",{className:this.styles.weekDays},(0,E.default)({start:(0,_.default)(t,this.dateOptions),end:(0,N.default)(t,this.dateOptions)}).map(function(t,n){return a.default.createElement("span",{className:e.styles.weekDay,key:n},(0,O.default)(t,e.props.weekdayDisplayFormat,e.dateOptions))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showDateDisplay,r=t.onPreviewChange,i=t.scroll,o=t.direction,l=t.disabledDates,c=t.disabledDay,h=t.maxDate,f=t.minDate,p=t.rangeColors,m=t.color,g=t.navigatorRenderer,w=t.className,k=t.preview,S=this.state,j=S.scrollArea,N=S.focusedDate,_="vertical"===o,E=g||this.renderMonthAndYear,O=this.props.ranges.map(function(e,t){return U(U({},e),{},{color:e.color||p[t]||m})});return a.default.createElement("div",{className:(0,u.default)(this.styles.calendarWrapper,w),onMouseUp:function(){return e.setState({drag:{status:!1,range:{}}})},onMouseLeave:function(){e.setState({drag:{status:!1,range:{}}})}},n&&this.renderDateDisplay(),E(N,this.changeShownDate,this.props),i.enabled?a.default.createElement("div",null,_&&this.renderWeekdays(this.dateOptions),a.default.createElement("div",{className:(0,u.default)(this.styles.infiniteMonths,_?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:function(){return r&&r()},style:{width:j.calendarWidth+11,height:j.calendarHeight+11},onScroll:this.handleScroll},a.default.createElement(d.default,{length:(0,x.default)((0,y.default)(h),(0,v.default)((0,b.default)(f),-1),this.dateOptions),treshold:500,type:"variable",ref:function(t){return e.list=t},itemSizeEstimator:this.estimateMonthSize,axis:_?"y":"x",itemRenderer:function(t,n){var i=(0,T.default)(f,t);return a.default.createElement(s.default,R({},e.props,{onPreviewChange:r||e.updatePreview,preview:k||e.state.preview,ranges:O,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:c,month:i,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,style:_?{height:e.estimateMonthSize(t)}:{height:j.monthHeight,width:e.estimateMonthSize(t)},showMonthName:!0,showWeekDays:!_}))}}))):a.default.createElement("div",{className:(0,u.default)(this.styles.months,_?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map(function(t,n){var i=(0,T.default)(e.state.focusedDate,n);return"backwards"===e.props.calendarFocus&&(i=(0,C.default)(e.state.focusedDate,e.props.months-1-n)),a.default.createElement(s.default,R({},e.props,{onPreviewChange:r||e.updatePreview,preview:k||e.state.preview,ranges:O,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:c,month:i,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,showWeekDays:!_||0===n,showMonthName:!_||n>0}))})))}}])&&B(t.prototype,n),r&&B(t,r),o}(a.PureComponent);Y.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:function(){},classNames:{},locale:D.default,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,S.default)(new Date,20),minDate:(0,S.default)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}},Y.propTypes={showMonthArrow:i.default.bool,showMonthAndYearPickers:i.default.bool,disabledDates:i.default.array,disabledDay:i.default.func,minDate:i.default.object,maxDate:i.default.object,date:i.default.object,onChange:i.default.func,onPreviewChange:i.default.func,onRangeFocusChange:i.default.func,classNames:i.default.object,locale:i.default.object,shownDate:i.default.object,onShownDateChange:i.default.func,ranges:i.default.arrayOf(o.rangeShape),preview:i.default.shape({startDate:i.default.object,endDate:i.default.object,color:i.default.string}),dateDisplayFormat:i.default.string,monthDisplayFormat:i.default.string,weekdayDisplayFormat:i.default.string,weekStartsOn:i.default.number,dayDisplayFormat:i.default.string,focusedRange:i.default.arrayOf(i.default.number),initialFocusedRange:i.default.arrayOf(i.default.number),months:i.default.number,className:i.default.string,showDateDisplay:i.default.bool,showPreview:i.default.bool,displayMode:i.default.oneOf(["dateRange","date"]),color:i.default.string,updateRange:i.default.func,scroll:i.default.shape({enabled:i.default.bool,monthHeight:i.default.number,longMonthHeight:i.default.number,monthWidth:i.default.number,calendarWidth:i.default.number,calendarHeight:i.default.number}),direction:i.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:i.default.string,endDatePlaceholder:i.default.string,navigatorRenderer:i.default.func,rangeColors:i.default.arrayOf(i.default.string),editableDateInputs:i.default.bool,dragSelectionEnabled:i.default.bool,fixedHeight:i.default.bool,calendarFocus:i.default.string,preventSnapRefocus:i.default.bool,ariaLabels:A.ariaLabelsShape};var G=Y;t.default=G},1786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e).getDay();return 0===t||6===t}},1824:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),o=(a=n(5173))&&a.__esModule?a:{default:a};function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n,r,a=u(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(d(n=a.call(this,e,t)),"onChange",function(e){var t=n.props.onChange,r=parseInt(e.target.value,10);t(r=isNaN(r)?0:Math.max(Math.min(99999,r),0))}),n}return t=o,(n=[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.value,r=t.label,a=t.placeholder;return n!==e.value||r!==e.label||a!==e.placeholder}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.placeholder,r=e.value,a=e.styles,o=e.onBlur,s=e.onFocus;return i.default.createElement("div",{className:a.inputRange},i.default.createElement("input",{className:a.inputRangeInput,placeholder:n,value:r,min:0,max:99999,onChange:this.onChange,onFocus:s,onBlur:o}),i.default.createElement("span",{className:a.inputRangeLabel},t))}}])&&l(t.prototype,n),r&&l(t,r),o}(i.Component);f.propTypes={value:o.default.oneOfType([o.default.string,o.default.number]),label:o.default.oneOfType([o.default.element,o.default.node]).isRequired,placeholder:o.default.string,styles:o.default.shape({inputRange:o.default.string,inputRangeInput:o.default.string,inputRangeLabel:o.default.string}).isRequired,onBlur:o.default.func.isRequired,onFocus:o.default.func.isRequired,onChange:o.default.func.isRequired},f.defaultProps={value:"",placeholder:"-"};var p=f;t.default=p},1888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ariaLabelsShape=void 0;var r,a=(r=n(5173))&&r.__esModule?r:{default:r};var i=a.default.shape({dateInput:a.default.objectOf(a.default.shape({startDate:a.default.string,endDate:a.default.string})),monthPicker:a.default.string,yearPicker:a.default.string,prevButton:a.default.string,nextButton:a.default.string});t.ariaLabelsShape=i},1899:function(e,t,n){!function(e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,k,S,j,N,_,E,O,C,T,D,P,A,I,M,R,L,z,F,U,B,V,q,W,H,K,Y,G,Q,J,X,$,Z,ee,te,ne,re,ae,ie,oe,se,le,ce){"use strict";function ue(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var de=ue(t),he=ue(r),fe=ue(a),pe=ue(i),me=ue(o),ge=ue(s),ve=ue(l),ye=ue(c),be=ue(u),xe=ue(d),we=ue(h),ke=ue(f),Se=ue(p),je=ue(m),Ne=ue(g),_e=ue(v),Ee=ue(y),Oe=ue(b),Ce=ue(x),Te=ue(w),De=ue(k),Pe=ue(S),Ae=ue(j),Ie=ue(N),Me=ue(_),Re=ue(E),Le=ue(O),ze=ue(C),Fe=ue(T),Ue=ue(D),Be=ue(P),Ve=ue(A),qe=ue(I),We=ue(M),He=ue(R),Ke=ue(L),Ye=ue(z),Ge=ue(F),Qe=ue(U),Je=ue(B),Xe=ue(V),$e=ue(q),Ze=ue(W),et=ue(H),tt=ue(Y),nt=ue(G),rt=ue(Q),at=ue(J),it=ue(X),ot=ue($),st=ue(Z),lt=ue(ee),ct=ue(te),ut=ue(ne),dt=ue(re),ht=ue(ae),ft=ue(ie),pt=ue(oe),mt=ue(se),gt=ue(ce);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach(function(t){St(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pt(r.key),r)}}function kt(e,t,n){return t&&wt(e.prototype,t),n&&wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function St(e,t,n){return(t=Pt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var a=_t(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ot(e)}(this,n)}}function Tt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var At=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},It=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Mt={p:It,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return At(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",At(a,t)).replace("{{time}}",It(i,t))}},Rt=12,Lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function zt(e){var t=e?"string"==typeof e||e instanceof String?ft.default(e):dt.default(e):new Date;return Ft(t)?t:null}function Ft(e,t){return t=t||new Date("1/1/1000"),pe.default(e)&&!ct.default(e,t)}function Ut(e,t,n){if("en"===n)return me.default(e,t,{awareOfUnicodeTokens:!0});var r=tn(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&en()&&tn(en())&&(r=tn(en())),me.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Bt(e,t){var n=t.dateFormat,r=t.locale;return e&&Ut(e,Array.isArray(n)?n[0]:n,r)||""}function Vt(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,i=void 0===a?0:a,o=t.second,s=void 0===o?0:o;return Ue.default(Fe.default(ze.default(e,s),i),r)}function qt(e,t,n){var r=tn(t||en());return Je.default(e,{locale:r,weekStartsOn:n})}function Wt(e){return Xe.default(e)}function Ht(e){return Ze.default(e)}function Kt(e){return $e.default(e)}function Yt(){return Qe.default(zt())}function Gt(e,t){return e&&t?ot.default(e,t):!e&&!t}function Qt(e,t){return e&&t?it.default(e,t):!e&&!t}function Jt(e,t){return e&&t?st.default(e,t):!e&&!t}function Xt(e,t){return e&&t?at.default(e,t):!e&&!t}function $t(e,t){return e&&t?rt.default(e,t):!e&&!t}function Zt(e,t,n){var r,a=Qe.default(t),i=et.default(n);try{r=ut.default(e,{start:a,end:i})}catch(e){r=!1}return r}function en(){return("undefined"!=typeof window?window:globalThis).__localeId__}function tn(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function nn(e,t){return Ut(Be.default(zt(),e),"LLLL",t)}function rn(e,t){return Ut(Be.default(zt(),e),"LLL",t)}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.excludeDateIntervals,o=t.includeDates,s=t.includeDateIntervals,l=t.filterDate;return fn(e,{minDate:n,maxDate:r})||a&&a.some(function(t){return Xt(e,t)})||i&&i.some(function(t){var n=t.start,r=t.end;return ut.default(e,{start:n,end:r})})||o&&!o.some(function(t){return Xt(e,t)})||s&&!s.some(function(t){var n=t.start,r=t.end;return ut.default(e,{start:n,end:r})})||l&&!l(zt(e))||!1}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(t){var n=t.start,r=t.end;return ut.default(e,{start:n,end:r})}):n&&n.some(function(t){return Xt(e,t)})||!1}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return fn(e,{minDate:Xe.default(n),maxDate:tt.default(r)})||a&&a.some(function(t){return Qt(e,t)})||i&&!i.some(function(t){return Qt(e,t)})||o&&!o(zt(e))||!1}function ln(e,t,n,r){var a=Re.default(e),i=Ie.default(e),o=Re.default(t),s=Ie.default(t),l=Re.default(r);return a===o&&a===l?i<=n&&n<=s:a<o?l===a&&i<=n||l===o&&s>=n||l<o&&l>a:void 0}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return fn(e,{minDate:n,maxDate:r})||a&&a.some(function(t){return Jt(e,t)})||i&&!i.some(function(t){return Jt(e,t)})||o&&!o(zt(e))||!1}function un(e,t,n){if(!pe.default(t)||!pe.default(n))return!1;var r=Re.default(t),a=Re.default(n);return r<=e&&a>=e}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate,s=new Date(e,0,1);return fn(s,{minDate:Ze.default(n),maxDate:nt.default(r)})||a&&a.some(function(e){return Gt(s,e)})||i&&!i.some(function(e){return Gt(s,e)})||o&&!o(zt(s))||!1}function hn(e,t,n,r){var a=Re.default(e),i=Me.default(e),o=Re.default(t),s=Me.default(t),l=Re.default(r);return a===o&&a===l?i<=n&&n<=s:a<o?l===a&&i<=n||l===o&&s>=n||l<o&&l>a:void 0}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&Ke.default(e,n)<0||r&&Ke.default(e,r)>0}function pn(e,t){return t.some(function(t){return Te.default(t)===Te.default(e)&&Ce.default(t)===Ce.default(e)})}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return n&&pn(e,n)||r&&!pn(e,r)||a&&!a(e)||!1}function gn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a,i=zt(),o=Ue.default(Fe.default(i,Ce.default(e)),Te.default(e)),s=Ue.default(Fe.default(i,Ce.default(n)),Te.default(n)),l=Ue.default(Fe.default(i,Ce.default(r)),Te.default(r));try{a=!ut.default(o,{start:s,end:l})}catch(e){a=!1}return a}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Ne.default(e,1);return n&&Ye.default(n,a)>0||r&&r.every(function(e){return Ye.default(e,a)>0})||!1}function yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=xe.default(e,1);return n&&Ye.default(a,n)>0||r&&r.every(function(e){return Ye.default(a,e)>0})||!1}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Ee.default(e,1);return n&&Ge.default(n,a)>0||r&&r.every(function(e){return Ge.default(e,a)>0})||!1}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=ke.default(e,1);return n&&Ge.default(a,n)>0||r&&r.every(function(e){return Ge.default(a,e)>0})||!1}function wn(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(e){return Ke.default(e,t)>=0});return We.default(r)}return n?We.default(n):t}function kn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(e){return Ke.default(e,t)<=0});return He.default(r)}return n?He.default(n):t}function Sn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var i=e[r];if(fe.default(i)){var o=Ut(i,"MM.dd.yyyy"),s=n.get(o)||[];s.includes(t)||(s.push(t),n.set(o,s))}else if("object"===bt(i)){var l=Object.keys(i),c=l[0],u=i[l[0]];if("string"==typeof c&&u.constructor===Array)for(var d=0,h=u.length;d<h;d++){var f=Ut(u[d],"MM.dd.yyyy"),p=n.get(f)||[];p.includes(c)||(p.push(c),n.set(f,p))}}}return n}function jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach(function(e){var r=e.date,a=e.holidayName;if(fe.default(r)){var i=Ut(r,"MM.dd.yyyy"),o=n.get(i)||{};if(!("className"in o)||o.className!==t||(s=o.holidayNames,l=[a],s.length!==l.length||!s.every(function(e,t){return e===l[t]}))){var s,l;o.className=t;var c=o.holidayNames;o.holidayNames=c?[].concat(Tt(c),[a]):[a],n.set(i,o)}}}),n}function Nn(e,t,n,r,a){for(var i=a.length,o=[],s=0;s<i;s++){var l=ge.default(ve.default(e,Te.default(a[s])),Ce.default(a[s])),c=ge.default(e,(n+1)*r);lt.default(l,t)&&ct.default(l,c)&&o.push(a[s])}return o}function _n(e){return e<10?"0".concat(e):"".concat(e)}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt,n=Math.ceil(Re.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function On(e){var t=e.getSeconds(),n=e.getMilliseconds();return dt.default(e.getTime()-1e3*t-n)}function Cn(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,s=!0;n&&(s=Re.default(n)<=o),r&&s&&(s=Re.default(r)>=o),s&&a.push(o)}return a}var Tn=function(e){Nt(r,e);var n=Ct(r);function r(e){var a;xt(this,r),St(Ot(a=n.call(this,e)),"renderOptions",function(){var e=a.props.year,t=a.state.yearsList.map(function(t){return de.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:a.onChange.bind(Ot(a),t),"aria-selected":e===t?"true":void 0},e===t?de.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)}),n=a.props.minDate?Re.default(a.props.minDate):null,r=a.props.maxDate?Re.default(a.props.maxDate):null;return r&&a.state.yearsList.find(function(e){return e===r})||t.unshift(de.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&a.state.yearsList.find(function(e){return e===n})||t.push(de.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t}),St(Ot(a),"onChange",function(e){a.props.onChange(e)}),St(Ot(a),"handleClickOutside",function(){a.props.onCancel()}),St(Ot(a),"shiftYears",function(e){var t=a.state.yearsList.map(function(t){return t+e});a.setState({yearsList:t})}),St(Ot(a),"incrementYears",function(){return a.shiftYears(1)}),St(Ot(a),"decrementYears",function(){return a.shiftYears(-1)});var i=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,s=i||(o?10:5);return a.state={yearsList:Cn(a.props.year,s,a.props.minDate,a.props.maxDate)},a.dropdownRef=t.createRef(),a}return kt(r,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}}},{key:"render",value:function(){var e=he.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}]),r}(de.default.Component),Dn=pt.default(Tn),Pn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),St(Ot(e),"renderSelectOptions",function(){for(var t=e.props.minDate?Re.default(e.props.minDate):1900,n=e.props.maxDate?Re.default(e.props.maxDate):2100,r=[],a=t;a<=n;a++)r.push(de.default.createElement("option",{key:a,value:a},a));return r}),St(Ot(e),"onSelectChange",function(t){e.onChange(t.target.value)}),St(Ot(e),"renderSelectMode",function(){return de.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),St(Ot(e),"renderReadView",function(t){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))}),St(Ot(e),"renderDropdown",function(){return de.default.createElement(Dn,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})}),St(Ot(e),"renderScrollMode",function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n}),St(Ot(e),"onChange",function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)}),St(Ot(e),"toggleDropdown",function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)})}),St(Ot(e),"handleYearChange",function(t,n){e.onSelect(t,n),e.setOpen()}),St(Ot(e),"onSelect",function(t,n){e.props.onSelect&&e.props.onSelect(t,n)}),St(Ot(e),"setOpen",function(){e.props.setOpen&&e.props.setOpen(!0)}),e}return kt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(de.default.Component),An=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"isSelectedMonth",function(t){return e.props.month===t}),St(Ot(e),"renderOptions",function(){return e.props.monthNames.map(function(t,n){return de.default.createElement("div",{className:e.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(Ot(e),n),"aria-selected":e.isSelectedMonth(n)?"true":void 0},e.isSelectedMonth(n)?de.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)})}),St(Ot(e),"onChange",function(t){return e.props.onChange(t)}),St(Ot(e),"handleClickOutside",function(){return e.props.onCancel()}),e}return kt(n,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(de.default.Component),In=pt.default(An),Mn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),St(Ot(e),"renderSelectOptions",function(e){return e.map(function(e,t){return de.default.createElement("option",{key:t,value:t},e)})}),St(Ot(e),"renderSelectMode",function(t){return de.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))}),St(Ot(e),"renderReadView",function(t,n){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},de.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))}),St(Ot(e),"renderDropdown",function(t){return de.default.createElement(In,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})}),St(Ot(e),"renderScrollMode",function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r}),St(Ot(e),"onChange",function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)}),St(Ot(e),"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return kt(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return rn(e,t.props.locale)}:function(e){return nn(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return de.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(de.default.Component);function Rn(e,t){for(var n=[],r=Wt(e),a=Wt(t);!lt.default(r,a);)n.push(zt(r)),r=xe.default(r,1);return n}var Ln=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"renderOptions",function(){return r.state.monthYearsList.map(function(e){var t=Le.default(e),n=Gt(r.props.date,e)&&Qt(r.props.date,e);return de.default.createElement("div",{className:n?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(Ot(r),t),"aria-selected":n?"true":void 0},n?de.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Ut(e,r.props.dateFormat,r.props.locale))})}),St(Ot(r),"onChange",function(e){return r.props.onChange(e)}),St(Ot(r),"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:Rn(r.props.minDate,r.props.maxDate)},r}return kt(n,[{key:"render",value:function(){var e=he.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.default.createElement("div",{className:e},this.renderOptions())}}]),n}(de.default.Component),zn=pt.default(Ln),Fn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),St(Ot(e),"renderSelectOptions",function(){for(var t=Wt(e.props.minDate),n=Wt(e.props.maxDate),r=[];!lt.default(t,n);){var a=Le.default(t);r.push(de.default.createElement("option",{key:a,value:a},Ut(t,e.props.dateFormat,e.props.locale))),t=xe.default(t,1)}return r}),St(Ot(e),"onSelectChange",function(t){e.onChange(t.target.value)}),St(Ot(e),"renderSelectMode",function(){return de.default.createElement("select",{value:Le.default(Wt(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),St(Ot(e),"renderReadView",function(t){var n=Ut(e.props.date,e.props.dateFormat,e.props.locale);return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))}),St(Ot(e),"renderDropdown",function(){return de.default.createElement(zn,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})}),St(Ot(e),"renderScrollMode",function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n}),St(Ot(e),"onChange",function(t){e.toggleDropdown();var n=zt(parseInt(t));Gt(e.props.date,n)&&Qt(e.props.date,n)||e.props.onChange(n)}),St(Ot(e),"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return kt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(de.default.Component),Un=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"dayEl",de.default.createRef()),St(Ot(e),"handleClick",function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)}),St(Ot(e),"handleMouseEnter",function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)}),St(Ot(e),"handleOnKeyDown",function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)}),St(Ot(e),"isSameDay",function(t){return Xt(e.props.day,t)}),St(Ot(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!(e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected))&&(e.isSameDay(e.props.preSelection)||e.isSameWeek(e.props.preSelection))}),St(Ot(e),"isDisabled",function(){return an(e.props.day,e.props)}),St(Ot(e),"isExcluded",function(){return on(e.props.day,e.props)}),St(Ot(e),"isStartOfWeek",function(){return Xt(e.props.day,qt(e.props.day,e.props.locale,e.props.calendarStartDay))}),St(Ot(e),"isSameWeek",function(t){return e.props.showWeekPicker&&Xt(t,qt(e.props.day,e.props.locale,e.props.calendarStartDay))}),St(Ot(e),"getHighLightedClass",function(){var t=e.props,n=t.day,r=t.highlightDates;if(!r)return!1;var a=Ut(n,"MM.dd.yyyy");return r.get(a)}),St(Ot(e),"getHolidaysClass",function(){var t=e.props,n=t.day,r=t.holidays;if(!r)return!1;var a=Ut(n,"MM.dd.yyyy");return r.has(a)?[r.get(a).className]:void 0}),St(Ot(e),"isInRange",function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Zt(n,r,a)}),St(Ot(e),"isInSelectingRange",function(){var t,n=e.props,r=n.day,a=n.selectsStart,i=n.selectsEnd,o=n.selectsRange,s=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,u=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(a||i||o)||!u||!s&&e.isDisabled())&&(a&&c&&(ct.default(u,c)||$t(u,c))?Zt(r,u,c):(i&&l&&(lt.default(u,l)||$t(u,l))||!(!o||!l||c||!lt.default(u,l)&&!$t(u,l)))&&Zt(r,l,u))}),St(Ot(e),"isSelectingRangeStart",function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.startDate,i=n.selectsStart,o=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Xt(r,i?o:a)}),St(Ot(e),"isSelectingRangeEnd",function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.endDate,i=n.selectsEnd,o=n.selectsRange,s=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Xt(r,i||o?s:a)}),St(Ot(e),"isRangeStart",function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Xt(r,n)}),St(Ot(e),"isRangeEnd",function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Xt(a,n)}),St(Ot(e),"isWeekend",function(){var t=De.default(e.props.day);return 0===t||6===t}),St(Ot(e),"isAfterMonth",function(){return void 0!==e.props.month&&(e.props.month+1)%12===Ie.default(e.props.day)}),St(Ot(e),"isBeforeMonth",function(){return void 0!==e.props.month&&(Ie.default(e.props.day)+1)%12===e.props.month}),St(Ot(e),"isCurrentDay",function(){return e.isSameDay(zt())}),St(Ot(e),"isSelected",function(){return e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected)}),St(Ot(e),"getClassNames",function(t){var n,r=e.props.dayClassName?e.props.dayClassName(t):void 0;return he.default("react-datepicker__day",r,"react-datepicker__day--"+Ut(e.props.day,"ddd",n),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())}),St(Ot(e),"getAriaLabel",function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,i=t.ariaLabelPrefixWhenDisabled,o=void 0===i?"Not available":i,s=e.isDisabled()||e.isExcluded()?o:a;return"".concat(s," ").concat(Ut(n,"PPPP",e.props.locale))}),St(Ot(e),"getTitle",function(){var t=e.props,n=t.day,r=t.holidays,a=void 0===r?new Map:r,i=Ut(n,"MM.dd.yyyy");return a.has(i)&&a.get(i).holidayNames.length>0?a.get(i).holidayNames.join(", "):""}),St(Ot(e),"getTabIndex",function(t,n){var r=t||e.props.selected,a=n||e.props.preSelection;return(!e.props.showWeekPicker||!e.props.showWeekNumber&&e.isStartOfWeek())&&(e.isKeyboardSelected()||e.isSameDay(r)&&Xt(a,r))?0:-1}),St(Ot(e),"handleFocusDay",function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!1;0===e.getTabIndex()&&!n.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(r=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(r=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(r=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(r=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(r=!1)),r&&(null===(t=e.dayEl.current)||void 0===t||t.focus({preventScroll:!0}))}),St(Ot(e),"renderDayContents",function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Pe.default(e.props.day),e.props.day):Pe.default(e.props.day)}),St(Ot(e),"render",function(){return de.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),""!==e.getTitle()&&de.default.createElement("span",{className:"holiday-overlay"},e.getTitle()))}),e}return kt(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(de.default.Component),Bn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"weekNumberEl",de.default.createRef()),St(Ot(e),"handleClick",function(t){e.props.onClick&&e.props.onClick(t)}),St(Ot(e),"handleOnKeyDown",function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)}),St(Ot(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!Xt(e.props.date,e.props.selected)&&Xt(e.props.date,e.props.preSelection)}),St(Ot(e),"getTabIndex",function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Xt(e.props.date,e.props.selected)&&Xt(e.props.preSelection,e.props.selected))?0:-1}),St(Ot(e),"handleFocusWeekNumber",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&Xt(e.props.date,e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})}),e}return kt(n,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(e){this.handleFocusWeekNumber(e)}},{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick,"react-datepicker__week-number--selected":Xt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{ref:this.weekNumberEl,className:he.default(a),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(de.default.Component),Vn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"handleDayClick",function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)}),St(Ot(e),"handleDayMouseEnter",function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)}),St(Ot(e),"handleWeekClick",function(t,n,r){if("function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.showWeekPicker){var a=qt(t,e.props.locale,e.props.calendarStartDay);e.handleDayClick(a,r)}e.props.shouldCloseOnSelect&&e.props.setOpen(!1)}),St(Ot(e),"formatWeekNumber",function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var n=t&&tn(t)||en()&&tn(en());return Ae.default(e,n?{locale:n}:null)}(t)}),St(Ot(e),"renderDays",function(){var t=qt(e.props.day,e.props.locale,e.props.calendarStartDay),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var a=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(Ot(e),t,r):void 0;n.push(de.default.createElement(Bn,{key:"W",weekNumber:r,date:t,onClick:a,selected:e.props.selected,preSelection:e.props.preSelection,ariaLabelPrefix:e.props.ariaLabelPrefix,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef}))}return n.concat([0,1,2,3,4,5,6].map(function(n){var r=ye.default(t,n);return de.default.createElement(Un,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(Ot(e),r),onMouseEnter:e.handleDayMouseEnter.bind(Ot(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})}))}),St(Ot(e),"startOfWeek",function(){return qt(e.props.day,e.props.locale,e.props.calendarStartDay)}),St(Ot(e),"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!Xt(e.startOfWeek(),e.props.selected)&&Xt(e.startOfWeek(),e.props.preSelection)}),e}return kt(n,[{key:"render",value:function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{className:he.default(e)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(de.default.Component),qn="two_columns",Wn="three_columns",Hn="four_columns",Kn=St(St(St({},qn,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Wn,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Hn,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function Yn(e,t){return e?Hn:t?qn:Wn}var Gn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"MONTH_REFS",Tt(Array(12)).map(function(){return de.default.createRef()})),St(Ot(e),"QUARTER_REFS",Tt(Array(4)).map(function(){return de.default.createRef()})),St(Ot(e),"isDisabled",function(t){return an(t,e.props)}),St(Ot(e),"isExcluded",function(t){return on(t,e.props)}),St(Ot(e),"handleDayClick",function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)}),St(Ot(e),"handleDayMouseEnter",function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)}),St(Ot(e),"handleMouseLeave",function(){e.props.onMouseLeave&&e.props.onMouseLeave()}),St(Ot(e),"isRangeStartMonth",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Qt(Be.default(r,t),a)}),St(Ot(e),"isRangeStartQuarter",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Jt(Ve.default(r,t),a)}),St(Ot(e),"isRangeEndMonth",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Qt(Be.default(r,t),i)}),St(Ot(e),"isRangeEndQuarter",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate;return!(!a||!i)&&Jt(Ve.default(r,t),i)}),St(Ot(e),"isInSelectingRangeMonth",function(t){var n,r=e.props,a=r.day,i=r.selectsStart,o=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(i||o||s)||!u)&&(i&&c?ln(u,c,t,a):(o&&l||!(!s||!l||c))&&ln(l,u,t,a))}),St(Ot(e),"isSelectingMonthRangeStart",function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,a=r.day,i=r.startDate,o=r.selectsStart,s=Be.default(a,t),l=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return Qt(s,o?l:i)}),St(Ot(e),"isSelectingMonthRangeEnd",function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,a=r.day,i=r.endDate,o=r.selectsEnd,s=r.selectsRange,l=Be.default(a,t),c=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return Qt(l,o||s?c:i)}),St(Ot(e),"isInSelectingRangeQuarter",function(t){var n,r=e.props,a=r.day,i=r.selectsStart,o=r.selectsEnd,s=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(i||o||s)||!u)&&(i&&c?hn(u,c,t,a):(o&&l||!(!s||!l||c))&&hn(l,u,t,a))}),St(Ot(e),"isWeekInMonth",function(t){var n=e.props.day,r=ye.default(t,6);return Qt(t,n)||Qt(r,n)}),St(Ot(e),"isCurrentMonth",function(e,t){return Re.default(e)===Re.default(zt())&&t===Ie.default(zt())}),St(Ot(e),"isCurrentQuarter",function(e,t){return Re.default(e)===Re.default(zt())&&t===Me.default(zt())}),St(Ot(e),"isSelectedMonth",function(e,t,n){return Ie.default(n)===t&&Re.default(e)===Re.default(n)}),St(Ot(e),"isSelectedQuarter",function(e,t,n){return Me.default(e)===t&&Re.default(e)===Re.default(n)}),St(Ot(e),"renderWeeks",function(){for(var t=[],n=e.props.fixedHeight,r=0,a=!1,i=qt(Wt(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(de.default.createElement(Vn,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:i,month:Ie.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,showWeekNumber:e.props.showWeekNumbers,showWeekPicker:e.props.showWeekPicker,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!a;){r++,i=be.default(i,1);var o=n&&r>=6,s=!n&&!e.isWeekInMonth(i);if(o||s){if(!e.props.peekNextMonth)break;a=!0}}return t}),St(Ot(e),"onMonthClick",function(t,n){e.handleDayClick(Wt(Be.default(e.props.day,n)),t)}),St(Ot(e),"onMonthMouseEnter",function(t){e.handleDayMouseEnter(Wt(Be.default(e.props.day,t)))}),St(Ot(e),"handleMonthNavigation",function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())}),St(Ot(e),"onMonthKeyDown",function(t,n){var r=e.props,a=r.selected,i=r.preSelection,o=r.disabledKeyboardNavigation,s=r.showTwoColumnMonthYearPicker,l=r.showFourColumnMonthYearPicker,c=r.setPreSelection,u=t.key;if("Tab"!==u&&t.preventDefault(),!o){var d=Yn(l,s),h=Kn[d].verticalNavigationOffset,f=Kn[d].grid;switch(u){case"Enter":e.onMonthClick(t,n),c(a);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,xe.default(i,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,Ne.default(i,1));break;case"ArrowUp":e.handleMonthNavigation(f[0].includes(n)?n+12-h:n-h,Ne.default(i,h));break;case"ArrowDown":e.handleMonthNavigation(f[f.length-1].includes(n)?n-12+h:n+h,xe.default(i,h))}}}),St(Ot(e),"onQuarterClick",function(t,n){e.handleDayClick(Kt(Ve.default(e.props.day,n)),t)}),St(Ot(e),"onQuarterMouseEnter",function(t){e.handleDayMouseEnter(Kt(Ve.default(e.props.day,t)))}),St(Ot(e),"handleQuarterNavigation",function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.QUARTER_REFS[t-1].current&&e.QUARTER_REFS[t-1].current.focus())}),St(Ot(e),"onQuarterKeyDown",function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onQuarterClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(4===n?1:n+1,we.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(1===n?4:n-1,_e.default(e.props.preSelection,1))}}),St(Ot(e),"getMonthClassNames",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate,o=n.selected,s=n.minDate,l=n.maxDate,c=n.preSelection,u=n.monthClassName,d=n.excludeDates,h=n.includeDates,f=u?u(Be.default(r,t)):void 0,p=Be.default(r,t);return he.default("react-datepicker__month-text","react-datepicker__month-".concat(t),f,{"react-datepicker__month-text--disabled":(s||l||d||h)&&sn(p,e.props),"react-datepicker__month-text--selected":e.isSelectedMonth(r,t,o),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&Ie.default(c)===t,"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":ln(a,i,t,r),"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(r,t)})}),St(Ot(e),"getTabIndex",function(t){var n=Ie.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"}),St(Ot(e),"getQuarterTabIndex",function(t){var n=Me.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"}),St(Ot(e),"getAriaLabel",function(t){var n=e.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,o=void 0===i?"Not available":i,s=n.day,l=Be.default(s,t),c=e.isDisabled(l)||e.isExcluded(l)?o:a;return"".concat(c," ").concat(Ut(l,"MMMM yyyy"))}),St(Ot(e),"getQuarterClassNames",function(t){var n=e.props,r=n.day,a=n.startDate,i=n.endDate,o=n.selected,s=n.minDate,l=n.maxDate,c=n.preSelection,u=n.disabledKeyboardNavigation;return he.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":(s||l)&&cn(Ve.default(r,t),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(r,t,o),"react-datepicker__quarter-text--keyboard-selected":!u&&Me.default(c)===t,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":hn(a,i,t,r),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t)})}),St(Ot(e),"getMonthContent",function(t){var n=e.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,i=n.locale,o=n.day,s=rn(t,i),l=nn(t,i);return a?a(t,s,l,o):r?l:s}),St(Ot(e),"getQuarterContent",function(t){var n=e.props,r=n.renderQuarterContent,a=function(e,t){return Ut(Ve.default(zt(),e),"QQQ",t)}(t,n.locale);return r?r(t,a):a}),St(Ot(e),"renderMonths",function(){var t=e.props,n=t.showTwoColumnMonthYearPicker,r=t.showFourColumnMonthYearPicker,a=t.day,i=t.selected;return Kn[Yn(r,n)].grid.map(function(t,n){return de.default.createElement("div",{className:"react-datepicker__month-wrapper",key:n},t.map(function(t,n){return de.default.createElement("div",{ref:e.MONTH_REFS[t],key:n,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},onMouseEnter:function(){return e.onMonthMouseEnter(t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(a,t)?"date":void 0,"aria-selected":e.isSelectedMonth(a,t,i)},e.getMonthContent(t))}))})}),St(Ot(e),"renderQuarters",function(){var t=e.props,n=t.day,r=t.selected;return de.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(t,a){return de.default.createElement("div",{key:a,ref:e.QUARTER_REFS[a],role:"option",onClick:function(n){e.onQuarterClick(n,t)},onKeyDown:function(n){e.onQuarterKeyDown(n,t)},onMouseEnter:function(){return e.onQuarterMouseEnter(t)},className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(n,t,r),tabIndex:e.getQuarterTabIndex(t),"aria-current":e.isCurrentQuarter(n,t)?"date":void 0},e.getQuarterContent(t))}))}),St(Ot(e),"getClassNames",function(){var t=e.props,n=t.selectingDate,r=t.selectsStart,a=t.selectsEnd,i=t.showMonthYearPicker,o=t.showQuarterYearPicker,s=t.showWeekPicker;return he.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":i},{"react-datepicker__quarterPicker":o},{"react-datepicker__weekPicker":s})}),e}return kt(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,i=void 0===a?"month ":a;return de.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(i," ").concat(Ut(r,"yyyy-MM")),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(de.default.Component),Qn=function(e){Nt(n,e);var t=Ct(n);function n(){var e;xt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return St(Ot(e=t.call.apply(t,[this].concat(a))),"state",{height:null}),St(Ot(e),"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){e.list&&(e.list.scrollTop=e.centerLi&&n.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))})}),St(Ot(e),"handleClick",function(t){(e.props.minTime||e.props.maxTime)&&gn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&mn(t,e.props)||e.props.onChange(t)}),St(Ot(e),"isSelectedTime",function(t){return e.props.selected&&(n=t,On(e.props.selected).getTime()===On(n).getTime());var n}),St(Ot(e),"isDisabledTime",function(t){return(e.props.minTime||e.props.maxTime)&&gn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&mn(t,e.props)}),St(Ot(e),"liClasses",function(t){var n=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&n.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&n.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Te.default(t)+Ce.default(t))%e.props.intervals!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")}),St(Ot(e),"handleOnKeyDown",function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||!t.target.previousSibling||(t.preventDefault(),t.target.previousSibling.focus()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||!t.target.nextSibling||(t.preventDefault(),t.target.nextSibling.focus()),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)}),St(Ot(e),"renderTimes",function(){for(var t,n=[],r=e.props.format?e.props.format:"p",a=e.props.intervals,i=e.props.selected||e.props.openToDate||zt(),o=(t=i,Qe.default(t)),s=e.props.injectTimes&&e.props.injectTimes.sort(function(e,t){return e-t}),l=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(i),c=l/a,u=0;u<c;u++){var d=ge.default(o,u*a);if(n.push(d),s){var h=Nn(o,d,u,a,s);n=n.concat(h)}}var f=n.reduce(function(e,t){return t.getTime()<=i.getTime()?t:e},n[0]);return n.map(function(t,n){return de.default.createElement("li",{key:n,onClick:e.handleClick.bind(Ot(e),t),className:e.liClasses(t),ref:function(n){t===f&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:t===f?0:-1,role:"option","aria-selected":e.isSelectedTime(t)?"true":void 0,"aria-disabled":e.isDisabledTime(t)?"true":void 0},Ut(t,r,e.props.locale))})}),e}return kt(n,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return de.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},de.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),de.default.createElement("div",{className:"react-datepicker__time"},de.default.createElement("div",{className:"react-datepicker__time-box"},de.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(de.default.Component);St(Qn,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var Jn=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"YEAR_REFS",Tt(Array(r.props.yearItemNumber)).map(function(){return de.default.createRef()})),St(Ot(r),"isDisabled",function(e){return an(e,r.props)}),St(Ot(r),"isExcluded",function(e){return on(e,r.props)}),St(Ot(r),"selectingDate",function(){var e;return null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection}),St(Ot(r),"updateFocusOnPaginate",function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(Ot(r));window.requestAnimationFrame(t)}),St(Ot(r),"handleYearClick",function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)}),St(Ot(r),"handleYearNavigation",function(e,t){var n=r.props,a=n.date,i=n.yearItemNumber,o=En(a,i).startPeriod;r.isDisabled(t)||r.isExcluded(t)||(r.props.setPreSelection(t),e-o==-1?r.updateFocusOnPaginate(i-1):e-o===i?r.updateFocusOnPaginate(0):r.YEAR_REFS[e-o].current.focus())}),St(Ot(r),"isSameDay",function(e,t){return Xt(e,t)}),St(Ot(r),"isCurrentYear",function(e){return e===Re.default(zt())}),St(Ot(r),"isRangeStart",function(e){return r.props.startDate&&r.props.endDate&&Gt(qe.default(zt(),e),r.props.startDate)}),St(Ot(r),"isRangeEnd",function(e){return r.props.startDate&&r.props.endDate&&Gt(qe.default(zt(),e),r.props.endDate)}),St(Ot(r),"isInRange",function(e){return un(e,r.props.startDate,r.props.endDate)}),St(Ot(r),"isInSelectingRange",function(e){var t=r.props,n=t.selectsStart,a=t.selectsEnd,i=t.selectsRange,o=t.startDate,s=t.endDate;return!(!(n||a||i)||!r.selectingDate())&&(n&&s?un(e,r.selectingDate(),s):(a&&o||!(!i||!o||s))&&un(e,o,r.selectingDate()))}),St(Ot(r),"isSelectingRangeStart",function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.startDate,a=t.selectsStart;return Gt(qe.default(zt(),e),a?r.selectingDate():n)}),St(Ot(r),"isSelectingRangeEnd",function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.endDate,a=t.selectsEnd,i=t.selectsRange;return Gt(qe.default(zt(),e),a||i?r.selectingDate():n)}),St(Ot(r),"isKeyboardSelected",function(e){var t=Ht(qe.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Xt(t,Ht(r.props.selected))&&Xt(t,Ht(r.props.preSelection))}),St(Ot(r),"onYearClick",function(e,t){var n=r.props.date;r.handleYearClick(Ht(qe.default(n,t)),e)}),St(Ot(r),"onYearKeyDown",function(e,t){var n=e.key;if(!r.props.disabledKeyboardNavigation)switch(n){case"Enter":r.onYearClick(e,t),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(t+1,ke.default(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(t-1,Ee.default(r.props.preSelection,1))}}),St(Ot(r),"getYearClassNames",function(e){var t=r.props,n=t.minDate,a=t.maxDate,i=t.selected,o=t.excludeDates,s=t.includeDates,l=t.filterDate;return he.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===Re.default(i),"react-datepicker__year-text--disabled":(n||a||o||s||l)&&dn(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--range-start":r.isRangeStart(e),"react-datepicker__year-text--range-end":r.isRangeEnd(e),"react-datepicker__year-text--in-range":r.isInRange(e),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(e),"react-datepicker__year-text--today":r.isCurrentYear(e)})}),St(Ot(r),"getYearTabIndex",function(e){return r.props.disabledKeyboardNavigation?"-1":e===Re.default(r.props.preSelection)?"0":"-1"}),St(Ot(r),"getYearContainerClassNames",function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd,i=e.selectsRange;return he.default("react-datepicker__year",{"react-datepicker__year--selecting-range":t&&(n||a||i)})}),St(Ot(r),"getYearContent",function(e){return r.props.renderYearContent?r.props.renderYearContent(e):e}),r}return kt(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,i=n.onYearMouseEnter,o=n.onYearMouseLeave,s=En(r,a),l=s.startPeriod,c=s.endPeriod,u=function(n){t.push(de.default.createElement("div",{ref:e.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){e.onYearKeyDown(t,n)},tabIndex:e.getYearTabIndex(n),className:e.getYearClassNames(n),onMouseEnter:function(e){return i(e,n)},onMouseLeave:function(e){return o(e,n)},key:n,"aria-current":e.isCurrentYear(n)?"date":void 0},e.getYearContent(n)))},d=l;d<=c;d++)u(d);return de.default.createElement("div",{className:this.getYearContainerClassNames()},de.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},t))}}]),n}(de.default.Component),Xn=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"onTimeChange",function(e){r.setState({time:e});var t=r.props.date,n=t instanceof Date&&!isNaN(t)?t:new Date;n.setHours(e.split(":")[0]),n.setMinutes(e.split(":")[1]),r.props.onChange(n)}),St(Ot(r),"renderTimeInput",function(){var e=r.state.time,t=r.props,n=t.date,a=t.timeString,i=t.customTimeInput;return i?de.default.cloneElement(i,{date:n,value:e,onChange:r.onTimeChange}):de.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||a)}})}),r.state={time:r.props.timeString},r}return kt(n,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__input-time-container"},de.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.default.createElement("div",{className:"react-datepicker-time__input-container"},de.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(de.default.Component);function $n(e){var t=e.className,n=e.children,r=e.showPopperArrow,a=e.arrowProps,i=void 0===a?{}:a;return de.default.createElement("div",{className:t},r&&de.default.createElement("div",jt({className:"react-datepicker__triangle"},i)),n)}var Zn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],er=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"handleClickOutside",function(e){r.props.onClickOutside(e)}),St(Ot(r),"setClickOutsideRef",function(){return r.containerRef.current}),St(Ot(r),"handleDropdownFocus",function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Zn.some(function(t){return e.indexOf(t)>=0})})(e.target)&&r.props.onDropdownFocus()}),St(Ot(r),"getDateInView",function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,i=wn(r.props),o=kn(r.props),s=zt();return a||n||t||(i&&ct.default(s,i)?i:o&&lt.default(s,o)?o:s)}),St(Ot(r),"increaseMonth",function(){r.setState(function(e){var t=e.date;return{date:xe.default(t,1)}},function(){return r.handleMonthChange(r.state.date)})}),St(Ot(r),"decreaseMonth",function(){r.setState(function(e){var t=e.date;return{date:Ne.default(t,1)}},function(){return r.handleMonthChange(r.state.date)})}),St(Ot(r),"handleDayClick",function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)}),St(Ot(r),"handleDayMouseEnter",function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)}),St(Ot(r),"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),St(Ot(r),"handleYearMouseEnter",function(e,t){r.setState({selectingDate:qe.default(zt(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)}),St(Ot(r),"handleYearMouseLeave",function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)}),St(Ot(r),"handleYearChange",function(e){r.props.onYearChange&&(r.props.onYearChange(e),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)}),St(Ot(r),"handleMonthChange",function(e){r.handleCustomMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)}),St(Ot(r),"handleCustomMonthChange",function(e){r.props.onMonthChange&&(r.props.onMonthChange(e),r.setState({isRenderAriaLiveMessage:!0}))}),St(Ot(r),"handleMonthYearChange",function(e){r.handleYearChange(e),r.handleMonthChange(e)}),St(Ot(r),"changeYear",function(e){r.setState(function(t){var n=t.date;return{date:qe.default(n,e)}},function(){return r.handleYearChange(r.state.date)})}),St(Ot(r),"changeMonth",function(e){r.setState(function(t){var n=t.date;return{date:Be.default(n,e)}},function(){return r.handleMonthChange(r.state.date)})}),St(Ot(r),"changeMonthYear",function(e){r.setState(function(t){var n=t.date;return{date:qe.default(Be.default(n,Ie.default(e)),Re.default(e))}},function(){return r.handleMonthYearChange(r.state.date)})}),St(Ot(r),"header",function(){var e=qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),t=[];return r.props.showWeekNumbers&&t.push(de.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map(function(t){var n=ye.default(e,t),a=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return de.default.createElement("div",{key:t,className:he.default("react-datepicker__day-name",i)},a)}))}),St(Ot(r),"formatWeekday",function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Ut(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Ut(e,"EEE",t)}(e,t):function(e,t){return Ut(e,"EEEEEE",t)}(e,t)}),St(Ot(r),"decreaseYear",function(){r.setState(function(e){var t=e.date;return{date:Ee.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),St(Ot(r),"clearSelectingDate",function(){r.setState({selectingDate:null})}),St(Ot(r),"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=bn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,a=void 0===r?Rt:r,i=En(Ht(Ee.default(e,a)),a).endPeriod,o=n&&Re.default(n);return o&&o>i||!1}(r.state.date,r.props);break;default:e=vn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,o=i.previousMonthButtonLabel,s=i.previousYearButtonLabel,l=r.props,c=l.previousMonthAriaLabel,u=void 0===c?"string"==typeof o?o:"Previous Month":c,d=l.previousYearAriaLabel,h=void 0===d?"string"==typeof s?s:"Previous Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},a?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),St(Ot(r),"increaseYear",function(){r.setState(function(e){var t=e.date;return{date:ke.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),St(Ot(r),"renderNextButton",function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=xn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,a=void 0===r?Rt:r,i=En(ke.default(e,a),a).startPeriod,o=n&&Re.default(n);return o&&o<i||!1}(r.state.date,r.props);break;default:e=yn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,i=r.props,o=i.nextMonthButtonLabel,s=i.nextYearButtonLabel,l=r.props,c=l.nextMonthAriaLabel,u=void 0===c?"string"==typeof o?o:"Next Month":c,d=l.nextYearAriaLabel,h=void 0===d?"string"==typeof s?s:"Next Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),St(Ot(r),"renderCurrentMonth",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),de.default.createElement("div",{className:t.join(" ")},Ut(e,r.props.dateFormat,r.props.locale))}),St(Ot(r),"renderYearDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return de.default.createElement(Pn,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Re.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),St(Ot(r),"renderMonthDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return de.default.createElement(Mn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ie.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),St(Ot(r),"renderMonthYearDropdown",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return de.default.createElement(Fn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),St(Ot(r),"handleTodayButtonClick",function(e){r.props.onSelect(Yt(),e),r.props.setPreSelection&&r.props.setPreSelection(Yt())}),St(Ot(r),"renderTodayButton",function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return de.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.handleTodayButtonClick(e)}},r.props.todayButton)}),St(Ot(r),"renderDefaultHeader",function(e){var t=e.monthDate,n=e.i;return de.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),de.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),de.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))}),St(Ot(r),"renderCustomHeader",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=vn(r.state.date,r.props),i=yn(r.state.date,r.props),o=bn(r.state.date,r.props),s=xn(r.state.date,r.props),l=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(yt(yt({},r.state),{},{customHeaderCount:n,monthDate:t,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:i,prevYearButtonDisabled:o,nextYearButtonDisabled:s})),l&&de.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))}),St(Ot(r),"renderYearHeader",function(){var e=r.state.date,t=r.props,n=t.showYearPicker,a=En(e,t.yearItemNumber),i=a.startPeriod,o=a.endPeriod;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(i," - ").concat(o):Re.default(e))}),St(Ot(r),"renderHeader",function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}}),St(Ot(r),"renderMonths",function(){var e;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var t=[],n=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=Ne.default(r.state.date,n),i=null!==(e=r.props.monthSelectedIn)&&void 0!==e?e:n,o=0;o<r.props.monthsShown;++o){var s=o-i+n,l=xe.default(a,s),c="month-".concat(o),u=o<r.props.monthsShown-1,d=o>0;t.push(de.default.createElement("div",{key:c,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:l,i:o}),de.default.createElement(Gn,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:l,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:o,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:u,monthShowsDuplicateDaysStart:d})))}return t}}),St(Ot(r),"renderYears",function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?de.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),de.default.createElement(Jn,jt({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0}),St(Ot(r),"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return de.default.createElement(Qn,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),St(Ot(r),"renderInputTimeSection",function(){var e=new Date(r.props.selected),t=Ft(e)&&Boolean(r.props.selected)?"".concat(_n(e.getHours()),":").concat(_n(e.getMinutes())):"";if(r.props.showTimeInput)return de.default.createElement(Xn,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),St(Ot(r),"renderAriaLiveRegion",function(){var e,t=En(r.state.date,r.props.yearItemNumber),n=t.startPeriod,a=t.endPeriod;return e=r.props.showYearPicker?"".concat(n," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Re.default(r.state.date):"".concat(nn(Ie.default(r.state.date),r.props.locale)," ").concat(Re.default(r.state.date)),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&e)}),St(Ot(r),"renderChildren",function(){if(r.props.children)return de.default.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=de.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return kt(n,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.props.preSelection||Xt(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Xt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Qt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}}},{key:"render",value:function(){var e=this.props.container||$n;return de.default.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.default.createElement(e,{className:he.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Rt}}}]),n}(de.default.Component),tr=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a=e.onClick,i="react-datepicker__calendar-icon";return de.default.isValidElement(t)?de.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"==typeof t.props.onClick&&t.props.onClick(e),"function"==typeof a&&a(e)}}):"string"==typeof t?de.default.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a}):de.default.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},de.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},nr=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return kt(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return mt.default.createPortal(this.props.children,this.el)}}]),n}(de.default.Component),rr=function(e){return!e.disabled&&-1!==e.tabIndex},ar=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(rr)}),St(Ot(r),"handleFocusStart",function(){var e=r.getTabChildren();e&&e.length>1&&e[e.length-1].focus()}),St(Ot(r),"handleFocusEnd",function(){var e=r.getTabChildren();e&&e.length>1&&e[0].focus()}),r.tabLoopRef=de.default.createRef(),r}return kt(n,[{key:"render",value:function(){return this.props.enableTabLoop?de.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,de.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(de.default.Component),ir=function(e){Nt(n,e);var t=Ct(n);function n(){return xt(this,n),t.apply(this,arguments)}return kt(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,a=t.hidePopper,i=t.popperComponent,o=t.popperModifiers,s=t.popperPlacement,l=t.popperProps,c=t.targetComponent,u=t.enableTabLoop,d=t.popperOnKeyDown,h=t.portalId,f=t.portalHost;if(!a){var p=he.default("react-datepicker-popper",n);e=de.default.createElement(le.Popper,jt({modifiers:o,placement:s},l),function(e){var t=e.ref,n=e.style,r=e.placement,a=e.arrowProps;return de.default.createElement(ar,{enableTabLoop:u},de.default.createElement("div",{ref:t,style:n,className:p,"data-placement":r,onKeyDown:d},de.default.cloneElement(i,{arrowProps:a})))})}this.props.popperContainer&&(e=de.default.createElement(this.props.popperContainer,{},e)),h&&!a&&(e=de.default.createElement(nr,{portalId:h,portalHost:f},e));var m=he.default("react-datepicker-wrapper",r);return de.default.createElement(le.Manager,{className:"react-datepicker-manager"},de.default.createElement(le.Reference,null,function(e){var t=e.ref;return de.default.createElement("div",{ref:t,className:m},c)}),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(de.default.Component),or="react-datepicker-ignore-onclickoutside",sr=pt.default(er),lr="Date input not valid.",cr=function(e){Nt(n,e);var t=Ct(n);function n(e){var r;return xt(this,n),St(Ot(r=t.call(this,e)),"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:zt()}),St(Ot(r),"modifyHolidays",function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return pe.default(n)?[].concat(Tt(e),[yt(yt({},t),{},{date:n})]):e},[])}),St(Ot(r),"calcInitialState",function(){var e,t=r.getPreSelection(),n=wn(r.props),a=kn(r.props),i=n&&ct.default(t,Qe.default(n))?n:a&&lt.default(t,et.default(a))?a:t;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:Sn(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),St(Ot(r),"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),St(Ot(r),"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),St(Ot(r),"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),St(Ot(r),"setOpen",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:dr},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.setBlur(),r.setState({inputValue:null})})})}),St(Ot(r),"inputOk",function(){return fe.default(r.state.preSelection)}),St(Ot(r),"isCalendarOpen",function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),St(Ot(r),"handleFocus",function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})}),St(Ot(r),"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),St(Ot(r),"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),St(Ot(r),"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),St(Ot(r),"handleDropdownFocus",function(){r.cancelFocusInput()}),St(Ot(r),"handleBlur",function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})}),St(Ot(r),"handleCalendarClickOutside",function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()}),St(Ot(r),"handleChange",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(Ot(r),t),"function"==typeof a.isDefaultPrevented&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:ur});var i,o,s,l,c,u,d,h,f=(i=a.target.value,o=r.props.dateFormat,s=r.props.locale,l=r.props.strictParsing,c=r.props.minDate,u=null,d=tn(s)||tn(en()),h=!0,Array.isArray(o)?(o.forEach(function(e){var t=ht.default(i,e,new Date,{locale:d});l&&(h=Ft(t,c)&&i===Ut(t,e,s)),Ft(t,c)&&h&&(u=t)}),u):(u=ht.default(i,o,new Date,{locale:d}),l?h=Ft(u)&&i===Ut(u,o,s):Ft(u)||(o=o.match(Lt).map(function(e){var t=e[0];return"p"===t||"P"===t?d?(0,Mt[t])(e,d.formatLong):t:e}).join(""),i.length>0&&(u=ht.default(i,o.slice(0,i.length),new Date)),Ft(u)||(u=new Date(i))),Ft(u)&&h?u:null));r.props.showTimeSelectOnly&&r.props.selected&&f&&!Xt(f,r.props.selected)&&(f=gt.default(r.props.selected,{hours:Te.default(f),minutes:Ce.default(f),seconds:Oe.default(f)})),!f&&a.target.value||(r.props.showWeekPicker&&(f=qt(f,r.props.locale,r.props.calendarStartDay)),r.setSelected(f,a,!0))}}),St(Ot(r),"handleSelect",function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.props.showWeekPicker&&(e=qt(e,r.props.locale,r.props.calendarStartDay)),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,i=a.startDate,o=a.endDate;!i||o||ct.default(e,i)||r.setOpen(!1)}}),St(Ot(r),"setSelected",function(e,t,n,a){var i=e;if(r.props.showYearPicker){if(null!==i&&dn(Re.default(i),r.props))return}else if(r.props.showMonthYearPicker){if(null!==i&&sn(i,r.props))return}else if(null!==i&&an(i,r.props))return;var o=r.props,s=o.onChange,l=o.selectsRange,c=o.startDate,u=o.endDate;if(!$t(r.props.selected,i)||r.props.allowSameDay||l)if(null!==i&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(i=Vt(i,{hour:Te.default(r.props.selected),minute:Ce.default(r.props.selected),second:Oe.default(r.props.selected)})),r.props.inline||r.setState({preSelection:i}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),l){var d=c&&u;c||u?c&&!u&&(ct.default(i,c)?s([i,null],t):s([c,i],t)):s([i,null],t),d&&s([i,null],t)}else s(i,t);n||(r.props.onSelect(i,t),r.setState({inputValue:null}))}),St(Ot(r),"setPreSelection",function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,a=!0;if(e){r.props.showWeekPicker&&(e=qt(e,r.props.locale,r.props.calendarStartDay));var i=Qe.default(e);if(t&&n)a=Zt(e,r.props.minDate,r.props.maxDate);else if(t){var o=Qe.default(r.props.minDate);a=lt.default(e,o)||$t(i,o)}else if(n){var s=et.default(r.props.maxDate);a=ct.default(e,s)||$t(i,s)}}a&&r.setState({preSelection:e})}),St(Ot(r),"toggleCalendar",function(){r.setOpen(!r.state.open)}),St(Ot(r),"handleTimeChange",function(e){var t=r.props.selected?r.props.selected:r.getPreSelection(),n=r.props.selected?e:Vt(t,{hour:Te.default(e),minute:Ce.default(e)});r.setState({preSelection:n}),r.props.onChange(n),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),St(Ot(r),"onInputClick",function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()}),St(Ot(r),"onInputKeyDown",function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(n);return void(a&&a.focus({preventScroll:!0}))}var i=zt(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===dr?(r.handleSelect(i,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(i)):r.setOpen(!1)):"Escape"===t?(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):"Tab"===t&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:lr})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()}),St(Ot(r),"onPortalKeyDown",function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),St(Ot(r),"onDayKeyDown",function(e){r.props.onKeyDown(e);var t=e.key,n=zt(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:lr});else if(!r.props.disabledKeyboardNavigation){var a;switch(t){case"ArrowLeft":a=r.props.showWeekPicker?je.default(n,1):Se.default(n,1);break;case"ArrowRight":a=r.props.showWeekPicker?be.default(n,1):ye.default(n,1);break;case"ArrowUp":a=je.default(n,1);break;case"ArrowDown":a=be.default(n,1);break;case"PageUp":a=Ne.default(n,1);break;case"PageDown":a=xe.default(n,1);break;case"Home":a=Ee.default(n,1);break;case"End":a=ke.default(n,1);break;default:a=null}if(!a)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:lr}));if(e.preventDefault(),r.setState({lastPreSelectChange:dr}),r.props.adjustDateOnChange&&r.setSelected(a),r.setPreSelection(a),r.props.inline){var i=Ie.default(n),o=Ie.default(a),s=Re.default(n),l=Re.default(a);i!==o||s!==l?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),St(Ot(r),"onPopperKeyDown",function(e){"Escape"===e.key&&(e.preventDefault(),r.sendFocusBackToInput())}),St(Ot(r),"onClearClick",function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],e):r.props.onChange(null,e),r.setState({inputValue:null})}),St(Ot(r),"clear",function(){r.onClearClick()}),St(Ot(r),"onScroll",function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)}),St(Ot(r),"renderCalendar",function(){return r.props.inline||r.isCalendarOpen()?de.default.createElement(sr,{ref:function(e){r.calendar=e},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:jn(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:or,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null}),St(Ot(r),"renderAriaLiveRegion",function(){var e,t=r.props,n=t.dateFormat,a=t.locale,i=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Bt(r.props.startDate,{dateFormat:i,locale:a}),". ").concat(r.props.endDate?"End date: "+Bt(r.props.endDate,{dateFormat:i,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Bt(r.props.selected,{dateFormat:n,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Bt(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Bt(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Bt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Bt(r.props.selected,{dateFormat:i,locale:a})),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)}),St(Ot(r),"renderDateInput",function(){var e,t=he.default(r.props.className,St({},or,r.state.open)),n=r.props.customInput||de.default.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",i="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Bt(e,n),a=t?Bt(t,n):"";return"".concat(r," - ").concat(a)}(r.props.startDate,r.props.endDate,r.props):Bt(r.props.selected,r.props);return de.default.cloneElement(n,(St(St(St(St(St(St(St(St(St(St(e={},a,function(e){r.input=e}),"value",i),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),St(St(St(St(St(St(St(St(St(St(e,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",he.default(n.props.className,t)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),St(St(St(e,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),St(Ot(r),"renderClearButton",function(){var e=r.props,t=e.isClearable,n=e.disabled,a=e.selected,i=e.startDate,o=e.endDate,s=e.clearButtonTitle,l=e.clearButtonClassName,c=void 0===l?"":l,u=e.ariaLabelClose,d=void 0===u?"Close":u;return!t||null==a&&null==i&&null==o?null:de.default.createElement("button",{type:"button",className:he.default("react-datepicker__close-icon",c,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:r.onClearClick,title:s,tabIndex:-1})}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return kt(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Ie.default(n)!==Ie.default(r)||Re.default(n)!==Re.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Sn(this.props.highlightDates)}),t.focused||$t(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,a=e.toggleCalendarOnIconClick,i=this.state.open;return de.default.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&de.default.createElement(tr,jt({icon:n,className:"".concat(r," ").concat(i&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?de.default.createElement(ar,{enableTabLoop:this.props.enableTabLoop},de.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=de.default.createElement(nr,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),de.default.createElement("div",null,this.renderInputContainer(),t)}return de.default.createElement(ir,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rt,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1}}}]),n}(de.default.Component),ur="input",dr="navigate";e.CalendarContainer=$n,e.default=cr,e.getDefaultLocale=en,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(5043),n(5173),n(8139),n(2733),n(5541),n(9993),n(129),n(5891),n(7860),n(2325),n(6819),n(7461),n(234),n(9170),n(5410),n(3498),n(1032),n(7609),n(7872),n(7400),n(4998),n(3275),n(8667),n(7447),n(1627),n(9129),n(5972),n(8150),n(4028),n(812),n(6802),n(3778),n(1949),n(2950),n(775),n(5277),n(6740),n(3764),n(9275),n(5780),n(238),n(2128),n(4122),n(4975),n(6087),n(1555),n(6255),n(3150),n(7583),n(407),n(2431),n(2382),n(5125),n(8349),n(7278),n(9519),n(6260),n(6887),n(5093),n(2547),n(7950),n(7099),n(779))},1949:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8355),a=n(6260),i=n(3778),o=n(3666);function s(e,t){(0,o.A)(2,arguments);var n=(0,a.default)(e),s=(0,r.A)(t)-(Math.floor(n.getMonth()/3)+1);return(0,i.default)(n,n.getMonth()+3*s)}},2026:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>r,_m:()=>i,s0:()=>a});Math.pow(10,8);var r=6e4,a=36e5,i=1e3},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),a=n(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},2128:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(8268),i=n(870),o=n(4803),s=n(9972);function l(e,t,n,a){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let i=0;i<a.length;i++){const s=a[i];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,a);case"function":return Object.keys(t).length>0?l(e,r({},t),n,a):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],o,i,e,t,r)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?a.isMatch(e,t):l(e,t,function e(t,r,a,i,o,s){const c=n(t,r,a,i,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},2199:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const a=function(e,t,n){var a,i=r[e];return a="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};var i=n(5258);const o={date:(0,i.A)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.A)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.A)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const l=function(e,t,n,r){return s[e]};var c=n(9344);const u={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,c.A)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,c.A)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,c.A)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,c.A)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,c.A)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};var d=n(4240);const h={code:"en-US",formatDistance:a,formatLong:o,formatRelative:l,localize:u,match:{ordinalNumber:(0,n(4734).A)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,d.A)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,d.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,d.A)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,d.A)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,d.A)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),a=n(7312),i=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},2217:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(6260),a=n(3666),i=n(9511),o=n(8355),s=n(2239);function l(e,t){var n,l,c,u,d,h,f,p;(0,a.A)(1,arguments);var m=(0,r.default)(e),g=m.getUTCFullYear(),v=(0,s.q)(),y=(0,o.A)(null!==(n=null!==(l=null!==(c=null!==(u=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null===t||void 0===t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:v.firstWeekContainsDate)&&void 0!==l?l:null===(f=v.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,y),b.setUTCHours(0,0,0,0);var x=(0,i.A)(b,t),w=new Date(0);w.setUTCFullYear(g,0,y),w.setUTCHours(0,0,0,0);var k=(0,i.A)(w,t);return m.getTime()>=x.getTime()?g+1:m.getTime()>=k.getTime()?g:g-1}},2239:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r={};function a(){return r}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(7860),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=7*(0,r.A)(t);return(0,a.default)(e,n)}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return s(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()}},2431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:()=>p,default:()=>g});var r=n(5043),a=n(7950);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,c,u=(void 0===l&&(l=0),function(){return++l}),d={},h={},f=["touchstart","touchmove"],p="ignore-react-onclickoutside";function m(e,t){var n={};return-1!==f.indexOf(t)&&c&&(n.passive=!e.props.preventDefault),n}const g=function(e,t){var n,l,f=e.displayName||e.name||"Component";return l=n=function(n){var l,p;function g(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,a.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!h[r._uid]){"undefined"===typeof c&&(c=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),h[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),d[r._uid]=function(e){var t;null!==r.componentNode&&(r.initTimeStamp>e.timeStamp||(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&s(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e)))},e.forEach(function(e){document.addEventListener(e,d[r._uid],m(o(r),e))})}},r.disableOnClickOutside=function(){delete h[r._uid];var e=d[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach(function(t){return document.removeEventListener(t,e,m(o(r),t))}),delete d[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=u(),r.initTimeStamp=performance.now(),r}p=n,(l=g).prototype=Object.create(p.prototype),l.prototype.constructor=l,i(l,p);var v=g.prototype;return v.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},v.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},v.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},v.componentWillUnmount=function(){this.disableOnClickOutside()},v.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},g}(r.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:p,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),a=n(7330),i=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,L=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,je=null;function Ne(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function _e(e){Se?je?je.push(e):je=[e]:Se=e}function Ee(){if(Se){var e=Se,t=je;if(je=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Ce(){}var Te=!1;function De(e,t,n){if(Te)return e(t,n);Te=!0;try{return Oe(e,t,n)}finally{Te=!1,(null!==Se||null!==je)&&(Ce(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ae=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Ae=!1}function Me(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,ze=!1,Fe=null,Ue={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,a,i,o,s,l){Re=!1,Le=null,Me.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return We(a),e;if(o===r)return We(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,jt,Nt,_t=!1,Et=[],Ot=null,Ct=null,Tt=null,Dt=new Map,Pt=new Map,At=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Nt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ot&&zt(Ot)&&(Ot=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),Dt.forEach(Ft),Pt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Bt(Ot,e),null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var qt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var a=bt,i=qt.transition;qt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=a,qt.transition=i}}function Kt(e,t,n,r){var a=bt,i=qt.transition;qt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=a,qt.transition=i}}function Yt(e,t,n,r){if(Wt){var a=Qt(e,t,n,r);if(null===a)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ot=Rt(Ot,e,t,n,r,a),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,a),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Dt.set(i,Rt(Dt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,Rt(Pt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=ya(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Nn(){return jn}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(_n),On=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),An=[9,13,27,32],In=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!In||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Gn(e){zr(e,0)}function Qn(e){if(Y(xa(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];Hn(t,Yn,e,we(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},jr={};function Nr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return Sr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var _r=Nr("animationend"),Er=Nr("animationiteration"),Or=Nr("animationstart"),Cr=Nr("transitionend"),Tr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Dr.length;Ar++){var Ir=Dr[Ar];Pr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Or,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,ze||(ze=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var a=Ht;break;case 4:a=Kt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}De(function(){var r=i,a=we(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _r:case Er:case Or:l=vn;break;case Cr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xa(l),f=null==c?s:xa(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Wn(s))if(Xn)g=or;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(o,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xa(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,a)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):($t="value"in(Xt=a)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),Zt=$t=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}zr(o,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,a)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Pe(n,i))&&o.unshift(Hr(n,l,s)):a||null!=(l=Pe(n,i))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var ka=[],Sa=-1;function ja(e){return{current:e}}function Na(e){0>Sa||(e.current=ka[Sa],ka[Sa]=null,Sa--)}function _a(e,t){Sa++,ka[Sa]=e.current,e.current=t}var Ea={},Oa=ja(Ea),Ca=ja(!1),Ta=Ea;function Da(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Na(Ca),Na(Oa)}function Ia(e,t,n){if(Oa.current!==Ea)throw Error(i(168));_a(Oa,t),_a(Ca,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,q(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ta=Oa.current,_a(Oa,e),_a(Ca,Ca.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ma(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Na(Ca),Na(Oa),_a(Oa,e)):Na(Ca),_a(Ca,n)}var za=null,Fa=!1,Ua=!1;function Ba(e){null===za?za=[e]:za.push(e)}function Va(){if(!Ua&&null!==za){Ua=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Fa=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ye(Ze,Va),a}finally{bt=t,Ua=!1}}return null}var qa=[],Wa=0,Ha=null,Ka=0,Ya=[],Ga=0,Qa=null,Ja=1,Xa="";function $a(e,t){qa[Wa++]=Ka,qa[Wa++]=Ha,Ha=e,Ka=t}function Za(e,t,n){Ya[Ga++]=Ja,Ya[Ga++]=Xa,Ya[Ga++]=Qa,Qa=e;var r=Ja;e=Xa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ja=1<<32-ot(t)+a|n<<a|r,Xa=i+e}else Ja=1<<i|n<<a|r,Xa=e}function ei(e){null!==e.return&&($a(e,1),Za(e,1,0))}function ti(e){for(;e===Ha;)Ha=qa[--Wa],qa[Wa]=null,Ka=qa[--Wa],qa[Wa]=null;for(;e===Qa;)Qa=Ya[--Ga],Ya[Ga]=null,Xa=Ya[--Ga],Ya[Ga]=null,Ja=Ya[--Ga],Ya[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&yi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(a,d),ai&&$a(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&$a(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&$a(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ai&&$a(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return ai&&$a(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&$a(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&yi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Ic(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(o,r.mode,l)).return=r,r=i}return s(r);case P:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=bi(!0),wi=bi(!1),ki=ja(null),Si=null,ji=null,Ni=null;function _i(){Ni=ji=Si=null}function Ei(e){var t=ki.current;Na(ki),e._currentValue=t}function Oi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Si=e,Ni=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Ni!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===Si)throw Error(i(308));ji=e,Si.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Di=null;function Pi(e){null===Di?Di=[e]:Di.push(e)}function Ai(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Pi(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,Pi(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var a=e.updateQueue;Mi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Wi={},Hi=ja(Wi),Ki=ja(Wi),Yi=ja(Wi);function Gi(e){if(e===Wi)throw Error(i(174));return e}function Qi(e,t){switch(_a(Yi,t),_a(Ki,e),_a(Hi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Hi),_a(Hi,t)}function Ji(){Na(Hi),Na(Ki),Na(Yi)}function Xi(e){Gi(Yi.current);var t=Gi(Hi.current),n=le(t,e.type);t!==n&&(_a(Ki,e),_a(Hi,n))}function $i(e){Ki.current===e&&(Na(Hi),Na(Ki))}var Zi=ja(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,ao=x.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=$o,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function jo(e,t){var n=oo,r=bo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,Ro(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Do(9,_o.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&io)||No(n,t,a)}return a}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _o(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Co(e)}function Eo(e,t,n){return n(function(){Oo(t)&&Co(e)})}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Co(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function To(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Ao(e,t,n,r){var a=yo();oo.flags|=e,a.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Io(e,t,n,r){var a=bo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=Do(t,n,i,r))}oo.flags|=e,a.memoizedState=Do(1|t,n,i,r)}function Mo(e,t){return Ao(8390656,8,e,t)}function Ro(e,t){return Io(2048,8,e,t)}function Lo(e,t){return Io(4,2,e,t)}function zo(e,t){return Io(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4,4,Fo.bind(null,t,e),n)}function Bo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ho(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Yo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Jo(t,n);else if(null!==(n=Ai(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Go(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Jo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Pi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ai(e,t,a,r))&&(nc(n,e,r,a=ec()),Xo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $o={readContext:Ti,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ti,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:To,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=yo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&io)||No(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,_o.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Cl.identifierPrefix;if(ai){var n=Xa;t=":"+t+"R"+(n=(Ja&~(1<<32-ot(Ja)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ti,useCallback:Vo,useContext:Ti,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:qo,useReducer:wo,useRef:Po,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ti,useCallback:Vo,useContext:Ti,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:zo,useMemo:qo,useReducer:ko,useRef:Po,useState:function(){return ko(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[ko(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Ui(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=zi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(nc(t,e,a,r),Ui(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=Ea,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(a=Pa(t)?Ta:Oa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Da(e,a):Ea),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ti(i):(i=Pa(t)?Ta:Oa.current,a.context=Da(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ys=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wi(t,null,n,r):xi(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var i=t.ref;return Ci(t,a),r=go(e,t,n,r,i,a),n=vo(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,xs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function ks(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,(e=Ac(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ws(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return _s(e,t,n,r,a)}function js(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Al,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Al,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_a(Al,Pl),Pl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_a(Al,Pl),Pl|=r;return xs(e,t,a,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,a){var i=Pa(n)?Ta:Oa.current;return i=Da(t,i),Ci(t,a),n=go(e,t,n,r,i,a),r=vo(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,xs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function Es(e,t,n,r,a){if(Pa(n)){var i=!0;Ra(t)}else i=!1;if(Ci(t,a),null===t.stateNode)qs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Da(t,c=Pa(n)?Ta:Oa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Mi=!1;var h=t.memoizedState;o.state=h,Vi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Ca.current||Mi?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mi||is(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Da(t,l=Pa(n)?Ta:Oa.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Mi=!1,h=t.memoizedState,o.state=h,Vi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Ca.current||Mi?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mi||is(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,i,a)}function Os(e,t,n,r,a,i){Ns(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Ws(e,t,i);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Qi(e,t.containerInfo)}function Ts(e,t,n,r,a){return fi(),pi(a),t.flags|=256,xs(e,t,n,r),t.child}var Ds,Ps,As,Is,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_a(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ii(e,a),nc(r,e,a,-1))}return mc(),Fs(e,t,s,r=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Ga++]=Ja,Ya[Ga++]=Xa,Ya[Ga++]=Qa,Ja=e.id,Xa=e.overflow,Qa=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ac(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ac(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pi(r),xi(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oi(e.return,t,n)}function Bs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pa(t.type)&&Aa(),Ks(t),null;case 3:return r=t.stateNode,Ji(),Na(Ca),Na(Oa),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ps(e,t),Ks(t),null;case 5:$i(t);var a=Gi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=Gi(Hi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Fr(Mr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":J(e,r),a=Q(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Yi.current),Gi(Hi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ks(t),null;case 13:if(Na(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Ji(),Ps(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ei(t.type._context),Ks(t),null;case 19:if(Na(Zi),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Hs(o,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zi.current,_a(Zi,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gs(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Na(Ca),Na(Oa),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $i(t),null;case 13:if(Na(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(Zi),null;case 4:return Ji(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},As=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gi(Hi.current);var i,o=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,$s=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||Zs(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Vt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Js&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){jc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hl(e,t,n),Js=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":$(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){jc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){jc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,ml(t,e),Js=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(h=$s=d;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,$s=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){jc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var a=$s,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Qs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Qs;var c=Js;if(Qs=o,(Js=l)&&!c)for($s=a;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?kl(a):null!==l?(l.return=o,$s=l):kl(a);for(;null!==i;)$s=i,bl(i,t,n),i=i.sibling;$s=a,Qs=s,Js=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,$s=i):xl(e)}}function xl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Js||512&t.flags&&al(t)}catch(f){jc(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function kl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var i=t.return;try{al(t)}catch(l){jc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){jc(t,o,l)}}}catch(l){jc(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Sl,jl=Math.ceil,Nl=x.ReactCurrentDispatcher,_l=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Ol=0,Cl=null,Tl=null,Dl=0,Pl=0,Al=ja(0),Il=0,Ml=null,Rl=0,Ll=0,zl=0,Fl=null,Ul=null,Bl=0,Vl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Yl=!1,Gl=null,Ql=0,Jl=0,Xl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Ol)?Xe():-1!==$l?$l:$l=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Dl?Dl&-Dl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(i(185));vt(e,n,r),0!==(2&Ol)&&e===Cl||(e===Cl&&(0===(2&Ol)&&(Ll|=n),4===Il&&sc(e,Dl)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Vl=Xe()+500,Fa&&Va()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Cl?Dl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),oa(function(){0===(6&Ol)&&Va()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($l=-1,Zl=0,0!==(6&Ol))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Ol;Ol|=2;var o=pc();for(Cl===e&&Dl===t||(ql=null,Vl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}_i(),Nl.current=o,Ol=a,null!==Tl?t=0:(Cl=null,Dl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ul,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ul,ql),t);break}wc(e,Ul,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ul,ql),r);break}wc(e,Ul,ql);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function sc(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,ql),rc(e,Xe()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Vl=Xe()+500,Fa&&Va())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Ol)&&kc();var t=Ol;Ol|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Ol=t))&&Va()}}function dc(){Pl=Al.current,Na(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Ji(),Na(Ca),Na(Oa),no();break;case 5:$i(r);break;case 4:Ji();break;case 13:case 19:Na(Zi);break;case 10:Ei(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Tl=e=Ac(e.current,null),Dl=Pl=t,Il=0,Ml=null,zl=Ll=Rl=0,Ul=Fl=null,null!==Di){for(t=0;t<Di.length;t++)if(null!==(r=(n=Di[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Di=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(_i(),ro.current=$o,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,_l.current=null,null===n||null===n.return){Il=1,Ml=t,Tl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Il&&(Il=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,fs(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=Nl.current;return Nl.current=$o,null===e?$o:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Cl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Cl,Dl)}function gc(e,t){var n=Ol;Ol|=2;var r=pc();for(Cl===e&&Dl===t||(ql=null,hc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(_i(),Ol=n,Nl.current=r,null!==Tl)throw Error(i(261));return Cl=null,Dl=0,Il}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Qe();)bc(Tl)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,_l.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Pl)))return void(Tl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Il=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var r=bt,a=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Gl);if(0!==(6&Ol))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Cl&&(Tl=Cl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Cc(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,_l.current=null,function(e,t){if(ea=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Je(),Ol=l,bt=s,El.transition=o}else e.current=n;if(Yl&&(Yl=!1,Gl=e,Ql=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Va()}(e,t,n,r)}finally{El.transition=a,bt=r}return null}function kc(){if(null!==Gl){var e=xt(Ql),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Ol))throw Error(i(331));var a=Ol;for(Ol|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($s=u;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,$s=h;else for(;null!==$s;){var f=(d=$s).sibling,p=d.return;if(il(d),d===u){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var x=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,$s=x;else e:for(s=b;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){jc(l,l.return,k)}if(l===s){$s=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$s=w;break e}$s=l.return}}if(Ol=a,Va(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function Sc(e,t,n){e=Fi(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Dl&n)===n&&(4===Il||3===Il&&(130023424&Dl)===Dl&&500>Xe()-Bl?hc(e,0):zl|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ii(e,t))&&(vt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_c(e,n)}function Cc(e,t){return Ye(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Tc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,a,o,t);case j:s=8,a|=8;break;case N:return(e=Dc(12,n,t,2|a)).elementType=N,e.lanes=o,e;case C:return(e=Dc(13,n,t,a)).elementType=C,e.lanes=o,e;case T:return(e=Dc(19,n,t,a)).elementType=T,e.lanes=o,e;case A:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case E:s=9;break e;case O:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,i,o,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Dc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Bc(e){if(!e)return Ea;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Ma(e,n,t)}return t}function Vc(e,t,n,r,a,i,o,s,l){return(e=Uc(n,r,!0,e,0,i,0,s,l)).context=Bc(null),n=e.current,(i=zi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function qc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(nc(e,a,o,i),Ui(e,a,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),fi();break;case 5:Xi(t);break;case 1:Pa(t.type)&&Ra(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(ki,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(_a(Zi,1&Zi.current),null!==(e=Ws(e,t,n))?e.sibling:null);_a(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,js(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=Da(t,Oa.current);Ci(t,n),a=go(null,t,r,e,a,n);var o=vo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),xs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===D)return 14}return 2}(r),e=ns(r,e),a){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Cs(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Li(e,t),Vi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Ts(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Ws(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Ns(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,_a(ki,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ca.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=zi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Oi(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Oi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ci(t,n),r=r(a=Ti(a)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),ks(e,t,r,a=ns(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),qs(e,t),t.tag=1,Pa(r)?(e=!0,Ra(t)):e=!1,Ci(t,n),os(t,r,a),ls(t,r,a,n),Os(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return js(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Wc(o);s.call(e)}}qc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wc(o);i.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pa]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pa]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,a,r);return Wc(o)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Ol)&&(Vl=Xe()+500,Va()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},jt=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));Y(r),$(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,_e,Ee,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2284),a=n(3666);function i(e){return(0,a.A)(1,arguments),e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2897:(e,t,n)=>{var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(o),n)}},3150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3275:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getDay()}},3498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6819),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.default)(e,-n)}},3666:(e,t,n)=>{"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>r})},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},3778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,o,15),c.setHours(0,0,0,0);var u=function(e){(0,i.A)(1,arguments);var t=(0,a.default)(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}(c);return n.setMonth(o,Math.min(l,u)),n}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),a=n(1203),i=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},3902:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=v(n(5173)),o=v(n(1783)),s=n(5889),l=n(3974),c=v(n(5277)),u=v(n(9519)),d=v(n(775)),h=v(n(7860)),f=v(n(6740)),p=v(n(7278)),m=v(n(8139)),g=v(n(5237));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return N(e)}(this,n)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,n,r,i=j(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),E(N(n=i.call(this,e,t)),"calcNewSelection",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.props.focusedRange||n.state.focusedRange,a=n.props,i=a.ranges,o=a.onChange,s=a.maxDate,m=a.moveRangeOnFirstSelection,g=a.retainEndDateOnFirstSelection,v=a.disabledDates,y=i[r[0]];if(!y||!o)return{};var b,x=y.startDate,w=y.endDate,k=new Date;if(t)if(0===r[1]){var S=(0,f.default)(w||k,x);x=e,w=m?(0,h.default)(e,S):g?!w||(0,p.default)(e,w)?w:e:e||k,s&&(w=(0,d.default)([w,s])),b=[r[0],1]}else w=e;else x=e.startDate,w=e.endDate;var j=0===r[1];if((0,p.default)(w,x)){j=!j;var N=[w,x];x=N[0],w=N[1]}var _=v.filter(function(e){return(0,u.default)(e,{start:x,end:w})});(_.length>0&&(j?x=(0,h.default)((0,c.default)(_),1):w=(0,h.default)((0,d.default)(_),-1)),b)||(b=[(0,l.findNextRangeIndex)(n.props.ranges,r[0]),0]);return{wasValid:!(_.length>0),range:{startDate:x,endDate:w},nextFocusRange:b}}),E(N(n),"setSelection",function(e,t){var r=n.props,a=r.onChange,i=r.ranges,o=r.onRangeFocusChange,s=(n.props.focusedRange||n.state.focusedRange)[0],l=i[s];if(l){var c=n.calcNewSelection(e,t);a(E({},l.key||"range".concat(s+1),w(w({},l),c.range))),n.setState({focusedRange:c.nextFocusRange,preview:null}),o&&o(c.nextFocusRange)}}),E(N(n),"handleRangeFocusChange",function(e){n.setState({focusedRange:e}),n.props.onRangeFocusChange&&n.props.onRangeFocusChange(e)}),E(N(n),"updatePreview",function(e){var t;if(e){var r=n.props,a=r.rangeColors,i=r.ranges,o=n.props.focusedRange||n.state.focusedRange,s=(null===(t=i[o[0]])||void 0===t?void 0:t.color)||a[o[0]]||s;n.setState({preview:w(w({},e.range),{},{color:s})})}else n.setState({preview:null})}),n.state={focusedRange:e.initialFocusedRange||[(0,l.findNextRangeIndex)(e.ranges),0],preview:null},n.styles=(0,l.generateStyles)([g.default,e.classNames]),n}return t=s,(n=[{key:"render",value:function(){var e=this;return a.default.createElement(o.default,b({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function(t){e.updatePreview(t?e.calcNewSelection(t):null)}},this.props,{displayMode:"dateRange",className:(0,m.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function(t){return e.setSelection(t,!1)},ref:function(t){e.calendar=t}}))}}])&&k(t.prototype,n),r&&k(t,r),s}(a.Component);O.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},O.propTypes=w(w({},o.default.propTypes),{},{onChange:i.default.func,onRangeFocusChange:i.default.func,className:i.default.string,ranges:i.default.arrayOf(s.rangeShape),moveRangeOnFirstSelection:i.default.bool,retainEndDateOnFirstSelection:i.default.bool});var C=O;t.default=C},3974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcFocusDate=function(e,t){var n,r=t.shownDate,a=t.date,o=t.months,s=t.ranges,l=t.focusedRange;if("dateRange"===t.displayMode){var d=s[l[0]]||{};n={start:d.startDate,end:d.endDate}}else n={start:a,end:a};n.start=(0,u.default)(n.start||new Date),n.end=(0,c.default)(n.end||n.start);var h=n.start||n.end||r||new Date;if(!e)return r||h;if((0,i.default)(n.start,n.end)>o)return e;return h},t.findNextRangeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.findIndex(function(e,n){return n>t&&!1!==e.autoFocus&&!e.disabled});return-1!==n?n:e.findIndex(function(e){return!1!==e.autoFocus&&!e.disabled})},t.getMonthDisplayRange=function(e,t,n){var r=(0,u.default)(e,t),i=(0,c.default)(e,t),d=(0,l.default)(r,t),h=(0,s.default)(i,t);n&&(0,o.default)(h,d)<=34&&(h=(0,a.default)(h,7));return{start:d,end:h,startDateOfMonth:r,endDateOfMonth:i}},t.generateStyles=function(e){return e.length?e.filter(function(e){return Boolean(e)}).reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=(0,r.default)(e[n],t[n])}),e},{}):{}};var r=d(n(8139)),a=d(n(7860)),i=d(n(3764)),o=d(n(6740)),s=d(n(1555)),l=d(n(238)),c=d(n(6255)),u=d(n(2128));function d(e){return e&&e.__esModule?e:{default:e}}},4016:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=d(n(5173)),o=d(n(3902)),s=d(n(1751)),l=n(3974),c=d(n(8139)),u=d(n(5237));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(d,e);var t,n,r,i=b(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=i.call(this,e)).state={focusedRange:[(0,l.findNextRangeIndex)(e.ranges),0]},t.styles=(0,l.generateStyles)([u.default,e.classNames]),t}return t=d,(n=[{key:"render",value:function(){var e=this,t=this.state.focusedRange;return a.default.createElement("div",{className:(0,c.default)(this.styles.dateRangePickerWrapper,this.props.className)},a.default.createElement(s.default,g({focusedRange:t,onPreviewChange:function(t){return e.dateRange.updatePreview(t?e.dateRange.calcNewSelection(t,"string"===typeof t):null)}},this.props,{range:this.props.ranges[t[0]],className:void 0})),a.default.createElement(o.default,g({onRangeFocusChange:function(t){return e.setState({focusedRange:t})},focusedRange:t},this.props,{ref:function(t){return e.dateRange=t},className:void 0})))}}])&&v(t.prototype,n),r&&v(t,r),d}(a.Component);w.defaultProps={},w.propTypes=p(p(p({},o.default.propTypes),s.default.propTypes),{},{className:i.default.string});var k=w;t.default=k},4028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);return n.setSeconds(o),n}},4122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}},4123:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(6260),a=n(9511),i=n(2217),o=n(3666),s=n(8355),l=n(2239);var c=6048e5;function u(e,t){(0,o.A)(1,arguments);var n=(0,r.default)(e),u=(0,a.A)(n,t).getTime()-function(e,t){var n,r,c,u,d,h,f,p;(0,o.A)(1,arguments);var m=(0,l.q)(),g=(0,s.A)(null!==(n=null!==(r=null!==(c=null!==(u=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null===t||void 0===t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:m.firstWeekContainsDate)&&void 0!==r?r:null===(f=m.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1),v=(0,i.A)(e,t),y=new Date(0);return y.setUTCFullYear(v,0,g),y.setUTCHours(0,0,0,0),(0,a.A)(y,t)}(n,t).getTime();return Math.round(u/c)+1}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+O(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),C(o,t,a,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+O(s=e[c],c);l+=C(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,a,u=i+O(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},4240:(e,t,n)=>{"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o,s=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(s)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(s)});return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}n.d(t,{A:()=>r})},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4410:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e).getTime(),o=(0,r.A)(t);return new Date(n+o)}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(816);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>s,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),o=r.Headers,s=r.Request,l=r.Response},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4734:(e,t,n)=>{"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}n.d(t,{A:()=>r})},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const o=null!=a&&a.includes("leading"),s=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},4967:(e,t,n)=>{"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{A:()=>r})},4975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},4998:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getHours()}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),a=n(9599),i=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(2026),a=n(3666),i=n(8355);function o(e,t){var n;(0,a.A)(1,arguments);var o=(0,i.A)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var m,g=function(e){var t,n={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=s.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(g.date){var v=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(g.date,o);m=function(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var r=!!n[4],a=d(n[1]),i=d(n[2])-1,o=d(n[3]),s=d(n[4]),c=d(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,i=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,c):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(f[t]||(p(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=(p(e)?366:365)}(t,a)?(u.setUTCFullYear(t,i,Math.max(a,o)),u):new Date(NaN)}(v.restDateString,v.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var y,b=m.getTime(),x=0;if(g.time&&(x=function(e){var t=e.match(c);if(!t)return NaN;var n=h(t[1]),a=h(t[2]),i=h(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,i))return NaN;return n*r.s0+a*r.Cg+1e3*i}(g.time),isNaN(x)))return new Date(NaN);if(!g.timezone){var w=new Date(b+x),k=new Date(0);return k.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),k.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),k}return y=function(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(a*r.s0+i*r.Cg)}(g.timezone),isNaN(y)?new Date(NaN):new Date(b+x+y)}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function h(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400===0||e%4===0&&e%100!==0}},5125:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(4122),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},5173:(e,t,n)=>{e.exports=n(1497)()},5237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"}},5258:(e,t,n)=>{"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}n.d(t,{A:()=>r})},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(2284),a=n(6260),i=n(3666);function o(e){var t,n;if((0,i.A)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,r.A)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,a.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),a=n(4704),i=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),a=n(7043),i=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},5410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(2325),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.default)(e,-n)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),a=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,i,o,s)=>{const l=null===t||void 0===t?void 0:t(n,i,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(2733),a=n(6260),i=n(3666);function o(e){if((0,i.A)(1,arguments),!(0,r.default)(e)&&"number"!==typeof e)return!1;var t=(0,a.default)(e);return!isNaN(Number(t))}},5736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(7374));class i extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=i},5745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},5780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},5889:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.rangeShape=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=f(n(5173)),o=f(n(8139)),s=f(n(6087)),l=f(n(7278)),c=f(n(8349)),u=f(n(407)),d=f(n(9993)),h=f(n(5780));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return S(e)}(this,n)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(f,e);var t,n,r,i=k(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),N(S(n=i.call(this,e,t)),"handleKeyEvent",function(e){var t=n.props,r=t.day,a=t.onMouseDown,i=t.onMouseUp;[13,32].includes(e.keyCode)&&("keydown"===e.type?a(r):i(r))}),N(S(n),"handleMouseEvent",function(e){var t=n.props,r=t.day,a=t.disabled,i=t.onPreviewChange,o=t.onMouseEnter,s=t.onMouseDown,l=t.onMouseUp,c={};if(a)i();else{switch(e.type){case"mouseenter":o(r),i(r),c.hover=!0;break;case"blur":case"mouseleave":c.hover=!1;break;case"mousedown":c.active=!0,s(r);break;case"mouseup":e.stopPropagation(),c.active=!1,l(r);break;case"focus":i(r)}Object.keys(c).length&&n.setState(c)}}),N(S(n),"getClassNames",function(){var e,t=n.props,r=t.isPassive,a=t.isToday,i=t.isWeekend,s=t.isStartOfWeek,l=t.isEndOfWeek,c=t.isStartOfMonth,u=t.isEndOfMonth,d=t.disabled,h=t.styles;return(0,o.default)(h.day,(N(e={},h.dayPassive,r),N(e,h.dayDisabled,d),N(e,h.dayToday,a),N(e,h.dayWeekend,i),N(e,h.dayStartOfWeek,s),N(e,h.dayEndOfWeek,l),N(e,h.dayStartOfMonth,c),N(e,h.dayEndOfMonth,u),N(e,h.dayHovered,n.state.hover),N(e,h.dayActive,n.state.active),e))}),N(S(n),"renderPreviewPlaceholder",function(){var e,t=n.props,r=t.preview,i=t.day,d=t.styles;if(!r)return null;var f=r.startDate?(0,s.default)(r.startDate):null,p=r.endDate?(0,h.default)(r.endDate):null,m=(!f||(0,c.default)(i,f))&&(!p||(0,l.default)(i,p)),g=!m&&(0,u.default)(i,f),v=!m&&(0,u.default)(i,p);return a.default.createElement("span",{className:(0,o.default)((e={},N(e,d.dayStartPreview,g),N(e,d.dayInPreview,m),N(e,d.dayEndPreview,v),e)),style:{color:r.color}})}),N(S(n),"renderSelectionPlaceholders",function(){var e=n.props,t=e.styles,r=e.ranges,i=e.day;return"date"===n.props.displayMode?(0,u.default)(n.props.day,n.props.date)?a.default.createElement("span",{className:t.selected,style:{color:n.props.color}}):null:r.reduce(function(e,t){var n=t.startDate,r=t.endDate;if(n&&r&&(0,l.default)(r,n)){var a=[r,n];n=a[0],r=a[1]}n=n?(0,s.default)(n):null,r=r?(0,h.default)(r):null;var o=(!n||(0,c.default)(i,n))&&(!r||(0,l.default)(i,r)),d=!o&&(0,u.default)(i,n),f=!o&&(0,u.default)(i,r);return o||d||f?[].concat(y(e),[v({isStartEdge:d,isEndEdge:f,isInRange:o},t)]):e},[]).map(function(e,r){var i;return a.default.createElement("span",{key:r,className:(0,o.default)((i={},N(i,t.startEdge,e.isStartEdge),N(i,t.endEdge,e.isEndEdge),N(i,t.inRange,e.isInRange),i)),style:{color:e.color||n.props.color}})})}),n.state={hover:!1,active:!1},n}return t=f,(n=[{key:"render",value:function(){var e=this.props.dayContentRenderer;return a.default.createElement("button",m({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),a.default.createElement("span",{className:this.props.styles.dayNumber},(null===e||void 0===e?void 0:e(this.props.day))||a.default.createElement("span",null,(0,d.default)(this.props.day,this.props.dayDisplayFormat))))}}])&&x(t.prototype,n),r&&x(t,r),f}(a.Component);_.defaultProps={};var E=i.default.shape({startDate:i.default.object,endDate:i.default.object,color:i.default.string,key:i.default.string,autoFocus:i.default.bool,disabled:i.default.bool,showDateDisplay:i.default.bool});t.rangeShape=E,_.propTypes={day:i.default.object.isRequired,dayDisplayFormat:i.default.string,date:i.default.object,ranges:i.default.arrayOf(E),preview:i.default.shape({startDate:i.default.object,endDate:i.default.object,color:i.default.string}),onPreviewChange:i.default.func,previewColor:i.default.string,disabled:i.default.bool,isPassive:i.default.bool,isToday:i.default.bool,isWeekend:i.default.bool,isStartOfWeek:i.default.bool,isEndOfWeek:i.default.bool,isStartOfMonth:i.default.bool,isEndOfMonth:i.default.bool,color:i.default.string,displayMode:i.default.oneOf(["dateRange","date"]),styles:i.default.object,onMouseDown:i.default.func,onMouseUp:i.default.func,onMouseEnter:i.default.func,dayContentRenderer:i.default.func};var O=_;t.default=O},5891:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8355),a=n(4410),i=n(3666),o=36e5;function s(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.A)(e,n*o)}},5972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getFullYear()}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},6105:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=w(n(5043)),i=b(n(5173)),o=w(n(5889)),s=b(n(1010)),l=b(n(9519)),c=b(n(1786)),u=b(n(8349)),d=b(n(407)),h=b(n(7278)),f=b(n(1555)),p=b(n(238)),m=b(n(6087)),g=b(n(5780)),v=b(n(9993)),y=n(3974);function b(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(b,e);var t,n,r,i=O(b);function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),i.apply(this,arguments)}return t=b,(n=[{key:"render",value:function(){var e=this,t=new Date,n=this.props,r=n.displayMode,i=n.focusedRange,b=n.drag,x=n.styles,w=n.disabledDates,S=n.disabledDay,N=this.props.minDate&&(0,g.default)(this.props.minDate),_=this.props.maxDate&&(0,m.default)(this.props.maxDate),E=(0,y.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight),O=this.props.ranges;if("dateRange"===r&&b.status){var C=b.range,T=C.startDate,D=C.endDate;O=O.map(function(e,t){return t!==i[0]?e:j(j({},e),{},{startDate:T,endDate:D})})}var P=this.props.showPreview&&!b.disablePreview;return a.default.createElement("div",{className:x.month,style:this.props.style},this.props.showMonthName?a.default.createElement("div",{className:x.monthName},(0,v.default)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&function(e,t,n){var r=new Date;return a.default.createElement("div",{className:e.weekDays},(0,s.default)({start:(0,p.default)(r,t),end:(0,f.default)(r,t)}).map(function(r,i){return a.default.createElement("span",{className:e.weekDay,key:i},(0,v.default)(r,n,t))}))}(x,this.props.dateOptions,this.props.weekdayDisplayFormat),a.default.createElement("div",{className:x.days,onMouseLeave:this.props.onMouseLeave},(0,s.default)({start:E.start,end:E.end}).map(function(n,r){var i=(0,d.default)(n,E.startDateOfMonth),s=(0,d.default)(n,E.endDateOfMonth),m=N&&(0,h.default)(n,N)||_&&(0,u.default)(n,_),g=w.some(function(e){return(0,d.default)(e,n)}),v=S(n);return a.default.createElement(o.default,k({},e.props,{ranges:O,day:n,preview:P?e.props.preview:null,isWeekend:(0,c.default)(n,e.props.dateOptions),isToday:(0,d.default)(n,t),isStartOfWeek:(0,d.default)(n,(0,p.default)(n,e.props.dateOptions)),isEndOfWeek:(0,d.default)(n,(0,f.default)(n,e.props.dateOptions)),isStartOfMonth:i,isEndOfMonth:s,key:r,disabled:m||g||v,isPassive:!(0,l.default)(n,{start:E.startDateOfMonth,end:E.endDateOfMonth}),styles:x,onMouseDown:e.props.onDragSelectionStart,onMouseUp:e.props.onDragSelectionEnd,onMouseEnter:e.props.onDragSelectionMove,dragRange:b.range,drag:b.status}))})))}}])&&_(t.prototype,n),r&&_(t,r),b}(a.PureComponent);T.defaultProps={},T.propTypes={style:i.default.object,styles:i.default.object,month:i.default.object,drag:i.default.object,dateOptions:i.default.object,disabledDates:i.default.array,disabledDay:i.default.func,preview:i.default.shape({startDate:i.default.object,endDate:i.default.object}),showPreview:i.default.bool,displayMode:i.default.oneOf(["dateRange","date"]),minDate:i.default.object,maxDate:i.default.object,ranges:i.default.arrayOf(o.rangeShape),focusedRange:i.default.arrayOf(i.default.number),onDragSelectionStart:i.default.func,onDragSelectionEnd:i.default.func,onDragSelectionMove:i.default.func,onMouseLeave:i.default.func,monthDisplayFormat:i.default.string,weekdayDisplayFormat:i.default.string,dayDisplayFormat:i.default.string,showWeekDays:i.default.bool,showMonthName:i.default.bool,fixedHeight:i.default.bool};var D=T;t.default=D},6255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},6260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2284),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6347:(e,t,n)=>{"use strict";Object.defineProperty(t,"ad",{enumerable:!0,get:function(){return r.default}});var r=l(n(3902)),a=l(n(1783)),i=l(n(4016)),o=l(n(1751)),s=n(7384);function l(e){return e&&e.__esModule?e:{default:e}}},6366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!i(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),a=n(5990),i=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6440:e=>{"use strict";var t=function(){};e.exports=t},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(4967),a=n(5780),i=n(3666),o=864e5;function s(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),s=(0,a.default)(t),l=n.getTime()-(0,r.A)(n),c=s.getTime()-(0,r.A)(s);return Math.round((l-c)/o)}},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},6802:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);return n.setHours(o),n}},6819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var s=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+o+1,0),s>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},6887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>rt});var r=n(2284);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}var o=n(9321),s=n(67),l=n(6260);function c(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var u=n(8468),d=n(4967),h=n(8982),f=n(8355),p=n(3666);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function x(e){var t=b();return function(){var n,a=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var k=n(816);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,k.A)(r.key),r)}}function j(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=n(4467),_=function(){function e(){w(this,e),(0,N.A)(this,"priority",void 0),(0,N.A)(this,"subPriority",0)}return j(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),E=function(e){v(n,e);var t=x(n);function n(e,r,a,i,o){var s;return w(this,n),(s=t.call(this)).value=e,s.validateValue=r,s.setValue=a,s.priority=i,o&&(s.subPriority=o),s}return j(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(_),O=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",10),(0,N.A)(m(e),"subPriority",-1),e}return j(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(_),C=function(){function e(){w(this,e),(0,N.A)(this,"incompatibleTokens",void 0),(0,N.A)(this,"priority",void 0),(0,N.A)(this,"subPriority",void 0)}return j(e,[{key:"run",value:function(e,t,n,r){var a=this.parse(e,t,n,r);return a?{setter:new E(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),T=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",140),(0,N.A)(m(e),"incompatibleTokens",["R","u","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),D=n(2026),P=/^(1[0-2]|0?\d)/,A=/^(3[0-1]|[0-2]?\d)/,I=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,M=/^(5[0-3]|[0-4]?\d)/,R=/^(2[0-3]|[0-1]?\d)/,L=/^(2[0-4]|[0-1]?\d)/,z=/^(1[0-1]|0?\d)/,F=/^(1[0-2]|0?\d)/,U=/^[0-5]?\d/,B=/^[0-5]?\d/,V=/^\d/,q=/^\d{1,2}/,W=/^\d{1,3}/,H=/^\d{1,4}/,K=/^-?\d+/,Y=/^-?\d/,G=/^-?\d{1,2}/,Q=/^-?\d{1,3}/,J=/^-?\d{1,4}/,X=/^([+-])(\d{2})(\d{2})?|Z/,$=/^([+-])(\d{2})(\d{2})|Z/,Z=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ee=/^([+-])(\d{2}):(\d{2})|Z/,te=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ne(e,t){return e?{value:t(e.value),rest:e.rest}:e}function re(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ae(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*D.s0+i*D.Cg+o*D._m),rest:t.slice(n[0].length)}}function ie(e){return re(K,e)}function oe(e,t){switch(e){case 1:return re(V,t);case 2:return re(q,t);case 3:return re(W,t);case 4:return re(H,t);default:return re(new RegExp("^\\d{1,"+e+"}"),t)}}function se(e,t){switch(e){case 1:return re(Y,t);case 2:return re(G,t);case 3:return re(Q,t);case 4:return re(J,t);default:return re(new RegExp("^-?\\d{1,"+e+"}"),t)}}function le(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ce(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var i=a+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}function ue(e){return e%400===0||e%4===0&&e%100!==0}var de=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",130),(0,N.A)(m(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return ne(oe(4,e),r);case"yo":return ne(n.ordinalNumber(e,{unit:"year"}),r);default:return ne(oe(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var a=ce(n.year,r);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),he=n(2217),fe=n(9511),pe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",130),(0,N.A)(m(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return ne(oe(4,e),r);case"Yo":return ne(n.ordinalNumber(e,{unit:"year"}),r);default:return ne(oe(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var a=(0,he.A)(e,r);if(n.isTwoDigitYear){var i=ce(n.year,a);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,fe.A)(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,fe.A)(e,r)}}]),n}(C),me=n(1740),ge=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",130),(0,N.A)(m(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t){return se("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,me.A)(r)}}]),n}(C),ve=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",130),(0,N.A)(m(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t){return se("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),ye=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",120),(0,N.A)(m(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return oe(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(C),be=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",120),(0,N.A)(m(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return oe(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(C),xe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,N.A)(m(e),"priority",110),e}return j(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return ne(re(P,e),r);case"MM":return ne(oe(2,e),r);case"Mo":return ne(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),we=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",110),(0,N.A)(m(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return ne(re(P,e),r);case"LL":return ne(oe(2,e),r);case"Lo":return ne(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),ke=n(4123);var Se=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",100),(0,N.A)(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return re(M,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,fe.A)(function(e,t,n){(0,p.A)(2,arguments);var r=(0,l.default)(e),a=(0,f.A)(t),i=(0,ke.A)(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)}}]),n}(C),je=n(1049);var Ne=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",100),(0,N.A)(m(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return re(M,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,me.A)(function(e,t){(0,p.A)(2,arguments);var n=(0,l.default)(e),r=(0,f.A)(t),a=(0,je.A)(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,n))}}]),n}(C),_e=[31,28,31,30,31,30,31,31,30,31,30,31],Ee=[31,29,31,30,31,30,31,31,30,31,30,31],Oe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"subPriority",1),(0,N.A)(m(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return re(A,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){var n=ue(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Ee[r]:t>=1&&t<=_e[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(C),Ce=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"subpriority",1),(0,N.A)(m(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return re(I,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return ue(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(C),Te=n(2239);function De(e,t,n){var r,a,i,o,s,c,u,d;(0,p.A)(2,arguments);var h=(0,Te.q)(),m=(0,f.A)(null!==(r=null!==(a=null!==(i=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==i?i:h.weekStartsOn)&&void 0!==a?a:null===(u=h.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,l.default)(e),v=(0,f.A)(t),y=((v%7+7)%7<m?7:0)+v-g.getUTCDay();return g.setUTCDate(g.getUTCDate()+y),g}var Pe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=De(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C),Ae=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ne(oe(t.length,e),a);case"eo":return ne(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=De(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C),Ie=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ne(oe(t.length,e),a);case"co":return ne(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=De(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C);var Me=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",90),(0,N.A)(m(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return oe(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ne(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ne(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ne(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ne(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,p.A)(2,arguments);var n=(0,f.A)(t);n%7===0&&(n-=7);var r=(0,l.default)(e),a=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+a),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(C),Re=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",80),(0,N.A)(m(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(C),Le=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",80),(0,N.A)(m(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(C),ze=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",80),(0,N.A)(m(e),"incompatibleTokens",["a","b","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(le(n),0,0,0),e}}]),n}(C),Fe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",70),(0,N.A)(m(e),"incompatibleTokens",["H","K","k","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return re(F,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(C),Ue=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",70),(0,N.A)(m(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return re(R,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(C),Be=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",70),(0,N.A)(m(e),"incompatibleTokens",["h","H","k","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return re(z,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(C),Ve=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",70),(0,N.A)(m(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return re(L,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(C),qe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",60),(0,N.A)(m(e),"incompatibleTokens",["t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return re(U,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(C),We=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",50),(0,N.A)(m(e),"incompatibleTokens",["t","T"]),e}return j(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return re(B,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return oe(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(C),He=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",30),(0,N.A)(m(e),"incompatibleTokens",["t","T"]),e}return j(n,[{key:"parse",value:function(e,t){return ne(oe(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(C),Ke=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",10),(0,N.A)(m(e),"incompatibleTokens",["t","T","x"]),e}return j(n,[{key:"parse",value:function(e,t){switch(t){case"X":return ae(X,e);case"XX":return ae($,e);case"XXXX":return ae(Z,e);case"XXXXX":return ae(te,e);default:return ae(ee,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(C),Ye=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",10),(0,N.A)(m(e),"incompatibleTokens",["t","T","X"]),e}return j(n,[{key:"parse",value:function(e,t){switch(t){case"x":return ae(X,e);case"xx":return ae($,e);case"xxxx":return ae(Z,e);case"xxxxx":return ae(te,e);default:return ae(ee,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(C),Ge=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",40),(0,N.A)(m(e),"incompatibleTokens","*"),e}return j(n,[{key:"parse",value:function(e){return ie(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(C),Qe=function(e){v(n,e);var t=x(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,N.A)(m(e),"priority",20),(0,N.A)(m(e),"incompatibleTokens","*"),e}return j(n,[{key:"parse",value:function(e){return ie(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(C),Je={G:new T,y:new de,Y:new pe,R:new ge,u:new ve,Q:new ye,q:new be,M:new xe,L:new we,w:new Se,I:new Ne,d:new Oe,D:new Ce,E:new Pe,e:new Ae,c:new Ie,i:new Me,a:new Re,b:new Le,B:new ze,h:new Fe,H:new Ue,K:new Be,k:new Ve,m:new qe,s:new We,S:new He,X:new Ke,x:new Ye,t:new Ge,T:new Qe},Xe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ze=/^'([^]*?)'?$/,et=/''/g,tt=/\S/,nt=/[a-zA-Z]/;function rt(e,t,n,a){var m,g,v,y,b,x,w,k,S,j,N,_,E,C,T,D,P,A;(0,p.A)(3,arguments);var I=String(e),M=String(t),R=(0,Te.q)(),L=null!==(m=null!==(g=null===a||void 0===a?void 0:a.locale)&&void 0!==g?g:R.locale)&&void 0!==m?m:o.A;if(!L.match)throw new RangeError("locale must contain match property");var z=(0,f.A)(null!==(v=null!==(y=null!==(b=null!==(x=null===a||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==x?x:null===a||void 0===a||null===(w=a.locale)||void 0===w||null===(k=w.options)||void 0===k?void 0:k.firstWeekContainsDate)&&void 0!==b?b:R.firstWeekContainsDate)&&void 0!==y?y:null===(S=R.locale)||void 0===S||null===(j=S.options)||void 0===j?void 0:j.firstWeekContainsDate)&&void 0!==v?v:1);if(!(z>=1&&z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=(0,f.A)(null!==(N=null!==(_=null!==(E=null!==(C=null===a||void 0===a?void 0:a.weekStartsOn)&&void 0!==C?C:null===a||void 0===a||null===(T=a.locale)||void 0===T||null===(D=T.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==E?E:R.weekStartsOn)&&void 0!==_?_:null===(P=R.locale)||void 0===P||null===(A=P.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==N?N:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===M)return""===I?(0,l.default)(n):new Date(NaN);var U,B={firstWeekContainsDate:z,weekStartsOn:F,locale:L},V=[new O],q=M.match($e).map(function(e){var t=e[0];return t in u.A?(0,u.A[t])(e,L.formatLong):e}).join("").match(Xe),W=[],H=i(q);try{var K=function(){var t=U.value;null!==a&&void 0!==a&&a.useAdditionalWeekYearTokens||!(0,h.xM)(t)||(0,h.lJ)(t,M,e),null!==a&&void 0!==a&&a.useAdditionalDayOfYearTokens||!(0,h.ef)(t)||(0,h.lJ)(t,M,e);var n=t[0],r=Je[n];if(r){var i=r.incompatibleTokens;if(Array.isArray(i)){var o=W.find(function(e){return i.includes(e.token)||e.token===n});if(o)throw new RangeError("The format string mustn't contain `".concat(o.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&W.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));W.push({token:n,fullToken:t});var s=r.run(I,t,L.match,B);if(!s)return{v:new Date(NaN)};V.push(s.setter),I=s.rest}else{if(n.match(nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Ze)[1].replace(et,"'")),0!==I.indexOf(t))return{v:new Date(NaN)};I=I.slice(t.length)}};for(H.s();!(U=H.n()).done;){var Y=K();if("object"===(0,r.A)(Y))return Y.v}}catch(ne){H.e(ne)}finally{H.f()}if(I.length>0&&tt.test(I))return new Date(NaN);var G=V.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return V.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),Q=(0,l.default)(n);if(isNaN(Q.getTime()))return new Date(NaN);var J,X=(0,s.A)(Q,(0,d.A)(Q)),$={},Z=i(G);try{for(Z.s();!(J=Z.n()).done;){var ee=J.value;if(!ee.validate(X,B))return new Date(NaN);var te=ee.set(X,$,B);Array.isArray(te)?(X=te[0],c($,te[1])):X=te}}catch(ne){Z.e(ne)}finally{Z.f()}return X}},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7099:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Manager:()=>o,Popper:()=>Ae,Reference:()=>Re,usePopper:()=>Ce});var r=n(5043),a=r.createContext(),i=r.createContext();function o(e){var t=e.children,n=r.useState(null),o=n[0],s=n[1],l=r.useRef(!1);r.useEffect(function(){return function(){l.current=!0}},[]);var c=r.useCallback(function(e){l.current||s(e)},[]);return r.createElement(a.Provider,{value:o},r.createElement(i.Provider,{value:c},t))}var s=function(e){return Array.isArray(e)?e[0]:e},l=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},c=function(e,t){if("function"===typeof e)return l(e,t);null!=e&&(e.current=t)},u=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},d="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,h=n(7950);function f(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function p(e){return e instanceof f(e).Element||e instanceof Element}function m(e){return e instanceof f(e).HTMLElement||e instanceof HTMLElement}function g(e){return"undefined"!==typeof ShadowRoot&&(e instanceof f(e).ShadowRoot||e instanceof ShadowRoot)}var v=Math.max,y=Math.min,b=Math.round;function x(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function w(){return!/^((?!chrome|android).)*safari/i.test(x())}function k(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&m(e)&&(a=e.offsetWidth>0&&b(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&b(r.height)/e.offsetHeight||1);var o=(p(e)?f(e):window).visualViewport,s=!w()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/a,c=(r.top+(s&&o?o.offsetTop:0))/i,u=r.width/a,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function S(e){var t=f(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(e){return e?(e.nodeName||"").toLowerCase():null}function N(e){return((p(e)?e.ownerDocument:e.document)||window.document).documentElement}function _(e){return k(N(e)).left+S(e).scrollLeft}function E(e){return f(e).getComputedStyle(e)}function O(e){var t=E(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function C(e,t,n){void 0===n&&(n=!1);var r=m(t),a=m(t)&&function(e){var t=e.getBoundingClientRect(),n=b(t.width)/e.offsetWidth||1,r=b(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=N(t),o=k(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==j(t)||O(i))&&(s=function(e){return e!==f(e)&&m(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:S(e);var t}(t)),m(t)?((l=k(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=_(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function T(e){var t=k(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function D(e){return"html"===j(e)?e:e.assignedSlot||e.parentNode||(g(e)?e.host:null)||N(e)}function P(e){return["html","body","#document"].indexOf(j(e))>=0?e.ownerDocument.body:m(e)&&O(e)?e:P(D(e))}function A(e,t){var n;void 0===t&&(t=[]);var r=P(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=f(r),o=a?[i].concat(i.visualViewport||[],O(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(A(D(o)))}function I(e){return["table","td","th"].indexOf(j(e))>=0}function M(e){return m(e)&&"fixed"!==E(e).position?e.offsetParent:null}function R(e){for(var t=f(e),n=M(e);n&&I(n)&&"static"===E(n).position;)n=M(n);return n&&("html"===j(n)||"body"===j(n)&&"static"===E(n).position)?t:n||function(e){var t=/firefox/i.test(x());if(/Trident/i.test(x())&&m(e)&&"fixed"===E(e).position)return null;var n=D(e);for(g(n)&&(n=n.host);m(n)&&["html","body"].indexOf(j(n))<0;){var r=E(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var L="top",z="bottom",F="right",U="left",B="auto",V=[L,z,F,U],q="start",W="end",H="viewport",K="popper",Y=V.reduce(function(e,t){return e.concat([t+"-"+q,t+"-"+W])},[]),G=[].concat(V,[B]).reduce(function(e,t){return e.concat([t,t+"-"+q,t+"-"+W])},[]),Q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function J(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||a(e)}),r}function X(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var $={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?$:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},$,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:a,setOptions:function(n){var s="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},i,a.options,s),a.scrollParents={reference:p(e)?A(e):e.contextElement?A(e.contextElement):[],popper:A(t)};var u=function(e){var t=J(e);return Q.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,a.options.modifiers)));return a.orderedModifiers=u.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:a,name:t,instance:l,options:r}),c=function(){};o.push(s||c)}}),l.update()},forceUpdate:function(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(Z(t,n)){a.rects={reference:C(t,R(n),"fixed"===a.options.strategy),popper:T(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof o&&(a=o({state:a,options:u,name:d,instance:l})||a)}else a.reset=!1,r=-1}}},update:X(function(){return new Promise(function(e){l.forceUpdate(),e(a)})}),destroy:function(){c(),s=!0}};if(!Z(e,t))return l;function c(){o.forEach(function(e){return e()}),o=[]}return l.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var te={passive:!0};function ne(e){return e.split("-")[0]}function re(e){return e.split("-")[1]}function ae(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ie(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?ne(a):null,o=a?re(a):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case L:t={x:s,y:n.y-r.height};break;case z:t={x:s,y:n.y+n.height};break;case F:t={x:n.x+n.width,y:l};break;case U:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?ae(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case q:t[c]=t[c]-(n[u]/2-r[u]/2);break;case W:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function se(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,m=o.y,g=void 0===m?0:m,v="function"===typeof u?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),w=U,k=L,S=window;if(c){var j=R(n),_="clientHeight",O="clientWidth";if(j===f(n)&&"static"!==E(j=N(n)).position&&"absolute"===s&&(_="scrollHeight",O="scrollWidth"),a===L||(a===U||a===F)&&i===W)k=z,g-=(d&&j===S&&S.visualViewport?S.visualViewport.height:j[_])-r.height,g*=l?1:-1;if(a===U||(a===L||a===z)&&i===W)w=F,p-=(d&&j===S&&S.visualViewport?S.visualViewport.width:j[O])-r.width,p*=l?1:-1}var C,T=Object.assign({position:s},c&&oe),D=!0===u?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:b(n*a)/a||0,y:b(r*a)/a||0}}({x:p,y:g},f(n)):{x:p,y:g};return p=D.x,g=D.y,l?Object.assign({},T,((C={})[k]=x?"0":"",C[w]=y?"0":"",C.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",C)):Object.assign({},T,((t={})[k]=x?g+"px":"",t[w]=y?p+"px":"",t.transform="",t))}const le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=G.reduce(function(e,n){return e[n]=function(e,t,n){var r=ne(e),a=[U,L].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[U,F].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,i),e},{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var ce={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,function(e){return ce[e]})}var de={start:"end",end:"start"};function he(e){return e.replace(/start|end/g,function(e){return de[e]})}function fe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&g(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t,n){return t===H?pe(function(e,t){var n=f(e),r=N(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;var c=w();(c||!c&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s+_(e),y:l}}(e,n)):p(t)?function(e,t){var n=k(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):pe(function(e){var t,n=N(e),r=S(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=v(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=v(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+_(e),l=-r.scrollTop;return"rtl"===E(a||n).direction&&(s+=v(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}(N(e)))}function ge(e,t,n,r){var a="clippingParents"===t?function(e){var t=A(D(e)),n=["absolute","fixed"].indexOf(E(e).position)>=0&&m(e)?R(e):e;return p(n)?t.filter(function(e){return p(e)&&fe(e,n)&&"body"!==j(e)}):[]}(e):[].concat(t),i=[].concat(a,[n]),o=i[0],s=i.reduce(function(t,n){var a=me(e,n,r);return t.top=v(a.top,t.top),t.right=y(a.right,t.right),t.bottom=y(a.bottom,t.bottom),t.left=v(a.left,t.left),t},me(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ve(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ye(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function be(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.strategy,o=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?H:c,d=n.elementContext,h=void 0===d?K:d,f=n.altBoundary,m=void 0!==f&&f,g=n.padding,v=void 0===g?0:g,y=ve("number"!==typeof v?v:ye(v,V)),b=h===K?"reference":K,x=e.rects.popper,w=e.elements[m?b:h],S=ge(p(w)?w:w.contextElement||N(e.elements.popper),l,u,o),j=k(e.elements.reference),_=ie({reference:j,element:x,strategy:"absolute",placement:a}),E=pe(Object.assign({},x,_)),O=h===K?E:j,C={top:S.top-O.top+y.top,bottom:O.bottom-S.bottom+y.bottom,left:S.left-O.left+y.left,right:O.right-S.right+y.right},T=e.modifiersData.offset;if(h===K&&T){var D=T[a];Object.keys(C).forEach(function(e){var t=[F,z].indexOf(e)>=0?1:-1,n=[L,z].indexOf(e)>=0?"y":"x";C[e]+=D[n]*t})}return C}function xe(e,t,n){return v(e,y(t,n))}const we={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=be(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=ne(t.placement),x=re(t.placement),w=!x,k=ae(b),S="x"===k?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,_=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,O="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(j){if(i){var P,A="y"===k?L:U,I="y"===k?z:F,M="y"===k?"height":"width",B=j[k],V=B+g[A],W=B-g[I],H=f?-_[M]/2:0,K=x===q?N[M]:_[M],Y=x===q?-_[M]:-N[M],G=t.elements.arrow,Q=f&&G?T(G):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=J[A],$=J[I],Z=xe(0,N[M],Q[M]),ee=w?N[M]/2-H-Z-X-O.mainAxis:K-Z-X-O.mainAxis,te=w?-N[M]/2+H+Z+$+O.mainAxis:Y+Z+$+O.mainAxis,ie=t.elements.arrow&&R(t.elements.arrow),oe=ie?"y"===k?ie.clientTop||0:ie.clientLeft||0:0,se=null!=(P=null==C?void 0:C[k])?P:0,le=B+te-se,ce=xe(f?y(V,B+ee-se-oe):V,B,f?v(W,le):W);j[k]=ce,D[k]=ce-B}if(s){var ue,de="x"===k?L:U,he="x"===k?z:F,fe=j[S],pe="y"===S?"height":"width",me=fe+g[de],ge=fe-g[he],ve=-1!==[L,U].indexOf(b),ye=null!=(ue=null==C?void 0:C[S])?ue:0,we=ve?me:fe-N[pe]-_[pe]-ye+O.altAxis,ke=ve?fe+N[pe]+_[pe]-ye-O.altAxis:ge,Se=f&&ve?function(e,t,n){var r=xe(e,t,n);return r>n?n:r}(we,fe,ke):xe(f?we:me,fe,f?ke:ge);j[S]=Se,D[S]=Se-fe}t.modifiersData[r]=D}},requiresIfExists:["offset"]};const ke={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=ne(n.placement),l=ae(s),c=[U,F].indexOf(s)>=0?"height":"width";if(i&&o){var u=function(e,t){return ve("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ye(e,V))}(a.padding,n),d=T(i),h="y"===l?L:U,f="y"===l?z:F,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],m=o[l]-n.rects.reference[l],g=R(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],x=v-d[c]-u[f],w=v/2-d[c]/2+y,k=xe(b,w,x),S=l;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&fe(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Se(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function je(e){return[L,F,z,U].some(function(t){return e[t]>=0})}var Ne=ee({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,o=r.resize,s=void 0===o||o,l=f(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,te)}),s&&l.addEventListener("resize",n.update,te),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,te)}),s&&l.removeEventListener("resize",n.update,te)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ie({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,o=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:ne(t.placement),variation:re(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,se(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,se(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];m(a)&&j(a)&&(Object.assign(a.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});m(r)&&j(r)&&(Object.assign(r.style,i),Object.keys(a).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},le,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=ne(g),y=l||(v===g||!p?[ue(g)]:function(e){if(ne(e)===B)return[];var t=ue(e);return[he(e),t,he(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(ne(n)===B?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?G:l,u=re(r),d=u?s?Y:Y.filter(function(e){return re(e)===u}):V,h=d.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=d);var f=h.reduce(function(t,n){return t[n]=be(e,{placement:n,boundary:a,rootBoundary:i,padding:o})[ne(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,j=b[0],N=0;N<b.length;N++){var _=b[N],E=ne(_),O=re(_)===q,C=[L,z].indexOf(E)>=0,T=C?"width":"height",D=be(t,{placement:_,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=C?O?F:U:O?z:L;x[T]>w[T]&&(P=ue(P));var A=ue(P),I=[];if(i&&I.push(D[E]<=0),s&&I.push(D[P]<=0,D[A]<=0),I.every(function(e){return e})){j=_,S=!1;break}k.set(_,I)}if(S)for(var M=function(e){var t=b.find(function(t){var n=k.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return j=t,"break"},R=p?3:1;R>0;R--){if("break"===M(R))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},we,ke,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=be(t,{elementContext:"reference"}),s=be(t,{altBoundary:!0}),l=Se(o,r),c=Se(s,a,i),u=je(l),d=je(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),_e=n(6366),Ee=n.n(_e),Oe=[],Ce=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Oe},o=r.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],l=o[1],c=r.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);h.flushSync(function(){l({styles:u(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:u(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),f=r.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Ee()(a.current,e)?a.current||e:(a.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),p=r.useRef();return d(function(){p.current&&p.current.setOptions(f)},[f]),d(function(){if(null!=e&&null!=t){var r=(n.createPopper||Ne)(e,t,f);return p.current=r,function(){r.destroy(),p.current=null}}},[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:s.styles,attributes:s.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}},Te=function(){},De=function(){return Promise.resolve(null)},Pe=[];function Ae(e){var t=e.placement,n=void 0===t?"bottom":t,i=e.strategy,o=void 0===i?"absolute":i,l=e.modifiers,u=void 0===l?Pe:l,d=e.referenceElement,h=e.onFirstUpdate,f=e.innerRef,p=e.children,m=r.useContext(a),g=r.useState(null),v=g[0],y=g[1],b=r.useState(null),x=b[0],w=b[1];r.useEffect(function(){c(f,v)},[f,v]);var k=r.useMemo(function(){return{placement:n,strategy:o,onFirstUpdate:h,modifiers:[].concat(u,[{name:"arrow",enabled:null!=x,options:{element:x}}])}},[n,o,h,u,x]),S=Ce(d||m,v,k),j=S.state,N=S.styles,_=S.forceUpdate,E=S.update,O=r.useMemo(function(){return{ref:y,style:N.popper,placement:j?j.placement:n,hasPopperEscaped:j&&j.modifiersData.hide?j.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:j&&j.modifiersData.hide?j.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:N.arrow,ref:w},forceUpdate:_||Te,update:E||De}},[y,w,n,j,N,E,_]);return s(p)(O)}var Ie=n(6440),Me=n.n(Ie);function Re(e){var t=e.children,n=e.innerRef,a=r.useContext(i),o=r.useCallback(function(e){c(n,e),l(a,e)},[n,a]);return r.useEffect(function(){return function(){return c(n,null)}},[]),r.useEffect(function(){Me()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")},[a]),s(t)({ref:o})}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),a=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(i);for(let r=0;r<i;r++)o[r]=e,e+=n;return o}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,A(k);else{var t=r(u);null!==t&&I(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,j=!1,N=null,_=-1,E=5,O=-1;function C(){return!(t.unstable_now()-O<E)}function T(){if(null!==N){var e=t.unstable_now();O=e;var n=!0;try{n=N(!0,e)}finally{n?S():(j=!1,N=null)}}else j=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=T,S=function(){P.postMessage(null)}}else S=function(){v(T,0)};function A(e){N=e,j||(j=!0,S())}function I(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,I(w,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,A(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7278:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()<i.getTime()}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<r?a(o,t+1):n.push(o)}};return a(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(9286));class i extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},7384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticRanges=b,t.defaultInputRanges=t.defaultStaticRanges=void 0;var r=f(n(6740)),a=f(n(407)),i=f(n(1555)),o=f(n(238)),s=f(n(6819)),l=f(n(6255)),c=f(n(2128)),u=f(n(5780)),d=f(n(6087)),h=f(n(7860));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={startOfWeek:(0,o.default)(new Date),endOfWeek:(0,i.default)(new Date),startOfLastWeek:(0,o.default)((0,h.default)(new Date,-7)),endOfLastWeek:(0,i.default)((0,h.default)(new Date,-7)),startOfToday:(0,u.default)(new Date),endOfToday:(0,d.default)(new Date),startOfYesterday:(0,u.default)((0,h.default)(new Date,-1)),endOfYesterday:(0,d.default)((0,h.default)(new Date,-1)),startOfMonth:(0,c.default)(new Date),endOfMonth:(0,l.default)(new Date),startOfLastMonth:(0,c.default)((0,s.default)(new Date,-1)),endOfLastMonth:(0,l.default)((0,s.default)(new Date,-1))},y={range:{},isSelected:function(e){var t=this.range();return(0,a.default)(e.startDate,t.startDate)&&(0,a.default)(e.endDate,t.endDate)}};function b(e){return e.map(function(e){return m(m({},y),e)})}var x=b([{label:"Today",range:function(){return{startDate:v.startOfToday,endDate:v.endOfToday}}},{label:"Yesterday",range:function(){return{startDate:v.startOfYesterday,endDate:v.endOfYesterday}}},{label:"This Week",range:function(){return{startDate:v.startOfWeek,endDate:v.endOfWeek}}},{label:"Last Week",range:function(){return{startDate:v.startOfLastWeek,endDate:v.endOfLastWeek}}},{label:"This Month",range:function(){return{startDate:v.startOfMonth,endDate:v.endOfMonth}}},{label:"Last Month",range:function(){return{startDate:v.startOfLastMonth,endDate:v.endOfLastMonth}}}]);t.defaultStaticRanges=x;var w=[{label:"days up to today",range:function(e){return{startDate:(0,h.default)(v.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:v.endOfToday}},getCurrentValue:function(e){return(0,a.default)(e.endDate,v.endOfToday)?e.startDate?(0,r.default)(v.endOfToday,e.startDate)+1:"\u221e":"-"}},{label:"days starting today",range:function(e){var t=new Date;return{startDate:t,endDate:(0,h.default)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return(0,a.default)(e.startDate,v.startOfToday)?e.endDate?(0,r.default)(e.endDate,v.startOfToday)+1:"\u221e":"-"}}];t.defaultInputRanges=w},7400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getMinutes()}},7447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(6260),a=n(238),i=n(3666);function o(e){return(0,i.A)(1,arguments),(0,a.default)(e,{weekStartsOn:1})}function s(e){(0,i.A)(1,arguments);var t=function(e){(0,i.A)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var s=o(a),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var c=o(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}var l=6048e5;function c(e){(0,i.A)(1,arguments);var t=(0,r.default)(e),n=o(t).getTime()-s(t).getTime();return Math.round(n/l)+1}},7461:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6819),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=3*(0,r.A)(t);return(0,a.default)(e,n)}},7583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()===i.getTime()}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7609:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(234),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,r.A)(t);return(0,a.default)(e,-n)}},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(8355),a=n(6260),i=n(3666);function o(e,t){(0,i.A)(2,arguments);var n=(0,a.default)(e),o=(0,r.A)(t);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}},7872:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getSeconds()}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(1210));t.PostgrestClient=a.default;const i=r(n(8829));t.PostgrestQueryBuilder=i.default;const o=r(n(5736));t.PostgrestFilterBuilder=o.default;const s=r(n(7374));t.PostgrestTransformBuilder=s.default;const l=r(n(9286));t.PostgrestBuilder=l.default;const c=r(n(2611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},8082:function(e,t,n){var r,a,i;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,a=[t,n(5043),n(579)],r=function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t=d(t),l(e,u()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function l(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=y(e,"string");return"symbol"==r(t)?t:t+""}function y(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var b={x:"clientWidth",y:"clientHeight"},x={x:"clientTop",y:"clientLeft"},w={x:"innerWidth",y:"innerHeight"},k={x:"offsetWidth",y:"offsetHeight"},S={x:"offsetLeft",y:"offsetTop"},j={x:"overflowX",y:"overflowY"},N={x:"scrollWidth",y:"scrollHeight"},_={x:"scrollLeft",y:"scrollTop"},E={x:"width",y:"height"},O=function(){},C=!!function(){if("undefined"===typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",O,{get passive(){return e=!0,!1}})}catch(t){}return e}()&&{passive:!0},T="ReactList failed to reach a stable state.",D=40,P=function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0},A=function(e){for(var t=e.props.axis,n=e.getEl(),r=j[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window},I=function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[w[t]]:n[b[t]]},M=function(e,t){var n=e.length,r=e.minSize,a=e.type,i=t.from,o=t.size,s=t.itemsPerRow,l=(o=Math.max(o,r))%s;return l&&(o+=s-l),o>n&&(o=n),(l=(i="simple"!==a&&i?Math.max(Math.min(i,n-o),0):0)%s)&&(i-=l,o+=l),i===t.from&&o===t.size?t:m(m({},t),{},{from:i,size:o})},R=e.default=function(e){function t(e){var n;return a(this,t),(n=s(this,t,[e])).state=M(e,{itemsPerRow:1,from:e.initialIndex,size:0}),n.cache={},n.cachedScrollPosition=null,n.prevPrevState={},n.unstable=!1,n.updateCounter=0,n}return h(t,e),o(t,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>D)return this.unstable=!0,console.error(T);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){t.updateCounter=0,delete t.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(P(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,C),this.scrollParent.removeEventListener("mousewheel",O,C)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[x[t]]||0,r=S[t];do{n+=e[r]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"===typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,n=_[t],r=e===window?document.body[n]||document.documentElement[n]:e[n],a=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),i=Math.max(0,Math.min(r,a)),o=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+i-this.getOffset(o),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[_[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,a=N[this.props.axis];return e===window?Math.max(n[a],r[a]):e[a]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=Math.max(0,t-e),r=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:n,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,a=r.itemSize,i=r.itemsPerRow;if(n&&a&&i)return{itemSize:a,itemsPerRow:i};var o=this.items.children;if(!o.length)return{};var s=o[0],l=s[k[t]],c=Math.abs(l-a);if((isNaN(c)||c>=1)&&(a=l),!a)return{};for(var u=S[t],d=s[u],h=o[i=1];h&&h[u]===d;h=o[i])++i;return{itemSize:a,itemsPerRow:i}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!==typeof e&&(e=O),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",O)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,C),this.scrollParent.addEventListener("mousewheel",O,C))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var a=this.props.axis,i=n[0],o=n[n.length-1];r=this.getOffset(o)+o[k[a]]-this.getOffset(i)}if(r>t)return e();var s=this.props,l=s.pageSize,c=s.length,u=Math.min(this.state.size+l,c);this.maybeSetState({size:u},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,a=this.props,i=a.length,o=a.pageSize,s=0,l=0,c=0,u=i-1;l<u;){var d=this.getSizeOfItem(l);if(null==d||s+d>n)break;s+=d,++l}for(var h=i-l;c<h&&s<r;){var f=this.getSizeOfItem(l+c);if(null==f){c=Math.min(c+o,h);break}s+=f,++c}this.maybeSetState(M(this.props,{from:l,itemsPerRow:1,size:c}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var a=this.getStartAndEnd(),i=a.start,o=a.end,s=M(this.props,{from:Math.floor(i/n)*r,size:(Math.ceil((o-i)/n)+1)*r,itemsPerRow:r}),l=s.from,c=s.size;return this.maybeSetState({itemsPerRow:r,from:l,itemSize:n,size:c},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,a=n.itemsPerRow;if(r)return t[e]=Math.floor(e/a)*r;for(var i=e;i>0&&null==t[--i];);for(var o=t[i]||0,s=i;s<e;++s){t[s]=o;var l=this.getSizeOfItem(s);if(null==l)break;o+=l}return t[e]=o}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=k[this.props.axis],a=0,i=n.length;a<i;++a)e[t+a]=n[a][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,r=this.props,a=r.axis,i=r.itemSizeGetter,o=r.itemSizeEstimator,s=r.type,l=this.state,c=l.from,u=l.itemSize,d=l.size;if(u)return u;if(i)return i(e);if(e in t)return t[e];if("simple"===s&&e>=c&&e<c+d&&n){var h=n.children[e-c];if(h)return h[k[a]]}return o?o(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),r=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),a=Math.min(r,n),i=Math.max(r,n);return t<=a?this.setScroll(a):t>i?this.setScroll(i):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,r=n.from,a=n.size,i=this.getStartAndEnd(0),o=i.start,s=i.end,l={},c=r;c<r+a;++c){var u=this.getSpaceBefore(c,l),d=u+this.getSizeOfItem(c);null==e&&d>o&&(e=c),null!=e&&u<s&&(t=c)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,a=this.state,i=a.from,o=a.size,s=[],l=0;l<o;++l)s.push(n(i+l,l));return r(s,function(t){return e.items=t})}},{key:"render",value:function(){var e=this,t=this.props,r=t.axis,a=t.length,i=t.type,o=t.useTranslate3d,s=this.state,l=s.from,c=s.itemsPerRow,u=this.renderItems();if("simple"===i)return u;var d={position:"relative"},h={},f=Math.ceil(a/c)*c,p=this.getSpaceBefore(f,h);p&&(d[E[r]]=p,"x"===r&&(d.overflowX="hidden"));var m=this.getSpaceBefore(l,h),g="x"===r?m:0,v="y"===r?m:0,y=o?"translate3d(".concat(g,"px, ").concat(v,"px, 0)"):"translate(".concat(g,"px, ").concat(v,"px)"),b={msTransform:y,WebkitTransform:y,transform:y};return(0,n.jsx)("div",{style:d,ref:function(t){return e.el=t},children:(0,n.jsx)("div",{style:b,children:u})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=M(e,t);return n===t?null:n}}])}(t.Component);g(R,"displayName","ReactList"),g(R,"defaultProps",{axis:"y",itemRenderer:function(e,t){return(0,n.jsx)("div",{children:e},t)},itemsRenderer:function(e,t){return(0,n.jsx)("div",{ref:t,children:e})},length:0,minSize:1,pageSize:10,scrollParentGetter:A,scrollParentViewportSizeGetter:I,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})},void 0===(i="function"===typeof r?r.apply(t,a):r)||(e.exports=i)},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getTime()}},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),a=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,a.noop)}},8199:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(5043)),i=d(n(5173)),o=d(n(8139)),s=d(n(7583)),l=d(n(5541)),c=d(n(6887)),u=d(n(9993));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,r,i=m(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(n=i.call(this,e,t)),"onKeyDown",function(e){var t=n.state.value;"Enter"===e.key&&n.update(t)}),y(g(n),"onChange",function(e){n.setState({value:e.target.value,changed:!0,invalid:!1})}),y(g(n),"onBlur",function(){var e=n.state.value;n.update(e)}),n.state={invalid:!1,changed:!1,value:n.formatDate(e)},n}return t=d,(n=[{key:"componentDidUpdate",value:function(e){var t=e.value;(0,s.default)(t,this.props.value)||this.setState({value:this.formatDate(this.props)})}},{key:"formatDate",value:function(e){var t=e.value,n=e.dateDisplayFormat,r=e.dateOptions;return t&&(0,l.default)(t)?(0,u.default)(t,n,r):""}},{key:"update",value:function(e){var t=this.state,n=t.invalid,r=t.changed;if(!n&&r&&e){var a=this.props,i=a.onChange,o=a.dateDisplayFormat,s=a.dateOptions,u=(0,c.default)(e,o,new Date,s);(0,l.default)(u)?this.setState({changed:!1},function(){return i(u)}):this.setState({invalid:!0})}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.readOnly,r=e.placeholder,i=e.ariaLabel,s=e.disabled,l=e.onFocus,c=this.state,u=c.value,d=c.invalid;return a.default.createElement("span",{className:(0,o.default)("rdrDateInput",t)},a.default.createElement("input",{readOnly:n,disabled:s,value:u,placeholder:r,"aria-label":i,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:l}),d&&a.default.createElement("span",{className:"rdrWarning"},"\u26a0"))}}])&&f(t.prototype,n),r&&f(t,r),d}(a.PureComponent);b.propTypes={value:i.default.object,placeholder:i.default.string,disabled:i.default.bool,readOnly:i.default.bool,dateOptions:i.default.object,dateDisplayFormat:i.default.string,ariaLabel:i.default.string,className:i.default.string,onFocus:i.default.func.isRequired,onChange:i.default.func.isRequired},b.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};var x=b;t.default=x},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?O(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=N(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=N(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(_(n,o),_(e,o),o),s=!0,O(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):O(new r(n),a)},v.naturalExponential=v.exp=function(){return k(this)},v.naturalLogarithm=v.ln=function(){return _(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):C(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(O(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,O(r,n)},v.times=v.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?O(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),O(n,e+S(n)+1,t))},v.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=T(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=T(r=O(new a(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?T(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=T((r=O(new o(a),e+S(a)+1,t)).abs(),!1,e+S(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return O(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&D((i=i.times(u)).d,t),0!==(n=d(n/2));)D((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):O(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(_(u,r+12)),s=!0,(i=k(i)).s=o,i},v.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=T(a,(n=S(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=T(a=O(new o(a),e,t),e<=(n=S(a))||n<=o.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),O(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,v,y,b,x,w,k,j,N,_,E,C=r.constructor,T=r.s==a.s?1:-1,D=r.d,P=a.d;if(!r.s)return new C(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,_=P.length,j=D.length,g=(m=new C(T)).d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--c,(x=null==i?i=C.precision:o?i+(S(r)-S(a))+1:i)<0)return new C(0);if(x=x/7+2|0,u=0,1==_)for(d=0,P=P[0],x++;(u<j||d)&&x--;u++)w=d*p+(D[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),D=e(D,d),_=P.length,j=D.length),k=_,y=(v=D.slice(0,_)).length;y<_;)v[y++]=0;(E=P.slice()).unshift(0),N=P[0],P[1]>=p/2&&++N;do{d=0,(s=t(P,v,_,y))<0?(b=v[0],_!=y&&(b=b*p+(v[1]||0)),(d=b/N|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),v,f=h.length,y=v.length))&&(d--,n(h,_<f?E:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(P,v,_,y=v.length))<1&&(d++,n(v,_<y?E:P,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=D[k]||0:(v=[D[k]],y=1)}while((k++<j||void 0!==v[0])&&x--)}return g[0]||g.shift(),m.e=c,O(m,o?i+S(m)+1:i)}}();function k(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),x((o=i.plus(w(r,n,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=O(i.times(i),l);return f.precision=p,null==t?(s=!0,O(i,p)):i}i=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function _(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),j(v,h);if(h+=10,v.precision=h,r=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return d=j(v,h+2,y).times(o+""),m=_(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,O(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(o=S(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=O(m.times(m),h),i=3;;){if(c=O(c.times(f),h),x((d=u.plus(w(c,new v(i),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(j(v,h+2,y).times(o+""))),u=w(u,new v(p),h),v.precision=y,null==t?(s=!0,O(u,y)):u;u=d,i+=2}}function E(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,a,i,o,l,c,f,m,v=e.d;for(o=1,i=v[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=v.length))return e;for(f=i=v[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(i=S(e),v.length=1,t=t-i-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,i=1,m--):(v.length=m+1,i=h(10,7-r),v[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==p&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=p)break;v[m--]=0,i=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function C(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?O(t,m):t):new f(0)}function T(e,t,n){var r,a=S(e),i=x(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+N(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+N(-a-1)+i,n&&(r=n-o)>0&&(i+=N(r))):a>=o?(i+=N(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+N(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=N(r))),e.s<0?"-"+i:i}function D(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);E(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=P,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8349:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getTime()>i.getTime()}},8355:(e,t,n)=>{"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>r})},8365:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8468:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},a=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const i={p:a,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],o=i[1],s=i[2];if(!s)return r(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(o,t)).replace("{{time}}",a(s,t))}}},8667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){return(0,a.A)(1,arguments),(0,r.default)(e).getDate()}},8829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(5736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer="count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push("count=".concat(r)),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(3272),i=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=o.get(n,e);return void 0===a?s.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8982:(e,t,n)=>{"use strict";n.d(t,{ef:()=>i,lJ:()=>s,xM:()=>o});var r=["D","DD"],a=["YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function o(e){return-1!==a.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9129:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e){(0,a.A)(1,arguments);var t=(0,r.default)(e);return Math.floor(t.getMonth()/3)+1}},9170:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(7860),a=n(3666),i=n(8355);function o(e,t){(0,a.A)(2,arguments);var n=(0,i.A)(t);return(0,r.default)(e,-n)}},9275:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e),i=(0,r.default)(t);return n.getFullYear()-i.getFullYear()}},9286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(4630)),i=r(n(2611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let a=null,o=null,s=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&i&&i.length>1&&(s=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,s=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:o,count:s,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},9321:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2199).default},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),a=n(2489),i=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,o.toPath(n),s):s:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),a=n(6443),i=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,a,i,o){const s=o(e,t,n,r,a,i);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,o)}return c(e,t,i,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=null!==n&&void 0!==n?n:new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,a]of e.entries())if(!t.has(r)||!l(a,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<r.length;i++){const o=r[i],s=a.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;a.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],o=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==o.length)return!1;for(let r=0;r<i.length;r++){const a=i[r],o=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(o,t[a],a,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9344:(e,t,n)=>{"use strict";function r(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var o=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{A:()=>r})},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9511:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6260),a=n(3666),i=n(8355),o=n(2239);function s(e,t){var n,s,l,c,u,d,h,f;(0,a.A)(1,arguments);var p=(0,o.q)(),m=(0,i.A)(null!==(n=null!==(s=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(h=p.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.default)(e),v=g.getUTCDay(),y=(v<m?7:0)+v-m;return g.setUTCDate(g.getUTCDate()-y),g.setUTCHours(0,0,0,0),g}},9519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6260),a=n(3666);function i(e,t){(0,a.A)(2,arguments);var n=(0,r.default)(e).getTime(),i=(0,r.default)(t.start).getTime(),o=(0,r.default)(t.end).getTime();if(!(i<=o))throw new RangeError("Invalid interval");return n>=i&&n<=o}},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9627:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(var i=0;i<a;i++){var o=n[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function a(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:()=>a,shallowEqualObjects:()=>r})},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),a=n(8346),i=n(1203);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},9993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(5541),a=n(67),i=n(6260),o=n(3666);var s=n(1049),l=n(1104),c=n(4123),u=n(2217);function d(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const h={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return d("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):d(n+1,2)},d:function(e,t){return d(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return d(e.getUTCHours()%12||12,t.length)},H:function(e,t){return d(e.getUTCHours(),t.length)},m:function(e,t){return d(e.getUTCMinutes(),t.length)},s:function(e,t){return d(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return d(Math.floor(r*Math.pow(10,n-3)),t.length)}};var f="midnight",p="noon",m="morning",g="afternoon",v="evening",y="night";function b(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var o=t||"";return n+String(a)+o+d(i,2)}function x(e,t){return e%60===0?(e>0?"-":"+")+d(Math.abs(e)/60,2):w(e,t)}function w(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+d(Math.floor(a/60),2)+n+d(a%60,2)}const k={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return h.y(e,t)},Y:function(e,t,n,r){var a=(0,u.A)(e,r),i=a>0?a:1-a;return"YY"===t?d(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):d(i,t.length)},R:function(e,t){return d((0,l.A)(e),t.length)},u:function(e,t){return d(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return d(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return d(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return h.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return d(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=(0,c.A)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):d(a,t.length)},I:function(e,t,n){var r=(0,s.A)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):d(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):h.d(e,t)},D:function(e,t,n){var r=function(e){(0,o.A)(1,arguments);var t=(0,i.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):d(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return d(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return d(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return d(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?p:0===a?f:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?v:a>=12?g:a>=4?m:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return h.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):h.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):d(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):d(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):h.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):h.s(e,t)},S:function(e,t){return h.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return x(a);case"XXXX":case"XX":return w(a);default:return w(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(a);case"xxxx":case"xx":return w(a);default:return w(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b(a,":");default:return"GMT"+w(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b(a,":");default:return"GMT"+w(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return d(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return d((r._originalDate||e).getTime(),t.length)}};var S=n(8468),j=n(4967),N=n(8982),_=n(8355),E=n(2239),O=n(9321),C=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D=/^'([^]*?)'?$/,P=/''/g,A=/[a-zA-Z]/;function I(e,t,n){var s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,I,M,R;(0,o.A)(2,arguments);var L=String(t),z=(0,E.q)(),F=null!==(s=null!==(l=null===n||void 0===n?void 0:n.locale)&&void 0!==l?l:z.locale)&&void 0!==s?s:O.A,U=(0,_.A)(null!==(c=null!==(u=null!==(d=null!==(h=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==h?h:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==d?d:z.firstWeekContainsDate)&&void 0!==u?u:null===(m=z.locale)||void 0===m||null===(g=m.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==c?c:1);if(!(U>=1&&U<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=(0,_.A)(null!==(v=null!==(y=null!==(b=null!==(x=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==x?x:null===n||void 0===n||null===(w=n.locale)||void 0===w||null===(I=w.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==b?b:z.weekStartsOn)&&void 0!==y?y:null===(M=z.locale)||void 0===M||null===(R=M.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==v?v:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var V=(0,i.default)(e);if(!(0,r.default)(V))throw new RangeError("Invalid time value");var q=(0,j.A)(V),W=(0,a.A)(V,q),H={firstWeekContainsDate:U,weekStartsOn:B,locale:F,_originalDate:V};return L.match(T).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,S.A[t])(e,F.formatLong):e}).join("").match(C).map(function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(D);if(!t)return e;return t[1].replace(P,"'")}(r);var i=k[a];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,N.xM)(r)||(0,N.lJ)(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,N.ef)(r)||(0,N.lJ)(r,t,String(e)),i(W,r,F.localize,H);if(a.match(A))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>XE,scaleDiverging:()=>HP,scaleDivergingLog:()=>KP,scaleDivergingPow:()=>GP,scaleDivergingSqrt:()=>QP,scaleDivergingSymlog:()=>YP,scaleIdentity:()=>FC,scaleImplicit:()=>QE,scaleLinear:()=>zC,scaleLog:()=>GC,scaleOrdinal:()=>JE,scalePoint:()=>ZE,scalePow:()=>rT,scaleQuantile:()=>mT,scaleQuantize:()=>gT,scaleRadial:()=>oT,scaleSequential:()=>zP,scaleSequentialLog:()=>FP,scaleSequentialPow:()=>BP,scaleSequentialQuantile:()=>qP,scaleSequentialSqrt:()=>VP,scaleSequentialSymlog:()=>UP,scaleSqrt:()=>aT,scaleSymlog:()=>$C,scaleThreshold:()=>vT,scaleTime:()=>IP,scaleUtc:()=>MP,tickFormat:()=>RC});var t=n(5043),r=n.t(t,2),a=n(4391);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=n(4467);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const c=["sri"],u=["page"],d=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],p=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function g(){return S(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return x("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s="POP",c=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:s,location:p.location,delta:t})}function f(e){return j(e)}null==u&&(u=0,o.replaceState(l(l({},o.state),{},{idx:u}),""));let p={get action(){return s},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(m,h),c=e,()=>{a.removeEventListener(m,h),c=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=x(p.location,e,t);n&&n(r,e),u=d()+1;let l=b(r,u),h=p.createHref(r);try{o.pushState(l,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}i&&c&&c({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=x(p.location,e,t);n&&n(r,e),u=d();let a=b(r,u),l=p.createHref(r);o.replaceState(a,"",l),i&&c&&c({action:s,location:p.location,delta:0})},go:e=>o.go(e)};return p}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function N(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,r){let a=B(("string"===typeof t?k(t):t).pathname||"/",n);if(null==a)return null;let i=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=U(a);o=L(i[s],e,r)}return o}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;v(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=K([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),E(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:R(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of O(e.path))i(e,t,!0,r);else i(e,t)}),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=O(r.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var C=/^:[\w-]+$/,T=3,D=2,P=1,A=10,I=-2,M=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=I),t&&(r+=D),n.filter(e=>!M(e)).reduce((e,t)=>e+(C.test(t)?T:""===t?P:A),r)}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:K([i,u.pathname]),pathnameBase:Y(K([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=K([i,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:o,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=l({},e),v(!r.pathname||!r.pathname.includes("?"),V("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),V("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),V("#","search","hash",r)));let i,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?k(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:G(r),hash:Q(a)}}(r,i),u=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],$=(new Set(X),["GET",...X]);new Set($),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var ee=t.createContext(null);ee.displayName="DataRouterState";var te=t.createContext(!1);var ne=t.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ae=t.createContext(null);ae.displayName="Await";var ie=t.createContext(null);ie.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var se=t.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var le=t.createContext(null);le.displayName="RouteError";function ce(){return null!=t.useContext(oe)}function ue(){return v(ce(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){t.useContext(ie).static||t.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=t.useContext(se);return e?function(){let{router:e}=Se("useNavigate"),n=Ne("useNavigate"),r=t.useRef(!1);he(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r.current,de),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,l({fromRouteId:n},a)))},[e,n]);return a}():function(){v(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:r}=t.useContext(ie),{matches:a}=t.useContext(se),{pathname:i}=ue(),o=JSON.stringify(W(a)),s=t.useRef(!1);he(()=>{s.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(s.current,de),!s.current)return;if("number"===typeof t)return void r.go(t);let l=H(t,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:K([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[n,r,o,i,e]);return l}()}t.createContext(null);function pe(){let{matches:e}=t.useContext(se),n=e[e.length-1];return n?n.params:{}}function me(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(se),{pathname:a}=ue(),i=JSON.stringify(W(r));return t.useMemo(()=>H(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function ge(e,n,r,a){v(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(ie),{matches:o}=t.useContext(se),s=o[o.length-1],c=s?s.params:{},u=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let e=h&&h.path||"";Oe(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=ue();if(n){var m;let e="string"===typeof n?k(n):n;v("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",b=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=N(e,{pathname:b});y(h||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),y(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=we(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:K([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);return n&&w?t.createElement(oe.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ve(){let e=_e(),n=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,s)}var ye=t.createElement(ve,null),be=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(se.Provider,{value:this.props.routeContext},t.createElement(le.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:n,match:r,children:a}=e,i=t.useContext(Z);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(se.Provider,{value:n},a)}function we(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,s=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){o=!0,a=s>=0?a.slice(0,s+1):[a[0]];break}}}return a.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;r&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||ye,o&&(s<0&&0===c?(Oe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=n.concat(a.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(xe,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(be,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let n=t.useContext(Z);return v(n,ke(e)),n}function je(e){let n=t.useContext(ee);return v(n,ke(e)),n}function Ne(e){let n=function(e){let n=t.useContext(se);return v(n,ke(e)),n}(e),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function _e(){var e;let n=t.useContext(le),r=je("useRouteError"),a=Ne("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var Ee={};function Oe(e,t,n){t||Ee[e]||(Ee[e]=!0,y(!1,n))}var Ce={};function Te(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r}=e;return ge(t,void 0,r,n)});function De(e){let{to:n,replace:r,state:a,relative:i}=e;v(ce(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=t.useContext(ie);y(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=t.useContext(se),{pathname:l}=ue(),c=fe(),u=H(n,W(s),l,"path"===i),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:r,state:a,relative:i})},[c,d,i,r,a]),null}function Pe(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(e){let{basename:n="/",children:r=null,location:a,navigationType:i="POP",navigator:o,static:s=!1}=e;v(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);"string"===typeof a&&(a=k(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=a,m=t.useMemo(()=>{let e=B(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return y(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ie.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:m}))}function Ie(e){let{children:t,location:n}=e;return ge(Me(t),n)}t.Component;function Me(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let i=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Me(e.props.children,i));v(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Me(e.props.children,i)),r.push(o)}),r}var Re="get",Le="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Ue.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Le,'"')),null)}function Ve(e,t){let n,r,a,i,o;if(function(e){return ze(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?B(o,t):null,n=e.getAttribute("method")||Re,a=Be(e.getAttribute("enctype"))||Le,i=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?B(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,a=Be(e.getAttribute("formenctype"))||Be(o.getAttribute("enctype"))||Le,i=new FormData(o,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,a=Le,o=e}return i&&"text/plain"===a&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e){return{__html:e}}function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function He(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===B(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ke(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,a,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Xe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Ye(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=t.useContext(Z);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=t.useContext(ee);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=t.createContext(void 0);function nt(){let e=t.useContext(tt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function at(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}tt.displayName="FrameworkContext";function it(e){let{page:n}=e,r=i(e,u),{router:a}=Ze(),o=t.useMemo(()=>N(a.routes,n,a.basename),[a.routes,n,a.basename]);return o?t.createElement(st,l({page:n,matches:o},r)):null}function ot(e){let{manifest:n,routeModules:r}=nt(),[a,i]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ke(r,n);return e.links?e.links():[]}return[]}));return Xe(r.flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||i(e)}),()=>{t=!0}},[e,n,r]),a}function st(e){let{page:n,matches:r}=e,a=i(e,d),o=ue(),{manifest:s,routeModules:c}=nt(),{basename:u}=Ze(),{loaderData:h,matches:f}=et(),p=t.useMemo(()=>Qe(n,r,f,s,o,"data"),[n,r,f,s,o]),m=t.useMemo(()=>Qe(n,r,f,s,o,"assets"),[n,r,f,s,o]),g=t.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=s.routes[n.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in h&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=He(n,u,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,h,o,s,p,r,n,c]),v=t.useMemo(()=>Je(m,s),[m,s]),y=ot(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",l({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>t.createElement("link",l({key:e,rel:"modulepreload",href:e},a))),y.map(e=>{let{key:n,link:r}=e;return t.createElement("link",l({key:n,nonce:a.nonce},r))}))}var lt=!1;function ct(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:u}=nt(),{router:d,static:h,staticContext:f}=Ze(),{matches:p}=et(),m=t.useContext(te),g=$e(s,u);o&&(o.didRenderScripts=!0);let v=at(p,null,a);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var a;if(m)return null;let o=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];We(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,c),a=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach(e=>{let n=N(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return l(l({},r),{},{routes:u,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(o),type:void 0})),t.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:qe(s),type:"module",async:!0})))},[]),b=lt||m?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Je(v,n,{includeHydrateFallback:!0}))),x="object"===typeof n.sri?n.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),lt||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),y)}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function dt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(n))return t.createElement(ht,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ht,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function ht(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=nt();return null!==s.root&&void 0!==n&&n.Layout&&!i?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,a?t.createElement(ct,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.8.1")}catch(iZ){}function pt(e){let{basename:n,children:r,window:a}=e,i=t.useRef();null==i.current&&(i.current=g({window:a,v5Compat:!0}));let o=i.current,[s,l]=t.useState({action:o.action,location:o.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>o.listen(c),[o,c]),t.createElement(Ae,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=t.forwardRef(function(e,n){let r,{onClick:a,discover:o="render",prefetch:s="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:b}=e,x=i(e,h),{basename:k}=t.useContext(ie),S="string"===typeof m&&mt.test(m),j=!1;if("string"===typeof m&&S&&(r=m,ft))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=B(t.pathname,k);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:j=!0}catch(iZ){y(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let N=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(ie),{hash:i,pathname:o,search:s}=me(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:K([r,o])),a.createHref({pathname:l,search:s,hash:i})}(m,{relative:c}),[_,E,O]=function(e,n){let r=t.useContext(tt),[a,i]=t.useState(!1),[o,s]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:rt(l,p),onBlur:rt(c,m),onMouseEnter:rt(u,p),onMouseLeave:rt(d,m),onTouchStart:rt(h,p)}]:[!1,f,{}]}(s,x),C=function(e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),u=me(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:w(c)===w(u);l(e,{replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,u,r,a,n,e,i,o,s])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:b});let T=t.createElement("a",l(l(l({},x),O),{},{href:r||N,onClick:j||u?a:function(e){a&&a(e),e.defaultPrevented||C(e)},ref:ut(n,E),target:p,"data-discover":S||"render"!==o?void 0:"true"}));return _&&!S?t.createElement(t.Fragment,null,T,t.createElement(it,{page:N})):T});gt.displayName="Link";var vt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:s=!1,style:c,to:u,viewTransition:d,children:h}=e,p=i(e,f),m=me(u,{relative:p.relative}),g=ue(),y=t.useContext(ee),{navigator:b,basename:x}=t.useContext(ie),w=null!=y&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ne);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xt("useViewTransitionState"),i=me(e,{relative:n});if(!r.isTransitioning)return!1;let o=B(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=B(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=z(i.pathname,s)||null!=z(i.pathname,o)}(m)&&!0===d,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=g.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&x&&(j=B(j,x)||j);const N="/"!==k&&k.endsWith("/")?k.length-1:k.length;let _,E=S===k||!s&&S.startsWith(k)&&"/"===S.charAt(N),O=null!=j&&(j===k||!s&&j.startsWith(k)&&"/"===j.charAt(k.length)),C={isActive:E,isPending:O,isTransitioning:w},T=E?r:void 0;_="function"===typeof o?o(C):[o,E?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof c?c(C):c;return t.createElement(gt,l(l({},p),{},{"aria-current":T,className:_,ref:n,style:D,to:u,viewTransition:d}),"function"===typeof h?h(C):h)});vt.displayName="NavLink";var yt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:c,state:u,method:d=Re,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:y}=e,b=i(e,p),x=St(),k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ie),a=t.useContext(se);v(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o=l({},me(e||".",{relative:n})),s=ue();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:K([r,o.pathname]));return w(o)}(h,{relative:m}),S="get"===d.toLowerCase()?"get":"post",j="string"===typeof h&&mt.test(h);return t.createElement("form",l(l({ref:n,method:S,action:k,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:c,state:u,relative:m,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":j||"render"!==r?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let n=t.useContext(Z);return v(n,bt(e)),n}yt.displayName="Form";var wt=0,kt=()=>"__".concat(String(++wt),"__");function St(){let{router:e}=xt("useSubmit"),{basename:n}=t.useContext(ie),r=Ne("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:l,body:c}=Ve(t,n);if(!1===a.navigate){let t=a.fetcherKey||kt();await e.fetch(t,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}const jt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},_t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Et={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ot=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ct=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:c="",children:u,iconNode:d}=e,h=i(e,Ot);return(0,t.createElement)("svg",l(l(l({ref:n},Et),{},{width:a,height:a,stroke:r,strokeWidth:s?24*Number(o)/Number(a):o,className:_t("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(u)?u:[u]])}),Tt=["className"],Dt=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:o}=r,s=i(r,Tt);return(0,t.createElement)(Ct,l({ref:a,iconNode:n,className:_t("lucide-".concat(jt(Nt(e))),"lucide-".concat(e),o)},s))});return r.displayName=Nt(e),r},Pt=Dt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),At=Dt("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),It=Dt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Mt=Dt("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Rt=Dt("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Lt=Dt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),zt=Dt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ft=Dt("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Ut=Dt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bt=Dt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Vt=Dt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function qt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=qt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=qt(e))&&(r&&(r+=" "),r+=t);return r}const Ht=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?Ht(e.slice(1),a):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},Kt=/^\[(.+)\]$/,Yt=e=>{if(Kt.test(e)){const t=Kt.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Gt=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)Qt(n[a],r,a,t);return r},Qt=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:Jt(t,e)).classGroupId=n)}if("function"===typeof e)return Xt(e)?void Qt(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[a,i]=e;Qt(i,Jt(t,a),n,r)})})},Jt=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Xt=e=>e.isThemeGetter,$t=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},Zt=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,a=0,i=0;for(let l=0;l<e.length;l++){let o=e[l];if(0===r&&0===a){if(":"===o){t.push(e.slice(i,l)),i=l+1;continue}if("/"===o){n=l;continue}}"["===o?r++:"]"===o?r--:"("===o?a++:")"===o&&a--}const o=0===t.length?e:e.substring(i),s=en(o);return{modifiers:t,hasImportantModifier:s!==o,baseClassName:s,maybePostfixModifierPosition:n&&n>i?n-i:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},en=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,tn=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},nn=e=>l({cache:$t(e.cacheSize),parseClassName:Zt(e),sortModifiers:tn(e)},(e=>{const t=Gt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Ht(n,t)||Yt(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}})(e)),rn=/\s+/;function an(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=on(e))&&(r&&(r+=" "),r+=t);return r}const on=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=on(e[r]))&&(n&&(n+=" "),n+=t);return n};function sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a,i,o,s=function(t){const r=n.reduce((e,t)=>t(e),e());return a=nn(r),i=a.cache.get,o=a.cache.set,s=l,l(t)};function l(e){const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],s=e.trim().split(rn);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=i(u).join(":"),v=d?g+"!":g,y=v+m;if(o.includes(y))continue;o.push(y);const b=a(m,p);for(let n=0;n<b.length;++n){const e=b[n];o.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,a);return o(e,n),n}return function(){return s(an.apply(null,arguments))}}const ln=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},cn=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,un=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dn=/^\d+\/\d+$/,hn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vn=e=>dn.test(e),yn=e=>!!e&&!Number.isNaN(Number(e)),bn=e=>!!e&&Number.isInteger(Number(e)),xn=e=>e.endsWith("%")&&yn(e.slice(0,-1)),wn=e=>hn.test(e),kn=()=>!0,Sn=e=>fn.test(e)&&!pn.test(e),jn=()=>!1,Nn=e=>mn.test(e),_n=e=>gn.test(e),En=e=>!Cn(e)&&!Mn(e),On=e=>Vn(e,Kn,jn),Cn=e=>cn.test(e),Tn=e=>Vn(e,Yn,Sn),Dn=e=>Vn(e,Gn,yn),Pn=e=>Vn(e,Wn,jn),An=e=>Vn(e,Hn,_n),In=e=>Vn(e,Jn,Nn),Mn=e=>un.test(e),Rn=e=>qn(e,Yn),Ln=e=>qn(e,Qn),zn=e=>qn(e,Wn),Fn=e=>qn(e,Kn),Un=e=>qn(e,Hn),Bn=e=>qn(e,Jn,!0),Vn=(e,t,n)=>{const r=cn.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},qn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=un.exec(e);return!!r&&(r[1]?t(r[1]):n)},Wn=e=>"position"===e||"percentage"===e,Hn=e=>"image"===e||"url"===e,Kn=e=>"length"===e||"size"===e||"bg-size"===e,Yn=e=>"length"===e,Gn=e=>"number"===e,Qn=e=>"family-name"===e,Jn=e=>"shadow"===e,Xn=(Symbol.toStringTag,()=>{const e=ln("color"),t=ln("font"),n=ln("text"),r=ln("font-weight"),a=ln("tracking"),i=ln("leading"),o=ln("breakpoint"),s=ln("container"),l=ln("spacing"),c=ln("radius"),u=ln("shadow"),d=ln("inset-shadow"),h=ln("text-shadow"),f=ln("drop-shadow"),p=ln("blur"),m=ln("perspective"),g=ln("aspect"),v=ln("ease"),y=ln("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Mn,Cn],x=()=>[Mn,Cn,l],w=()=>[vn,"full","auto",...x()],k=()=>[bn,"none","subgrid",Mn,Cn],S=()=>["auto",{span:["full",bn,Mn,Cn]},bn,Mn,Cn],j=()=>[bn,"auto",Mn,Cn],N=()=>["auto","min","max","fr",Mn,Cn],_=()=>["auto",...x()],E=()=>[vn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],O=()=>[e,Mn,Cn],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",zn,Pn,{position:[Mn,Cn]}],T=()=>["auto","cover","contain",Fn,On,{size:[Mn,Cn]}],D=()=>[xn,Rn,Tn],P=()=>["","none","full",c,Mn,Cn],A=()=>["",yn,Rn,Tn],I=()=>[yn,xn,zn,Pn],M=()=>["","none",p,Mn,Cn],R=()=>["none",yn,Mn,Cn],L=()=>["none",yn,Mn,Cn],z=()=>[yn,Mn,Cn],F=()=>[vn,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wn],breakpoint:[wn],color:[kn],container:[wn],"drop-shadow":[wn],ease:["in","out","in-out"],font:[En],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wn],shadow:[wn],spacing:["px",yn],text:[wn],"text-shadow":[wn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vn,Cn,Mn,g]}],container:["container"],columns:[{columns:[yn,Cn,Mn,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[bn,"auto",Mn,Cn]}],basis:[{basis:[vn,"full","auto",s,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yn,vn,"auto","initial","none",Cn]}],grow:[{grow:["",yn,Mn,Cn]}],shrink:[{shrink:["",yn,Mn,Cn]}],order:[{order:[bn,"first","last","none",Mn,Cn]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",n,Rn,Tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Mn,Dn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xn,Cn]}],"font-family":[{font:[Ln,Cn,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Mn,Cn]}],"line-clamp":[{"line-clamp":[yn,"none",Mn,Dn]}],leading:[{leading:[i,...x()]}],"list-image":[{"list-image":["none",Mn,Cn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Mn,Cn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[yn,"from-font","auto",Mn,Tn]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[yn,"auto",Mn,Cn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mn,Cn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mn,Cn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bn,Mn,Cn],radial:["",Mn,Cn],conic:[bn,Mn,Cn]},Un,An]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[yn,Mn,Cn]}],"outline-w":[{outline:["",yn,Rn,Tn]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,Bn,In]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,Bn,In]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[yn,Tn]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",h,Bn,In]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[yn,Mn,Cn]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yn]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Mn,Cn]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[yn]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Mn,Cn]}],filter:[{filter:["","none",Mn,Cn]}],blur:[{blur:M()}],brightness:[{brightness:[yn,Mn,Cn]}],contrast:[{contrast:[yn,Mn,Cn]}],"drop-shadow":[{"drop-shadow":["","none",f,Bn,In]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",yn,Mn,Cn]}],"hue-rotate":[{"hue-rotate":[yn,Mn,Cn]}],invert:[{invert:["",yn,Mn,Cn]}],saturate:[{saturate:[yn,Mn,Cn]}],sepia:[{sepia:["",yn,Mn,Cn]}],"backdrop-filter":[{"backdrop-filter":["","none",Mn,Cn]}],"backdrop-blur":[{"backdrop-blur":M()}],"backdrop-brightness":[{"backdrop-brightness":[yn,Mn,Cn]}],"backdrop-contrast":[{"backdrop-contrast":[yn,Mn,Cn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yn,Mn,Cn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yn,Mn,Cn]}],"backdrop-invert":[{"backdrop-invert":["",yn,Mn,Cn]}],"backdrop-opacity":[{"backdrop-opacity":[yn,Mn,Cn]}],"backdrop-saturate":[{"backdrop-saturate":[yn,Mn,Cn]}],"backdrop-sepia":[{"backdrop-sepia":["",yn,Mn,Cn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Mn,Cn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yn,"initial",Mn,Cn]}],ease:[{ease:["linear","initial",v,Mn,Cn]}],delay:[{delay:[yn,Mn,Cn]}],animate:[{animate:["none",y,Mn,Cn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Mn,Cn]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[Mn,Cn,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mn,Cn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mn,Cn]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[yn,Rn,Tn,Dn]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),$n=sn(Xn);function Zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $n(Wt(t))}const er=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.00";if(null===e||void 0===e||""===e)return n;const r=parseFloat(e);return isNaN(r)?n:r.toFixed(t)},tr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u20ac";const n=er(e,2,"0.00");return"".concat(t).concat(n)},nr=function(e){return null===e||void 0===e||"string"!==typeof e?arguments.length>1&&void 0!==arguments[1]?arguments[1]:"":e},rr=function(e){return nr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").toLowerCase()},ar=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return!0;const r=nr(e,""),a=nr(t,"");return n?r.includes(a):r.toLowerCase().includes(a.toLowerCase())},ir=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=nr(e,t);return n?n.toLowerCase().replace(/[\xe0\xe1\xe2\xe3\xe4\xe5]/g,"a").replace(/[\xe8\xe9\xea\xeb]/g,"e").replace(/[\xec\xed\xee\xef]/g,"i").replace(/[\xf2\xf3\xf4\xf5\xf6]/g,"o").replace(/[\xf9\xfa\xfb\xfc]/g,"u").replace(/[\xf1]/g,"n").replace(/[\xe7]/g,"c"):t};var or=n(579);const sr=e=>{let{isCollapsed:n,onToggle:r}=e;const a=ue(),i=fe(),[o,s]=(0,t.useState)(null),[l,c]=(0,t.useState)("MVL");(0,t.useEffect)(()=>{const e=localStorage.getItem("appLogo"),t=localStorage.getItem("appName");e&&s(e),t&&c(t)},[]),(0,t.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("appLogo");s(e)},t=()=>{const e=localStorage.getItem("appName");c(e)};return window.addEventListener("logoChanged",e),window.addEventListener("nameChanged",t),()=>{window.removeEventListener("logoChanged",e),window.removeEventListener("nameChanged",t)}},[]);const u=[{key:"dashboard",icon:Pt,label:"Dashboard",path:"/dashboard"},{key:"magazzino",icon:At,label:"Magazzino",path:"/magazzino"},{key:"stock",icon:It,label:"Stock",path:"/stock"},{key:"ordini",icon:Mt,label:"Ordini",path:"/ordini"},{key:"ordini-fornitori",icon:Rt,label:"Ordini Fornitori",path:"/ordini-fornitori"},{key:"marketing",icon:Lt,label:"Marketing",path:"/marketing"},{key:"costi",icon:zt,label:"Costi",path:"/costi"},{key:"conto-economico",icon:Ft,label:"Conto Economico",path:"/conto-economico"},{key:"settings",icon:Ut,label:"Impostazioni",path:"/settings"}];return(0,or.jsxs)("div",{className:Zn("bg-white border-r border-gray-200 h-screen flex flex-col transition-all duration-300",n?"w-16":"w-64"),children:[(0,or.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,or.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{i("/")},children:[o?(0,or.jsx)("img",{src:o,alt:"Logo MVL",className:Zn("object-contain transition-all duration-300",n?"h-8 w-8":"h-12 w-12")}):(0,or.jsx)("div",{className:Zn("bg-purple-700 rounded-lg flex items-center justify-center transition-all duration-300",n?"h-8 w-8":"h-12 w-12"),children:n?(0,or.jsx)("span",{className:"text-white font-bold text-lg",children:"M"}):(0,or.jsxs)("div",{className:"flex flex-col items-center text-white",children:[(0,or.jsx)("span",{className:"font-bold text-lg",children:"MVL"}),(0,or.jsx)("span",{className:"text-xs",children:"LOGISTICA"})]})}),!n&&(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"MVL"}),(0,or.jsx)("span",{className:"text-xs text-gray-500",children:"Il tuo partner di logistica"})]})]})}),(0,or.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,or.jsx)("ul",{className:"space-y-1 px-3",children:u.map(e=>{const t=e.icon,r=a.pathname===e.path;return(0,or.jsx)("li",{children:(0,or.jsxs)(gt,{to:e.path,className:Zn("flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors group",r?"bg-blue-100 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),title:n?e.label:void 0,children:[(0,or.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,or.jsx)(t,{className:Zn("h-5 w-5",r?"text-blue-600":"text-gray-400 group-hover:text-gray-600")}),!n&&(0,or.jsx)("span",{children:e.label})]}),!n&&(0,or.jsx)("div",{className:"text-gray-400 group-hover:text-gray-600",children:"\u2192"})]})},e.key)})})}),(0,or.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,or.jsx)("button",{onClick:r,className:"w-full flex items-center justify-center p-3 rounded-lg bg-blue-50 hover:bg-blue-100 text-blue-600 hover:text-blue-700 transition-all duration-200 border border-blue-200 hover:border-blue-300",title:n?"Espandi sidebar":"Collassa sidebar",children:n?(0,or.jsx)(Bt,{className:"h-5 w-5"}):(0,or.jsx)(Vt,{className:"h-5 w-5"})})})]})},lr=Dt("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),cr=Dt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ur=Dt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),dr=Dt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hr=e=>{let{sidebarCollapsed:n,onToggleSidebar:r}=e;const[a,i]=(0,t.useState)(new Date),[o,s]=(0,t.useState)(new Date);(0,t.useEffect)(()=>{const e=setInterval(()=>{i(new Date)},6e4),t=setInterval(()=>{s(new Date)},3e5);return()=>{clearInterval(e),clearInterval(t)}},[]);const l=e=>e.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});return(0,or.jsx)("div",{className:"bg-[#604EC2] text-white px-6 py-3 shadow-sm",children:(0,or.jsxs)("div",{className:"flex justify-between items-center",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,or.jsx)("button",{onClick:r,className:"p-2 rounded-md hover:bg-[#4A3DA8] transition-colors",title:n?"Mostra sidebar":"Nascondi sidebar",children:n?(0,or.jsx)(lr,{className:"h-5 w-5 text-white"}):(0,or.jsx)(cr,{className:"h-5 w-5 text-white"})}),(0,or.jsx)("div",{className:"flex items-center space-x-3",children:(0,or.jsx)("img",{src:"/MVL solo scirtta.png",alt:"Logo MVL",className:"h-16 w-auto object-contain"})})]}),(0,or.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-2 text-purple-100",children:[(0,or.jsx)(ur,{className:"h-4 w-4"}),(0,or.jsxs)("span",{className:"text-sm",children:["Sync: ",(e=>e.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"}))(o)," ",l(o)]})]}),(0,or.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,or.jsx)(dr,{className:"h-4 w-4"}),(0,or.jsx)("span",{className:"text-sm font-medium",children:"admin"})]}),(0,or.jsx)("div",{className:"text-purple-100 text-sm",children:l(a)})]})]})})},fr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},pr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,o=i?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==s)throw new mr;const l=t<<2|i>>4;if(r.push(l),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gr=function(e){return function(e){const t=fr(e);return pr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vr=function(e){try{return pr.decodeString(e,!0)}catch(iZ){console.error("base64Decode failed: ",iZ)}return null};const yr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,br=()=>{try{return yr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(iZ){return}const t=e&&vr(e[1]);return t&&JSON.parse(t)})()}catch(iZ){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(iZ))}},xr=e=>{var t,n;return null===(n=null===(t=br())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},wr=()=>{var e;return null===(e=br())||void 0===e?void 0:e.config},kr=e=>{var t;return null===(t=br())||void 0===t?void 0:t["_".concat(e)]};class Sr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function jr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Nr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _r(){try{return"object"===typeof indexedDB}catch(iZ){return!1}}function Er(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Or extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cr.prototype.create)}}class Cr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Tr,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Or(n,i,t)}}const Tr=/\{\$([^}]+)}/g;function Dr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Pr(n)&&Pr(i)){if(!Dr(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Pr(e){return null!==e&&"object"===typeof e}function Ar(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ir(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Mr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Rr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Lr),void 0===r.error&&(r.error=Lr),void 0===r.complete&&(r.complete=Lr);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(iZ){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(iZ){"undefined"!==typeof console&&console.error&&console.error(iZ)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lr(){}function zr(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Fr(e){return e&&e._delegate?e._delegate:e}class Ur{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class Vr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Sr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(iZ){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(iZ){if(r)return null;throw iZ}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch(iZ){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(iZ){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===Br?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wr=[];var Hr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hr||(Hr={}));const Kr={debug:Hr.DEBUG,verbose:Hr.VERBOSE,info:Hr.INFO,warn:Hr.WARN,error:Hr.ERROR,silent:Hr.SILENT},Yr=Hr.INFO,Gr={[Hr.DEBUG]:"log",[Hr.VERBOSE]:"log",[Hr.INFO]:"info",[Hr.WARN]:"warn",[Hr.ERROR]:"error"},Qr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Gr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Jr{constructor(e){this.name=e,this._logLevel=Yr,this._logHandler=Qr,this._userLogHandler=null,Wr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Kr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hr.DEBUG,...t),this._logHandler(this,Hr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hr.VERBOSE,...t),this._logHandler(this,Hr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hr.INFO,...t),this._logHandler(this,Hr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hr.WARN,...t),this._logHandler(this,Hr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hr.ERROR,...t),this._logHandler(this,Hr.ERROR,...t)}}let Xr,$r;const Zr=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap;let aa={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ea.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ta.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ia(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($r||($r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(la(this),n),sa(Zr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sa(e.apply(la(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(la(this),t,...r);return ta.set(i,t.sort?t.sort():[t]),sa(i)}}function oa(e){return"function"===typeof e?ia(e):(e instanceof IDBTransaction&&function(e){if(ea.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});ea.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Xr||(Xr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,aa):e)}function sa(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(sa(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Zr.set(t,e)}).catch(()=>{}),ra.set(t,e),t}(e);if(na.has(e))return na.get(e);const t=oa(e);return t!==e&&(na.set(e,t),ra.set(t,e)),t}const la=e=>ra.get(e);const ca=["get","getKey","getAll","getAllKeys","count"],ua=["put","add","delete","clear"],da=new Map;function ha(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(da.get(t))return da.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=ua.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!ca.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),a&&t.done]))[0]};return da.set(t,i),i}aa=(e=>l(l({},e),{},{get:(t,n,r)=>ha(t,n)||e.get(t,n,r),has:(t,n)=>!!ha(t,n)||e.has(t,n)}))(aa);class fa{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const pa="@firebase/app",ma="0.9.13",ga=new Jr("@firebase/app"),va="@firebase/app-compat",ya="@firebase/analytics-compat",ba="@firebase/analytics",xa="@firebase/app-check-compat",wa="@firebase/app-check",ka="@firebase/auth",Sa="@firebase/auth-compat",ja="@firebase/database",Na="@firebase/database-compat",_a="@firebase/functions",Ea="@firebase/functions-compat",Oa="@firebase/installations",Ca="@firebase/installations-compat",Ta="@firebase/messaging",Da="@firebase/messaging-compat",Pa="@firebase/performance",Aa="@firebase/performance-compat",Ia="@firebase/remote-config",Ma="@firebase/remote-config-compat",Ra="@firebase/storage",La="@firebase/storage-compat",za="@firebase/firestore",Fa="@firebase/firestore-compat",Ua="firebase",Ba="[DEFAULT]",Va={[pa]:"fire-core",[va]:"fire-core-compat",[ba]:"fire-analytics",[ya]:"fire-analytics-compat",[wa]:"fire-app-check",[xa]:"fire-app-check-compat",[ka]:"fire-auth",[Sa]:"fire-auth-compat",[ja]:"fire-rtdb",[Na]:"fire-rtdb-compat",[_a]:"fire-fn",[Ea]:"fire-fn-compat",[Oa]:"fire-iid",[Ca]:"fire-iid-compat",[Ta]:"fire-fcm",[Da]:"fire-fcm-compat",[Pa]:"fire-perf",[Aa]:"fire-perf-compat",[Ia]:"fire-rc",[Ma]:"fire-rc-compat",[Ra]:"fire-gcs",[La]:"fire-gcs-compat",[za]:"fire-fst",[Fa]:"fire-fst-compat","fire-js":"fire-js",[Ua]:"fire-js-all"},qa=new Map,Wa=new Map;function Ha(e,t){try{e.container.addComponent(t)}catch(iZ){ga.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),iZ)}}function Ka(e){const t=e.name;if(Wa.has(t))return ga.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wa.set(t,e);for(const n of qa.values())Ha(n,e);return!0}function Ya(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ga=new Cr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qa{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}const Ja="9.23.0";function Xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ba,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw Ga.create("bad-app-name",{appName:String(a)});if(n||(n=wr()),!n)throw Ga.create("no-options");const i=qa.get(a);if(i){if(Dr(n,i.options)&&Dr(r,i.config))return i;throw Ga.create("duplicate-app",{appName:a})}const o=new qr(a);for(const l of Wa.values())o.addComponent(l);const s=new Qa(n,r,o);return qa.set(a,s),s}function $a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba;const t=qa.get(e);if(!t&&e===Ba&&wr())return Xa();if(!t)throw Ga.create("no-app",{appName:e});return t}function Za(e,t,n){var r;let a=null!==(r=Va[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ga.warn(e.join(" "))}Ka(new Ur("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=sa(o);return r&&o.addEventListener("upgradeneeded",e=>{r(sa(o.result),e.oldVersion,e.newVersion,sa(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ei)}}).catch(e=>{throw Ga.create("idb-open",{originalErrorMessage:e.message})})),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,ai(e)),await n.done}catch(iZ){if(iZ instanceof Or)ga.warn(iZ.message);else{const t=Ga.create("idb-set",{originalErrorMessage:null===iZ||void 0===iZ?void 0:iZ.message});ga.warn(t.message)}}}function ai(e){return"".concat(e.name,"!").concat(e.options.appId)}class ii{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new si(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=oi();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=oi(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=gr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function oi(){return(new Date).toISOString().substring(0,10)}class si{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_r()&&Er().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await ni();return await t.transaction(ei).objectStore(ei).get(ai(e))}catch(iZ){if(iZ instanceof Or)ga.warn(iZ.message);else{const t=Ga.create("idb-get",{originalErrorMessage:null===iZ||void 0===iZ?void 0:iZ.message});ga.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return gr(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",Ka(new Ur("platform-logger",e=>new fa(e),"PRIVATE")),Ka(new Ur("heartbeat",e=>new ii(e),"PRIVATE")),Za(pa,ma,ci),Za(pa,ma,"esm2017"),Za("fire-js","");Za("firebase","9.23.0","app");var ui,di="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hi={},fi=fi||{},pi=di||self;function mi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vi="closure_uid_"+(1e9*Math.random()>>>0),yi=0;function bi(e,t,n){return e.call.apply(e.bind,arguments)}function xi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wi(e,t,n){return(wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bi:xi).apply(null,arguments)}function ki(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Si(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function ji(){this.s=this.s,this.o=this.o}ji.prototype.s=!1,ji.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,vi)&&e[vi]||(e[vi]=++yi)}(this)},ji.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ni=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _i(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ei(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(mi(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function Oi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Oi.prototype.h=function(){this.defaultPrevented=!0};var Ci=function(){if(!pi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pi.addEventListener("test",()=>{},t),pi.removeEventListener("test",()=>{},t)}catch(NK){}return e}();function Ti(e){return/^[\s\xa0]*$/.test(e)}function Di(){var e=pi.navigator;return e&&(e=e.userAgent)?e:""}function Pi(e){return-1!=Di().indexOf(e)}function Ai(e){return Ai[" "](e),e}Ai[" "]=function(){};var Ii,Mi,Ri=Pi("Opera"),Li=Pi("Trident")||Pi("MSIE"),zi=Pi("Edge"),Fi=zi||Li,Ui=Pi("Gecko")&&!(-1!=Di().toLowerCase().indexOf("webkit")&&!Pi("Edge"))&&!(Pi("Trident")||Pi("MSIE"))&&!Pi("Edge"),Bi=-1!=Di().toLowerCase().indexOf("webkit")&&!Pi("Edge");function Vi(){var e=pi.document;return e?e.documentMode:void 0}e:{var qi="",Wi=function(){var e=Di();return Ui?/rv:([^\);]+)(\)|;)/.exec(e):zi?/Edge\/([\d\.]+)/.exec(e):Li?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bi?/WebKit\/(\S+)/.exec(e):Ri?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wi&&(qi=Wi?Wi[1]:""),Li){var Hi=Vi();if(null!=Hi&&Hi>parseFloat(qi)){Ii=String(Hi);break e}}Ii=qi}if(pi.document&&Li){var Ki=Vi();Mi=Ki||(parseInt(Ii,10)||void 0)}else Mi=void 0;var Yi=Mi;function Gi(e,t){if(Oi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ui){e:{try{Ai(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gi.$.h.call(this)}}Si(Gi,Oi);var Qi={2:"touch",3:"pen",4:"mouse"};Gi.prototype.h=function(){Gi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ji="closure_listenable_"+(1e6*Math.random()|0),Xi=0;function $i(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=a,this.key=++Xi,this.fa=this.ia=!1}function Zi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function eo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function to(e){const t={};for(const n in e)t[n]=e[n];return t}const no="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ro(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<no.length;t++)n=no[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ao(e){this.src=e,this.g={},this.h=0}function io(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Ni(a,t);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(Zi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oo(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return a}return-1}ao.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=oo(e,t,r,a);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new $i(t,this.src,i,!!r,a)).ia=n,e.push(t)),t};var so="closure_lm_"+(1e6*Math.random()|0),lo={};function co(e,t,n,r,a){if(r&&r.once)return ho(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)co(e,t[i],n,r,a);return null}return n=bo(n),e&&e[Ji]?e.O(t,n,gi(r)?!!r.capture:!!r,a):uo(e,t,n,!1,r,a)}function uo(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=gi(a)?!!a.capture:!!a,s=vo(e);if(s||(e[so]=s=new ao(e)),(n=s.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=go;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ci||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(mo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ho(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)ho(e,t[i],n,r,a);return null}return n=bo(n),e&&e[Ji]?e.P(t,n,gi(r)?!!r.capture:!!r,a):uo(e,t,n,!0,r,a)}function fo(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)fo(e,t[i],n,r,a);else r=gi(r)?!!r.capture:!!r,n=bo(n),e&&e[Ji]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=oo(i=e.g[t],n,r,a))&&(Zi(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=vo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oo(t,n,r,a)),(n=-1<e?t[e]:null)&&po(n))}function po(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ji])io(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vo(t))?(io(n,e),0==n.h&&(n.src=null,t[so]=null)):Zi(e)}}}function mo(e){return e in lo?lo[e]:lo[e]="on"+e}function go(e,t){if(e.fa)e=!0;else{t=new Gi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&po(e),e=n.call(r,t)}return e}function vo(e){return(e=e[so])instanceof ao?e:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(e){return"function"===typeof e?e:(e[yo]||(e[yo]=function(t){return e.handleEvent(t)}),e[yo])}function xo(){ji.call(this),this.i=new ao(this),this.S=this,this.J=null}function wo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Oi(t,e);else if(t instanceof Oi)t.target=t.target||e;else{var a=t;ro(t=new Oi(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=ko(o,r,!0,t)&&a}if(a=ko(o=t.g=e,r,!0,t)&&a,a=ko(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ko(o=t.g=n[i],r,!1,t)&&a}function ko(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var s=o.listener,l=o.la||o.src;o.ia&&io(e.i,o),a=!1!==s.call(l,r)&&a}}return a&&!r.defaultPrevented}Si(xo,ji),xo.prototype[Ji]=!0,xo.prototype.removeEventListener=function(e,t,n,r){fo(this,e,t,n,r)},xo.prototype.N=function(){if(xo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zi(n[r]);delete t.g[e],t.h--}}this.J=null},xo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var So=pi.JSON.stringify;function jo(){var e=Do;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var No=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _o,e=>e.reset());class _o{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Eo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oo(e){pi.setTimeout(()=>{throw e},0)}let Co,To=!1,Do=new class{constructor(){this.h=this.g=null}add(e,t){const n=No.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Po=()=>{const e=pi.Promise.resolve(void 0);Co=()=>{e.then(Ao)}};var Ao=()=>{for(var e;e=jo();){try{e.h.call(e.g)}catch(NK){Oo(NK)}var t=No;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}To=!1};function Io(e,t){xo.call(this),this.h=e||1,this.g=t||pi,this.j=wi(this.qb,this),this.l=Date.now()}function Mo(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ro(e,t,n){if("function"===typeof e)n&&(e=wi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wi(e.handleEvent,e)}return 2147483647<Number(t)?-1:pi.setTimeout(e,t||0)}function Lo(e){e.g=Ro(()=>{e.g=null,e.i&&(e.i=!1,Lo(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Si(Io,xo),(ui=Io.prototype).ga=!1,ui.T=null,ui.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wo(this,"tick"),this.ga&&(Mo(this),this.start()))}},ui.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ui.N=function(){Io.$.N.call(this),Mo(this),delete this.g};class zo extends ji{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(pi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(e){ji.call(this),this.h=e,this.g={}}Si(Fo,ji);var Uo=[];function Bo(e,t,n,r){Array.isArray(n)||(n&&(Uo[0]=n.toString()),n=Uo);for(var a=0;a<n.length;a++){var i=co(t,n[a],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Vo(e){eo(e.g,function(e,t){this.g.hasOwnProperty(t)&&po(e)},e),e.g={}}function qo(){this.g=!0}function Wo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return So(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Fo.prototype.N=function(){Fo.$.N.call(this),Vo(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qo.prototype.Ea=function(){this.g=!1},qo.prototype.info=function(){};var Ho={},Ko=null;function Yo(){return Ko=Ko||new xo}function Go(e){Oi.call(this,Ho.Ta,e)}function Qo(e){const t=Yo();wo(t,new Go(t))}function Jo(e,t){Oi.call(this,Ho.STAT_EVENT,e),this.stat=t}function Xo(e){const t=Yo();wo(t,new Jo(t,e))}function $o(e,t){Oi.call(this,Ho.Ua,e),this.size=t}function Zo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pi.setTimeout(function(){e()},t)}Ho.Ta="serverreachability",Si(Go,Oi),Ho.STAT_EVENT="statevent",Si(Jo,Oi),Ho.Ua="timingevent",Si($o,Oi);var es={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ts={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ns(){}function rs(e){return e.h||(e.h=e.i())}function as(){}ns.prototype.h=null;var is,os={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ss(){Oi.call(this,"d")}function ls(){Oi.call(this,"c")}function cs(){}function us(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Fo(this),this.P=hs,e=Fi?125:void 0,this.V=new Io(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ds}function ds(){this.i=null,this.g="",this.h=!1}Si(ss,Oi),Si(ls,Oi),Si(cs,ns),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},is=new cs;var hs=45e3,fs={},ps={};function ms(e,t,n){e.L=1,e.v=Is(Cs(t)),e.s=n,e.S=!0,gs(e,null)}function gs(e,t){e.G=Date.now(),xs(e),e.A=Cs(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ys(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ds,e.g=Yl(e.l,n?t:null,!e.s),0<e.O&&(e.M=new zo(wi(e.Pa,e,e.g),e.O)),Bo(e.U,e.g,"readystatechange",e.nb),t=e.I?to(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Qo(),function(e,t,n,r,a,i){e.info(function(){if(e.g)if(i)for(var o="",s=i.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function vs(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ys(e,t,n){let r,a=!0;for(;!e.J&&e.C<n.length;){if(r=bs(e,n),r==ps){4==t&&(e.o=4,Xo(14),a=!1),Wo(e.j,e.m,null,"[Incomplete Response]");break}if(r==fs){e.o=4,Xo(15),Wo(e.j,e.m,n,"[Invalid Chunk]"),a=!1;break}Wo(e.j,e.m,r,null),Ns(e,r)}vs(e)&&r!=ps&&r!=fs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xo(16),a=!1),e.i=e.i&&a,a?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fl(t),t.M=!0,Xo(11))):(Wo(e.j,e.m,n,"[Invalid Chunked Response]"),js(e),Ss(e))}function bs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ps:(n=Number(t.substring(n,r)),isNaN(n)?fs:(r+=1)+n>t.length?ps:(t=t.slice(r,r+n),e.C=r+n,t))}function xs(e){e.Y=Date.now()+e.P,ws(e,e.P)}function ws(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zo(wi(e.lb,e),t)}function ks(e){e.B&&(pi.clearTimeout(e.B),e.B=null)}function Ss(e){0==e.l.H||e.J||Vl(e.l,e)}function js(e){ks(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Mo(e.V),Vo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ns(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||el(n.i,e)))if(!e.K&&el(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Bl(n),Dl(n)}zl(n),Xo(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&0==n.A&&!n.v&&(n.v=Zo(wi(n.ib,n),6e3));if(1>=Zs(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Wl(n,11)}else if((e.K||n.g==e)&&Bl(n),!Ti(t))for(a=n.Ja.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const a=c[4];null!=a&&(n.Ga=a,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(tl(i,i.h),i.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,As(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Kl(r,r.J?r.pa:null,r.Y),o.K){nl(r.i,o);var s=o,l=r.L;l&&s.setTimeout(l),s.B&&(ks(s),xs(s)),r.g=o}else Ll(r);0<n.j.length&&Al(n)}else"stop"!=c[0]&&"close"!=c[0]||Wl(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wl(n,7):Tl(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Qo()}catch(c){}}function _s(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(mi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(mi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}(ui=us.prototype).setTimeout=function(e){this.P=e},ui.nb=function(e){e=e.target;const t=this.M;t&&3==jl(e)?t.l():this.Pa(e)},ui.Pa=function(e){try{if(e==this.g)e:{const u=jl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Fi||this.g&&(this.h.h||this.g.ja()||Nl(this.g)))){this.J||4!=u||7==t||Qo(),ks(this);var n=this.g.da();this.ca=n;t:if(vs(this)){var r=Nl(this.g);e="";var a=r.length,i=4==jl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){js(this),Ss(this);var o="";break t}this.h.i=new pi.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==a-1});r.splice(0,a),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,a,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ti(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xo(12),js(this),Ss(this);break e}Wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,n)}this.S?(ys(this,u,o),Fi&&this.i&&3==u&&(Bo(this.U,this.V,"tick",this.mb),this.V.start())):(Wo(this.j,this.m,o,null),Ns(this,o)),4==u&&js(this),this.i&&!this.J&&(4==u?Vl(this.l,this):(this.i=!1,xs(this)))}else(function(e){const t={};e=(e.g&&2<=jl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ti(e[r]))continue;var n=Eo(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Xo(12)):(this.o=0,Xo(13)),js(this),Ss(this)}}}catch(u){}},ui.mb=function(){if(this.g){var e=jl(this.g),t=this.g.ja();this.C<t.length&&(ks(this),ys(this,e,t),this.i&&4!=e&&xs(this))}},ui.cancel=function(){this.J=!0,js(this)},ui.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Qo(),Xo(17)),js(this),this.o=2,Ss(this)):ws(this,this.Y-e)};var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Os){this.h=e.h,Ts(this,e.j),this.s=e.s,this.g=e.g,Ds(this,e.m),this.l=e.l;var t=e.i,n=new qs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ps(this,n),this.o=e.o}else e&&(t=String(e).match(Es))?(this.h=!1,Ts(this,t[1]||"",!0),this.s=Ms(t[2]||""),this.g=Ms(t[3]||"",!0),Ds(this,t[4]),this.l=Ms(t[5]||"",!0),Ps(this,t[6]||"",!0),this.o=Ms(t[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}function Cs(e){return new Os(e)}function Ts(e,t,n){e.j=n?Ms(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ds(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ps(e,t,n){t instanceof qs?(e.i=t,function(e,t){t&&!e.j&&(Ws(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Hs(this,t),Ys(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Rs(t,Bs)),e.i=new qs(t,e.h))}function As(e,t,n){e.i.set(t,n)}function Is(e){return As(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ls),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ls(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Os.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rs(t,zs,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rs(t,zs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rs(n,"/"==n.charAt(0)?Us:Fs,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rs(n,Vs)),e.join("")};var zs=/[#\/\?@]/g,Fs=/[#\?:]/g,Us=/[#\?]/g,Bs=/[#\?@]/g,Vs=/#/g;function qs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ws(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Hs(e,t){Ws(e),t=Gs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ks(e,t){return Ws(e),t=Gs(e,t),e.g.has(t)}function Ys(e,t,n){Hs(e,t),0<n.length&&(e.i=null,e.g.set(Gs(e,t),_i(n)),e.h+=n.length)}function Gs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ui=qs.prototype).add=function(e,t){Ws(this),this.i=null,e=Gs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ui.forEach=function(e,t){Ws(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},ui.ta=function(){Ws(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},ui.Z=function(e){Ws(this);let t=[];if("string"===typeof e)Ks(this,e)&&(t=t.concat(this.g.get(Gs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ui.set=function(e,t){return Ws(this),this.i=null,Ks(this,e=Gs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ui.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ui.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var Qs=class{constructor(e,t){this.g=e,this.map=t}};function Js(e){this.l=e||Xs,pi.PerformanceNavigationTiming?e=0<(e=pi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pi.g&&pi.g.Ka&&pi.g.Ka()&&pi.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xs=10;function $s(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zs(e){return e.h?1:e.g?e.g.size:0}function el(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tl(e,t){e.g?e.g.add(t):e.h=t}function nl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _i(e.i)}Js.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var al=class{stringify(e){return pi.JSON.stringify(e,void 0)}parse(e){return pi.JSON.parse(e,void 0)}};function il(){this.g=new al}function ol(e,t,n){const r=n||"";try{_s(e,function(e,n){let a=e;gi(e)&&(a=So(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(iZ){throw t.push(r+"type="+encodeURIComponent("_badmap")),iZ}}function sl(e,t,n,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(i){}}function ll(e){this.l=e.fc||null,this.j=e.ob||!1}function cl(e,t){xo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ul,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si(ll,ns),ll.prototype.g=function(){return new cl(this.l,this.j)},ll.prototype.i=function(e){return function(){return e}}({}),Si(cl,xo);var ul=0;function dl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function hl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fl(e)}function fl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ui=cl.prototype).open=function(e,t){if(this.readyState!=ul)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fl(this)},ui.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||pi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ui.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hl(this)),this.readyState=ul},ui.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof pi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ui.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hl(this):fl(this),3==this.readyState&&dl(this)}},ui.Za=function(e){this.g&&(this.response=this.responseText=e,hl(this))},ui.Ya=function(e){this.g&&(this.response=e,hl(this))},ui.ka=function(){this.g&&hl(this)},ui.setRequestHeader=function(e,t){this.v.append(e,t)},ui.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ui.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var pl=pi.JSON.parse;function ml(e){xo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gl,this.L=this.M=!1}Si(ml,xo);var gl="",vl=/^https?$/i,yl=["POST","PUT"];function bl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xl(e),kl(e)}function xl(e){e.F||(e.F=!0,wo(e,"complete"),wo(e,"error"))}function wl(e){if(e.h&&"undefined"!=typeof fi&&(!e.C[1]||4!=jl(e)||2!=e.da()))if(e.v&&4==jl(e))Ro(e.La,0,e);else if(wo(e,"readystatechange"),4==jl(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var a=String(e.I).match(Es)[1]||null;!a&&pi.self&&pi.self.location&&(a=pi.self.location.protocol.slice(0,-1)),r=!vl.test(a?a.toLowerCase():"")}n=r}if(n)wo(e,"complete"),wo(e,"success");else{e.m=6;try{var i=2<jl(e)?e.g.statusText:""}catch(o){i=""}e.j=i+" ["+e.da()+"]",xl(e)}}finally{kl(e)}}}function kl(e,t){if(e.g){Sl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||wo(e,"ready");try{n.onreadystatechange=r}catch(iZ){}}}function Sl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(pi.clearTimeout(e.A),e.A=null)}function jl(e){return e.g?e.g.readyState:0}function Nl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tc){return null}}function _l(e){let t="";return eo(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function El(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_l(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):As(e,t,n))}function Ol(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cl(e){this.Ga=0,this.j=[],this.l=new qo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ol("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ol("baseRetryDelayMs",5e3,e),this.hb=Ol("retryDelaySeedMs",1e4,e),this.eb=Ol("forwardChannelMaxRetries",2,e),this.xa=Ol("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Js(e&&e.concurrentRequestLimit),this.Ja=new il,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Tl(e){if(Pl(e),3==e.H){var t=e.W++,n=Cs(e.I);if(As(n,"SID",e.K),As(n,"RID",t),As(n,"TYPE","terminate"),Ml(e,n),(t=new us(e,e.l,t)).L=2,t.v=Is(Cs(n)),n=!1,pi.navigator&&pi.navigator.sendBeacon)try{n=pi.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&pi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),xs(t)}Hl(e)}function Dl(e){e.g&&(Fl(e),e.g.cancel(),e.g=null)}function Pl(e){Dl(e),e.u&&(pi.clearTimeout(e.u),e.u=null),Bl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pi.clearTimeout(e.m),e.m=null)}function Al(e){if(!$s(e.i)&&!e.m){e.m=!0;var t=e.Na;Co||Po(),To||(Co(),To=!0),Do.add(t,e),e.C=0}}function Il(e,t){var n;n=t?t.m:e.W++;const r=Cs(e.I);As(r,"SID",e.K),As(r,"RID",n),As(r,"AID",e.V),Ml(e,r),e.o&&e.s&&El(r,e.o,e.s),n=new us(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Rl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),tl(e.i,n),ms(n,r,t)}function Ml(e,t){e.na&&eo(e.na,function(e,n){As(t,n,e)}),e.h&&_s({},function(e,n){As(t,n,e)})}function Rl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?wi(e.h.Va,e.h,e):null;e:{var a=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=a[o].g;const s=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),i=!1;else try{ol(s,e,"req"+n+"_")}catch(Bc){r&&r(s)}}if(i){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ll(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Co||Po(),To||(Co(),To=!0),Do.add(t,e),e.A=0}}function zl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Zo(wi(e.Ma,e),ql(e,e.A)),e.A++,!0)}function Fl(e){null!=e.B&&(pi.clearTimeout(e.B),e.B=null)}function Ul(e){e.g=new us(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cs(e.wa);As(t,"RID","rpc"),As(t,"SID",e.K),As(t,"AID",e.V),As(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&As(t,"TO",e.qa),As(t,"TYPE","xmlhttp"),Ml(e,t),e.o&&e.s&&El(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Is(Cs(t)),n.s=null,n.S=!0,gs(n,e)}function Bl(e){null!=e.v&&(pi.clearTimeout(e.v),e.v=null)}function Vl(e,t){var n=null;if(e.g==t){Bl(e),Fl(e),e.g=null;var r=2}else{if(!el(e.i,t))return;n=t.F,nl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var a=e.C;wo(r=Yo(),new $o(r,n)),Al(e)}else Ll(e);else if(3==(a=t.o)||0==a&&0<t.ca||!(1==r&&function(e,t){return!(Zs(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Zo(wi(e.Na,e,t),ql(e,e.C)),e.C++,!0))}(e,t)||2==r&&zl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),a){case 1:Wl(e,5);break;case 4:Wl(e,10);break;case 3:Wl(e,6);break;default:Wl(e,2)}}function ql(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Wl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=wi(e.pb,e);n||(n=new Os("//www.google.com/images/cleardot.gif"),pi.location&&"http"==pi.location.protocol||Ts(n,"https"),Is(n)),function(e,t){const n=new qo;if(pi.Image){const r=new Image;r.onload=ki(sl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ki(sl,n,r,"TestLoadImage: error",!1,t),r.onabort=ki(sl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ki(sl,n,r,"TestLoadImage: timeout",!1,t),pi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xo(2);e.H=0,e.h&&e.h.za(t),Hl(e),Pl(e)}function Hl(e){if(e.H=0,e.ma=[],e.h){const t=rl(e.i);0==t.length&&0==e.j.length||(Ei(e.ma,t),Ei(e.ma,e.j),e.i.i.length=0,_i(e.j),e.j.length=0),e.h.ya()}}function Kl(e,t,n){var r=n instanceof Os?Cs(n):new Os(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ds(r,r.m);else{var a=pi.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new Os(null);r&&Ts(i,r),t&&(i.g=t),a&&Ds(i,a),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&As(r,n,t),As(r,"VER",e.ra),Ml(e,r),r}function Yl(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ml(new ll({ob:!0})):new ml(e.va)).Oa(e.J),t}function Gl(){}function Ql(){if(Li&&!(10<=Number(Yi)))throw Error("Environmental error: no available transport.")}function Jl(e,t){xo.call(this),this.g=new Cl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ti(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ti(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zl(this)}function Xl(e){ss.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $l(){ls.call(this),this.status=1}function Zl(e){this.g=e}function ec(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],o=t+(i^n&(a^i))+r[0]+3614090360&4294967295;o=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((a=i+((o=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function nc(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}(ui=ml.prototype).Oa=function(e){this.M=e},ui.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():is.g(),this.C=this.u?rs(this.u):rs(is),this.g.onreadystatechange=wi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){return void bl(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=pi.FormData&&e instanceof pi.FormData,!(0<=Ni(yl,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sl(this),0<this.B&&((this.L=function(e){return Li&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wi(this.ua,this)):this.A=Ro(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){bl(this,i)}},ui.ua=function(){"undefined"!=typeof fi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wo(this,"timeout"),this.abort(8))},ui.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wo(this,"complete"),wo(this,"abort"),kl(this))},ui.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kl(this,!0)),ml.$.N.call(this)},ui.La=function(){this.s||(this.G||this.v||this.l?wl(this):this.kb())},ui.kb=function(){wl(this)},ui.isActive=function(){return!!this.g},ui.da=function(){try{return 2<jl(this)?this.g.status:-1}catch(OK){return-1}},ui.ja=function(){try{return this.g?this.g.responseText:""}catch(OK){return""}},ui.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pl(t)}},ui.Ia=function(){return this.m},ui.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ui=Cl.prototype).ra=8,ui.H=1,ui.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const a=new us(this,this.l,e);let i=this.s;if(this.U&&(i?(i=to(i),ro(i,this.U)):i=this.U),null!==this.o||this.O||(a.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Rl(this,a,t),As(n=Cs(this.I),"RID",e),As(n,"CVER",22),this.F&&As(n,"X-HTTP-Session-Id",this.F),Ml(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(_l(i)))+"&"+t:this.o&&El(n,this.o,i)),tl(this.i,a),this.bb&&As(n,"TYPE","init"),this.P?(As(n,"$req",t),As(n,"SID","null"),a.aa=!0,ms(a,n,null)):ms(a,n,t),this.H=2}}else 3==this.H&&(e?Il(this,e):0==this.j.length||$s(this.i)||Il(this))},ui.Ma=function(){if(this.u=null,Ul(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zo(wi(this.jb,this),e)}},ui.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xo(10),Dl(this),Ul(this))},ui.ib=function(){null!=this.v&&(this.v=null,Dl(this),zl(this),Xo(19))},ui.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xo(2)):(this.l.info("Failed to ping google.com"),Xo(1))},ui.isActive=function(){return!!this.h&&this.h.isActive(this)},(ui=Gl.prototype).Ba=function(){},ui.Aa=function(){},ui.za=function(){},ui.ya=function(){},ui.isActive=function(){return!0},ui.Va=function(){},Ql.prototype.g=function(e,t){return new Jl(e,t)},Si(Jl,xo),Jl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xo(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Kl(e,null,e.Y),Al(e)},Jl.prototype.close=function(){Tl(this.g)},Jl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=So(e),e=n);t.j.push(new Qs(t.fb++,e)),3==t.H&&Al(t)},Jl.prototype.N=function(){this.g.h=null,delete this.j,Tl(this.g),delete this.g,Jl.$.N.call(this)},Si(Xl,ss),Si($l,ls),Si(Zl,Gl),Zl.prototype.Ba=function(){wo(this.g,"a")},Zl.prototype.Aa=function(e){wo(this.g,new Xl(e))},Zl.prototype.za=function(e){wo(this.g,new $l)},Zl.prototype.ya=function(){wo(this.g,"b")},Si(ec,function(){this.blockSize=-1}),ec.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ec.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,a=this.h,i=0;i<t;){if(0==a)for(;i<=n;)tc(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[a++]=e.charCodeAt(i++),a==this.blockSize){tc(this,r),a=0;break}}else for(;i<t;)if(r[a++]=e[i++],a==this.blockSize){tc(this,r),a=0;break}}this.h=a,this.i+=t},ec.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var rc={};function ac(e){return-128<=e&&128>e?function(e,t){var n=rc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new nc([0|e],0>e?-1:0)}):new nc([0|e],0>e?-1:0)}function ic(e){if(isNaN(e)||!isFinite(e))return sc;if(0>e)return hc(ic(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=oc;return new nc(t,0)}var oc=4294967296,sc=ac(0),lc=ac(1),cc=ac(16777216);function uc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function dc(e){return-1==e.h}function hc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new nc(n,~e.h).add(lc)}function fc(e,t){return e.add(hc(t))}function pc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function mc(e,t){this.g=e,this.h=t}function gc(e,t){if(uc(t))throw Error("division by zero");if(uc(e))return new mc(sc,sc);if(dc(e))return t=gc(hc(e),t),new mc(hc(t.g),hc(t.h));if(dc(t))return t=gc(e,hc(t)),new mc(hc(t.g),t.h);if(30<e.g.length){if(dc(e)||dc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=lc,r=t;0>=r.X(e);)n=vc(n),r=vc(r);var a=yc(n,1),i=yc(r,1);for(r=yc(r,2),n=yc(n,2);!uc(r);){var o=i.add(r);0>=o.X(e)&&(a=a.add(n),i=o),r=yc(r,1),n=yc(n,1)}return t=fc(e,a.R(t)),new mc(a,t)}for(a=sc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(i=ic(n)).R(t);dc(o)||0<o.X(e);)o=(i=ic(n-=r)).R(t);uc(i)&&(i=lc),a=a.add(i),e=fc(e,o)}return new mc(a,e)}function vc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new nc(n,e.h)}function yc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,a=[],i=0;i<r;i++)a[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new nc(a,e.h)}(ui=nc.prototype).ea=function(){if(dc(this))return-hc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:oc+r)*t,t*=oc}return e},ui.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(uc(this))return"0";if(dc(this))return"-"+hc(this).toString(e);for(var t=ic(Math.pow(e,6)),n=this,r="";;){var a=gc(n,t).g,i=((0<(n=fc(n,a.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(uc(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},ui.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ui.X=function(e){return dc(e=fc(this,e))?-1:uc(e)?0:1},ui.abs=function(){return dc(this)?hc(this):this},ui.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,a=0;a<=t;a++){var i=r+(65535&this.D(a))+(65535&e.D(a)),o=(i>>>16)+(this.D(a)>>>16)+(e.D(a)>>>16);r=o>>>16,i&=65535,o&=65535,n[a]=o<<16|i}return new nc(n,-2147483648&n[n.length-1]?-1:0)},ui.R=function(e){if(uc(this)||uc(e))return sc;if(dc(this))return dc(e)?hc(this).R(hc(e)):hc(hc(this).R(e));if(dc(e))return hc(this.R(hc(e)));if(0>this.X(cc)&&0>e.X(cc))return ic(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<e.g.length;a++){var i=this.D(r)>>>16,o=65535&this.D(r),s=e.D(a)>>>16,l=65535&e.D(a);n[2*r+2*a]+=o*l,pc(n,2*r+2*a),n[2*r+2*a+1]+=i*l,pc(n,2*r+2*a+1),n[2*r+2*a+1]+=o*s,pc(n,2*r+2*a+1),n[2*r+2*a+2]+=i*s,pc(n,2*r+2*a+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new nc(n,0)},ui.gb=function(e){return gc(this,e).h},ui.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new nc(n,this.h&e.h)},ui.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new nc(n,this.h|e.h)},ui.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new nc(n,this.h^e.h)},Ql.prototype.createWebChannel=Ql.prototype.g,Jl.prototype.send=Jl.prototype.u,Jl.prototype.open=Jl.prototype.m,Jl.prototype.close=Jl.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,ts.COMPLETE="complete",as.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",xo.prototype.listen=xo.prototype.O,ml.prototype.listenOnce=ml.prototype.P,ml.prototype.getLastError=ml.prototype.Sa,ml.prototype.getLastErrorCode=ml.prototype.Ia,ml.prototype.getStatus=ml.prototype.da,ml.prototype.getResponseJson=ml.prototype.Wa,ml.prototype.getResponseText=ml.prototype.ja,ml.prototype.send=ml.prototype.ha,ml.prototype.setWithCredentials=ml.prototype.Oa,ec.prototype.digest=ec.prototype.l,ec.prototype.reset=ec.prototype.reset,ec.prototype.update=ec.prototype.j,nc.prototype.add=nc.prototype.add,nc.prototype.multiply=nc.prototype.R,nc.prototype.modulo=nc.prototype.gb,nc.prototype.compare=nc.prototype.X,nc.prototype.toNumber=nc.prototype.ea,nc.prototype.toString=nc.prototype.toString,nc.prototype.getBits=nc.prototype.D,nc.fromNumber=ic,nc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return hc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ic(Math.pow(n,8)),a=sc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),n);8>o?(o=ic(Math.pow(n,o)),a=a.R(o).add(ic(s))):a=(a=a.R(r)).add(ic(s))}return a};var bc=hi.createWebChannelTransport=function(){return new Ql},xc=hi.getStatEventTarget=function(){return Yo()},wc=hi.ErrorCode=es,kc=hi.EventType=ts,Sc=hi.Event=Ho,jc=hi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nc=hi.FetchXmlHttpFactory=ll,_c=hi.WebChannel=as,Ec=hi.XhrIo=ml,Oc=hi.Md5=ec,Cc=hi.Integer=nc;const Tc="@firebase/firestore";class Dc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dc.UNAUTHENTICATED=new Dc(null),Dc.GOOGLE_CREDENTIALS=new Dc("google-credentials-uid"),Dc.FIRST_PARTY=new Dc("first-party-uid"),Dc.MOCK_USER=new Dc("mock-user");let Pc="9.23.0";const Ac=new Jr("@firebase/firestore");function Ic(){return Ac.logLevel}function Mc(e){if(Ac.logLevel<=Hr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zc);Ac.debug("Firestore (".concat(Pc,"): ").concat(e),...a)}}function Rc(e){if(Ac.logLevel<=Hr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zc);Ac.error("Firestore (".concat(Pc,"): ").concat(e),...a)}}function Lc(e){if(Ac.logLevel<=Hr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(zc);Ac.warn("Firestore (".concat(Pc,"): ").concat(e),...a)}}function zc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Pc,") INTERNAL ASSERTION FAILED: ")+e;throw Rc(t),new Error(t)}function Uc(e,t){e||Fc()}function Bc(e,t){return e}const Vc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qc extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Wc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Kc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dc.UNAUTHENTICATED))}shutdown(){}}class Yc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gc{constructor(e){this.t=e,this.currentUser=Dc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Wc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wc,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Mc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Mc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wc)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Uc("string"==typeof t.accessToken),new Hc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Uc(null===e||"string"==typeof e),new Dc(e)}}class Qc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Dc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Jc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Qc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $c{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Mc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Mc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Mc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Mc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Uc("string"==typeof e.token),this.T=e.token,new Xc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class eu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Zc(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%62))}return n}}function tu(e,t){return e<t?-1:e>t?1:0}function nu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ru{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ru.fromMillis(Date.now())}static fromDate(e){return ru.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ru(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tu(this.nanoseconds,e.nanoseconds):tu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class au{constructor(e){this.timestamp=e}static fromTimestamp(e){return new au(e)}static min(){return new au(new ru(0,0))}static max(){return new au(new ru(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class iu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fc(),void 0===n?n=e.length-t:n>e.length-t&&Fc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===iu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),a=t.get(r);if(n<a)return-1;if(n>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ou extends iu{construct(e,t,n){return new ou(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new qc(Vc.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new ou(e)}static emptyPath(){return new ou([])}}const su=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lu extends iu{construct(e,t,n){return new lu(e,t,n)}static isValidIdentifier(e){return su.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new qc(Vc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qc(Vc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qc(Vc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new qc(Vc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lu(t)}static emptyPath(){return new lu([])}}class cu{constructor(e){this.path=e}static fromPath(e){return new cu(ou.fromString(e))}static fromName(e){return new cu(ou.fromString(e).popFirst(5))}static empty(){return new cu(ou.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ou.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ou.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new cu(new ou(e.slice()))}}class uu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}uu.UNKNOWN_ID=-1;function du(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=au.fromTimestamp(1e9===r?new ru(n+1,0):new ru(n,r));return new fu(a,cu.empty(),t)}function hu(e){return new fu(e.readTime,e.key,-1)}class fu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fu(au.min(),cu.empty(),-1)}static max(){return new fu(au.max(),cu.empty(),-1)}}function pu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=cu.comparator(e.documentKey,t.documentKey),0!==n?n:tu(e.largestBatchId,t.largestBatchId))}const mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function vu(e){if(e.code!==Vc.FAILED_PRECONDITION||e.message!==mu)throw e;Mc("LocalStore","Unexpectedly lost primary lease")}class yu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yu?t:yu.resolve(t)}catch(e){return yu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yu.reject(t)}static resolve(e){return new yu((t,n)=>{t(e)})}static reject(e){return new yu((t,n)=>{n(e)})}static waitFor(e){return new yu((t,n)=>{let r=0,a=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++a,i&&a===r&&t()},e=>n(e))}),i=!0,a===r&&t()})}static or(e){let t=yu.resolve(!1);for(const n of e)t=t.next(e=>e?yu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new yu((n,r)=>{const a=e.length,i=new Array(a);let o=0;for(let s=0;s<a;s++){const l=s;t(e[l]).next(e=>{i[l]=e,++o,o===a&&n(i)},e=>r(e))}})}static doWhile(e,t){return new yu((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function bu(e){return"IndexedDbTransactionError"===e.name}class xu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function wu(e){return null==e}function ku(e){return 0===e&&1/e==-1/0}function Su(e){return"number"==typeof e&&Number.isInteger(e)&&!ku(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}xu.ct=-1;const ju=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_u=Nu;function Eu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ou(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Tu{constructor(e,t){this.comparator=e,this.root=t||Pu.EMPTY}insert(e,t){return new Tu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pu.BLACK,null,null))}remove(e){return new Tu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pu{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Pu.RED,this.left=null!=r?r:Pu.EMPTY,this.right=null!=a?a:Pu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Pu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fc();if(this.right.isRed())throw Fc();const e=this.left.check();if(e!==this.right.check())throw Fc();return e+(this.isRed()?0:1)}}Pu.EMPTY=null,Pu.RED=!0,Pu.BLACK=!1,Pu.EMPTY=new class{constructor(){this.size=0}get key(){throw Fc()}get value(){throw Fc()}get color(){throw Fc()}get left(){throw Fc()}get right(){throw Fc()}copy(e,t,n,r,a){return this}insert(e,t,n){return new Pu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Au{constructor(e){this.comparator=e,this.data=new Tu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iu(this.data.getIterator())}getIteratorFrom(e){return new Iu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Au))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Au(this.comparator);return t.data=e,t}}class Iu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mu{constructor(e){this.fields=e,e.sort(lu.comparator)}static empty(){return new Mu([])}unionWith(e){let t=new Au(lu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ru extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ru("Invalid base64 string: "+e):e}}(e);return new Lu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lu.EMPTY_BYTE_STRING=new Lu("");const zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fu(e){if(Uc(!!e),"string"==typeof e){let t=0;const n=zu.exec(e);if(Uc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uu(e.seconds),nanos:Uu(e.nanos)}}function Uu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bu(e){return"string"==typeof e?Lu.fromBase64String(e):Lu.fromUint8Array(e)}function Vu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qu(e){const t=e.mapValue.fields.__previous_value__;return Vu(t)?qu(t):t}function Wu(e){const t=Fu(e.mapValue.fields.__local_write_time__.timestampValue);return new ru(t.seconds,t.nanos)}class Hu{constructor(e,t,n,r,a,i,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const Yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vu(e)?4:sd(e)?9007199254740991:10:Fc()}function Qu(e,t){if(e===t)return!0;const n=Gu(e);if(n!==Gu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wu(e).isEqual(Wu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fu(e.timestampValue),r=Fu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bu(e.bytesValue).isEqual(Bu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uu(e.geoPointValue.latitude)===Uu(t.geoPointValue.latitude)&&Uu(e.geoPointValue.longitude)===Uu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uu(e.integerValue)===Uu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uu(e.doubleValue),r=Uu(t.doubleValue);return n===r?ku(n)===ku(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nu(e.arrayValue.values||[],t.arrayValue.values||[],Qu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eu(n)!==Eu(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Qu(n[a],r[a])))return!1;return!0}(e,t);default:return Fc()}}function Ju(e,t){return void 0!==(e.values||[]).find(e=>Qu(e,t))}function Xu(e,t){if(e===t)return 0;const n=Gu(e),r=Gu(t);if(n!==r)return tu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uu(e.integerValue||e.doubleValue),r=Uu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $u(e.timestampValue,t.timestampValue);case 4:return $u(Wu(e),Wu(t));case 5:return tu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bu(e),r=Bu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=tu(n[a],r[a]);if(0!==e)return e}return tu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tu(Uu(e.latitude),Uu(t.latitude));return 0!==n?n:tu(Uu(e.longitude),Uu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Xu(n[a],r[a]);if(e)return e}return tu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Yu.mapValue&&t===Yu.mapValue)return 0;if(e===Yu.mapValue)return 1;if(t===Yu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=tu(r[o],i[o]);if(0!==e)return e;const t=Xu(n[r[o]],a[i[o]]);if(0!==t)return t}return tu(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Fc()}}function $u(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tu(e,t);const n=Fu(e),r=Fu(t),a=tu(n.seconds,r.seconds);return 0!==a?a:tu(n.nanos,r.nanos)}function Zu(e){return ed(e)}function ed(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ed(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(ed(e.fields[a]));return n+"}"}(e.mapValue):Fc();var t,n}function td(e){return!!e&&"integerValue"in e}function nd(e){return!!e&&"arrayValue"in e}function rd(e){return!!e&&"nullValue"in e}function ad(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function id(e){return!!e&&"mapValue"in e}function od(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ou(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=od(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=od(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ld{constructor(e){this.value=e}static empty(){return new ld({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!id(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(t)}setAll(e){let t=lu.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=od(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());id(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];id(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ou(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ld(od(this.value))}}function cd(e){const t=[];return Ou(e.fields,(e,n)=>{const r=new lu([e]);if(id(n)){const e=cd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Mu(t)}class ud{constructor(e,t,n,r,a,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=o}static newInvalidDocument(e){return new ud(e,0,au.min(),au.min(),au.min(),ld.empty(),0)}static newFoundDocument(e,t,n,r){return new ud(e,1,t,au.min(),n,r,0)}static newNoDocument(e,t){return new ud(e,2,t,au.min(),au.min(),ld.empty(),0)}static newUnknownDocument(e,t){return new ud(e,3,t,au.min(),au.min(),ld.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(au.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ld.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ld.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=au.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ud&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ud(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dd{constructor(e,t){this.position=e,this.inclusive=t}}function hd(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],o=e.position[a];if(r=i.field.isKeyField()?cu.comparator(cu.fromName(o.referenceValue),n.key):Xu(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function fd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qu(e.position[n],t.position[n]))return!1;return!0}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function md(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gd{}class vd extends gd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Nd(e,t,n):"array-contains"===t?new Cd(e,n):"in"===t?new Td(e,n):"not-in"===t?new Dd(e,n):"array-contains-any"===t?new Pd(e,n):new vd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _d(e,n):new Ed(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xu(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.matchesComparison(Xu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yd extends gd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yd(e,t)}matches(e){return bd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bd(e){return"and"===e.op}function xd(e){return wd(e)&&bd(e)}function wd(e){for(const t of e.filters)if(t instanceof yd)return!1;return!0}function kd(e){if(e instanceof vd)return e.field.canonicalString()+e.op.toString()+Zu(e.value);if(xd(e))return e.filters.map(e=>kd(e)).join(",");{const t=e.filters.map(e=>kd(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Sd(e,t){return e instanceof vd?function(e,t){return t instanceof vd&&e.op===t.op&&e.field.isEqual(t.field)&&Qu(e.value,t.value)}(e,t):e instanceof yd?function(e,t){return t instanceof yd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Sd(n,t.filters[r]),!0)}(e,t):void Fc()}function jd(e){return e instanceof vd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zu(e.value))}(e):e instanceof yd?function(e){return e.op.toString()+" {"+e.getFilters().map(jd).join(" ,")+"}"}(e):"Filter"}class Nd extends vd{constructor(e,t,n){super(e,t,n),this.key=cu.fromName(n.referenceValue)}matches(e){const t=cu.comparator(e.key,this.key);return this.matchesComparison(t)}}class _d extends vd{constructor(e,t){super(e,"in",t),this.keys=Od("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ed extends vd{constructor(e,t){super(e,"not-in",t),this.keys=Od("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Od(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>cu.fromName(e.referenceValue))}class Cd extends vd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nd(t)&&Ju(t.arrayValue,this.value)}}class Td extends vd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ju(this.value.arrayValue,t)}}class Dd extends vd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ju(this.value.arrayValue,t)}}class Pd extends vd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ju(this.value.arrayValue,e))}}class Ad{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=o,this.dt=null}}function Id(e){return new Ad(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Md(e){const t=Bc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>kd(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),wu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Zu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Zu(e)).join(",")),t.dt=e}return t.dt}function Rd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!md(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fd(e.startAt,t.startAt)&&fd(e.endAt,t.endAt)}function Ld(e){return cu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=o,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Fd(e,t,n,r,a,i,o,s){return new zd(e,t,n,r,a,i,o,s)}function Ud(e){return new zd(e)}function Bd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qd(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Wd(e){return null!==e.collectionGroup}function Hd(e){const t=Bc(e);if(null===t.wt){t.wt=[];const e=qd(t),n=Vd(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new pd(e)),t.wt.push(new pd(lu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new pd(lu.keyField(),e))}}}return t.wt}function Kd(e){const t=Bc(e);if(!t._t)if("F"===t.limitType)t._t=Id(t.path,t.collectionGroup,Hd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Hd(t)){const t="desc"===a.dir?"asc":"desc";e.push(new pd(a.field,t))}const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;t._t=Id(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Yd(e,t,n){return new zd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gd(e,t){return Rd(Kd(e),Kd(t))&&e.limitType===t.limitType}function Qd(e){return"".concat(Md(Kd(e)),"|lt:").concat(e.limitType)}function Jd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>jd(e)).join(", "),"]")),wu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Zu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Zu(e)).join(",")),"Target(".concat(t,")")}(Kd(e)),"; limitType=").concat(e.limitType,")")}function Xd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hd(e),t))&&!(e.endAt&&!function(e,t,n){const r=hd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hd(e),t))}(e,t)}function $d(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zd(e){return(t,n)=>{let r=!1;for(const a of Hd(e)){const e=eh(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function eh(e,t,n){const r=e.field.isKeyField()?cu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Xu(r,a):Fc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fc()}}class th{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ou(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return Cu(this.inner)}size(){return this.innerSize}}const nh=new Tu(cu.comparator);function rh(){return nh}const ah=new Tu(cu.comparator);function ih(){let e=ah;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function oh(e){let t=ah;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function sh(){return ch()}function lh(){return ch()}function ch(){return new th(e=>e.toString(),(e,t)=>e.isEqual(t))}const uh=new Tu(cu.comparator),dh=new Au(cu.comparator);function hh(){let e=dh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const fh=new Au(tu);function ph(){return fh}function mh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(t)?"-0":t}}function gh(e){return{integerValue:""+e}}function vh(e,t){return Su(t)?gh(t):mh(e,t)}class yh{constructor(){this._=void 0}}function bh(e,t,n){return e instanceof kh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vu(t)&&(t=qu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Sh?jh(e,t):e instanceof Nh?_h(e,t):function(e,t){const n=wh(e,t),r=Oh(n)+Oh(e.gt);return td(n)&&td(e.gt)?gh(r):mh(e.serializer,r)}(e,t)}function xh(e,t,n){return e instanceof Sh?jh(e,t):e instanceof Nh?_h(e,t):n}function wh(e,t){return e instanceof Eh?td(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class kh extends yh{}class Sh extends yh{constructor(e){super(),this.elements=e}}function jh(e,t){const n=Ch(t);for(const r of e.elements)n.some(e=>Qu(e,r))||n.push(r);return{arrayValue:{values:n}}}class Nh extends yh{constructor(e){super(),this.elements=e}}function _h(e,t){let n=Ch(t);for(const r of e.elements)n=n.filter(e=>!Qu(e,r));return{arrayValue:{values:n}}}class Eh extends yh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Oh(e){return Uu(e.integerValue||e.doubleValue)}function Ch(e){return nd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Th{constructor(e,t){this.field=e,this.transform=t}}class Dh{constructor(e,t){this.version=e,this.transformResults=t}}class Ph{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ph}static exists(e){return new Ph(void 0,e)}static updateTime(e){return new Ph(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ih{}function Mh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hh(e.key,Ph.none()):new Uh(e.key,e.data,Ph.none());{const n=e.data,r=ld.empty();let a=new Au(lu.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Bh(e.key,r,new Mu(a.toArray()),Ph.none())}}function Rh(e,t,n){e instanceof Uh?function(e,t,n){const r=e.value.clone(),a=qh(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bh?function(e,t,n){if(!Ah(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qh(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Vh(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lh(e,t,n,r){return e instanceof Uh?function(e,t,n,r){if(!Ah(e.precondition,t))return n;const a=e.value.clone(),i=Wh(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bh?function(e,t,n,r){if(!Ah(e.precondition,t))return n;const a=Wh(e.fieldTransforms,r,t),i=t.data;return i.setAll(Vh(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ah(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=wh(r.transform,e||null);null!=a&&(null===n&&(n=ld.empty()),n.set(r.field,a))}return n||null}function Fh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sh&&t instanceof Sh||e instanceof Nh&&t instanceof Nh?nu(e.elements,t.elements,Qu):e instanceof Eh&&t instanceof Eh?Qu(e.gt,t.gt):e instanceof kh&&t instanceof kh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uh extends Ih{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bh extends Ih{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Vh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function qh(e,t,n){const r=new Map;Uc(e.length===n.length);for(let a=0;a<n.length;a++){const i=e[a],o=i.transform,s=t.data.field(i.field);r.set(i.field,xh(o,s,n[a]))}return r}function Wh(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,bh(e,i,t))}return r}class Hh extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kh extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Lh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Lh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lh();return this.mutations.forEach(r=>{const a=e.get(r.key),i=a.overlayedDocument;let o=this.applyToLocalView(i,a.mutatedFields);o=t.has(r.key)?null:o;const s=Mh(i,o);null!==s&&n.set(r.key,s),i.isValidDocument()||i.convertToNoDocument(au.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hh())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(e,t)=>Fh(e,t))&&nu(this.baseMutations,e.baseMutations,(e,t)=>Fh(e,t))}}class Gh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Uc(e.mutations.length===n.length);let r=uh;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Gh(e,t,n,r)}}class Qh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xh,$h;function Zh(e){switch(e){default:return Fc();case Vc.CANCELLED:case Vc.UNKNOWN:case Vc.DEADLINE_EXCEEDED:case Vc.RESOURCE_EXHAUSTED:case Vc.INTERNAL:case Vc.UNAVAILABLE:case Vc.UNAUTHENTICATED:return!1;case Vc.INVALID_ARGUMENT:case Vc.NOT_FOUND:case Vc.ALREADY_EXISTS:case Vc.PERMISSION_DENIED:case Vc.FAILED_PRECONDITION:case Vc.ABORTED:case Vc.OUT_OF_RANGE:case Vc.UNIMPLEMENTED:case Vc.DATA_LOSS:return!0}}function ef(e){if(void 0===e)return Rc("GRPC error has no .code"),Vc.UNKNOWN;switch(e){case Xh.OK:return Vc.OK;case Xh.CANCELLED:return Vc.CANCELLED;case Xh.UNKNOWN:return Vc.UNKNOWN;case Xh.DEADLINE_EXCEEDED:return Vc.DEADLINE_EXCEEDED;case Xh.RESOURCE_EXHAUSTED:return Vc.RESOURCE_EXHAUSTED;case Xh.INTERNAL:return Vc.INTERNAL;case Xh.UNAVAILABLE:return Vc.UNAVAILABLE;case Xh.UNAUTHENTICATED:return Vc.UNAUTHENTICATED;case Xh.INVALID_ARGUMENT:return Vc.INVALID_ARGUMENT;case Xh.NOT_FOUND:return Vc.NOT_FOUND;case Xh.ALREADY_EXISTS:return Vc.ALREADY_EXISTS;case Xh.PERMISSION_DENIED:return Vc.PERMISSION_DENIED;case Xh.FAILED_PRECONDITION:return Vc.FAILED_PRECONDITION;case Xh.ABORTED:return Vc.ABORTED;case Xh.OUT_OF_RANGE:return Vc.OUT_OF_RANGE;case Xh.UNIMPLEMENTED:return Vc.UNIMPLEMENTED;case Xh.DATA_LOSS:return Vc.DATA_LOSS;default:return Fc()}}($h=Xh||(Xh={}))[$h.OK=0]="OK",$h[$h.CANCELLED=1]="CANCELLED",$h[$h.UNKNOWN=2]="UNKNOWN",$h[$h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$h[$h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$h[$h.NOT_FOUND=5]="NOT_FOUND",$h[$h.ALREADY_EXISTS=6]="ALREADY_EXISTS",$h[$h.PERMISSION_DENIED=7]="PERMISSION_DENIED",$h[$h.UNAUTHENTICATED=16]="UNAUTHENTICATED",$h[$h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$h[$h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$h[$h.ABORTED=10]="ABORTED",$h[$h.OUT_OF_RANGE=11]="OUT_OF_RANGE",$h[$h.UNIMPLEMENTED=12]="UNIMPLEMENTED",$h[$h.INTERNAL=13]="INTERNAL",$h[$h.UNAVAILABLE=14]="UNAVAILABLE",$h[$h.DATA_LOSS=15]="DATA_LOSS";class tf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nf}static getOrCreateInstance(){return null===nf&&(nf=new tf),nf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nf=null;function rf(){return new TextEncoder}const af=new Cc([4294967295,4294967295],0);function of(e){const t=rf().encode(e),n=new Oc;return n.update(t),new Uint8Array(n.digest())}function sf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Cc([n,r],0),new Cc([a,i],0)]}class lf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cf("Invalid padding: ".concat(t));if(n<0)throw new cf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new cf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new cf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Cc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Cc.fromNumber(n)));return 1===r.compare(af)&&(r=new Cc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=of(e),[n,r]=sf(t);for(let a=0;a<this.hashCount;a++){const e=this.Et(n,r,a);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new lf(a,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.It)return;const t=of(e),[n,r]=sf(t);for(let a=0;a<this.hashCount;a++){const e=this.Et(n,r,a);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new uf(au.min(),r,new Tu(tu),rh(),hh())}}class df{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new df(n,t,hh(),hh(),hh())}}class hf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class ff{constructor(e,t){this.targetId=e,this.Vt=t}}class pf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class mf{constructor(){this.St=0,this.Dt=yf(),this.Ct=Lu.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=hh(),t=hh(),n=hh();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fc()}}),new df(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=yf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class gf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rh(),this.zt=vf(),this.Wt=new Tu(tu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Fc()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,a=this.se(n);if(a){const i=a.target;if(Ld(i))if(0===r){const e=new cu(i.path);this.Yt(n,e,ud.newNoDocument(e,au.min()))}else Uc(1===r);else{const a=this.ie(n);if(a!==r){const r=this.re(e,a);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=tf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,a,i,o,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(i=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.bitmap)||void 0===i?void 0:i.length)&&void 0!==o?o:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,a,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:a="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Bu(a).toUint8Array()}catch(e){if(e instanceof Ru)return Lc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new lf(s,i,o)}catch(e){return Lc(e instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const a=this.Gt.ue(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());t.vt(i)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const a=this.se(r);if(a){if(n.current&&Ld(a.target)){const t=new cu(a.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,ud.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=hh();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new uf(e,t,this.Wt,this.jt,n);return this.jt=rh(),this.zt=vf(),this.Wt=new Tu(tu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new mf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Au(tu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Mc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new mf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function vf(){return new Tu(cu.comparator)}function yf(){return new Tu(cu.comparator)}const bf={asc:"ASCENDING",desc:"DESCENDING"},xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wf={and:"AND",or:"OR"};class kf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(e,t){return e.useProto3Json||wu(t)?t:{value:t}}function jf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _f(e,t){return jf(e,t.toTimestamp())}function Ef(e){return Uc(!!e),au.fromTimestamp(function(e){const t=Fu(e);return new ru(t.seconds,t.nanos)}(e))}function Of(e,t){return function(e){return new ou(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cf(e){const t=ou.fromString(e);return Uc(Qf(t)),t}function Tf(e,t){return Of(e.databaseId,t.path)}function Df(e,t){const n=Cf(t);if(n.get(1)!==e.databaseId.projectId)throw new qc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cu(Mf(n))}function Pf(e,t){return Of(e.databaseId,t)}function Af(e){const t=Cf(e);return 4===t.length?ou.emptyPath():Mf(t)}function If(e){return new ou(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mf(e){return Uc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rf(e,t,n){return{name:Tf(e,t),fields:n.value.mapValue.fields}}function Lf(e,t){let n;if(t instanceof Uh)n={update:Rf(e,t.key,t.value)};else if(t instanceof Hh)n={delete:Tf(e,t.key)};else if(t instanceof Bh)n={update:Rf(e,t.key,t.data),updateMask:Gf(t.fieldMask)};else{if(!(t instanceof Kh))return Fc();n={verify:Tf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof kh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Fc()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_f(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fc()}(e,t.precondition)),n}function zf(e,t){return{documents:[Pf(e,t.path)]}}function Ff(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(e){if(0!==e.length)return Yf(yd.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Hf(e.field),direction:Vf(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Sf(e,t.limit);var s;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Uf(e){let t=Af(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Uc(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Bf(e);return t instanceof yd&&xd(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new pd(Kf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,wu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dd(n,t)}(n.endAt)),Fd(t,a,o,i,s,"F",l,c)}function Bf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kf(e.unaryFilter.field);return vd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kf(e.unaryFilter.field);return vd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kf(e.unaryFilter.field);return vd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Kf(e.unaryFilter.field);return vd.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Fc()}}(e):void 0!==e.fieldFilter?function(e){return vd.create(Kf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yd.create(e.compositeFilter.filters.map(e=>Bf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fc()}}(e.compositeFilter.op))}(e):Fc()}function Vf(e){return bf[e]}function qf(e){return xf[e]}function Wf(e){return wf[e]}function Hf(e){return{fieldPath:e.canonicalString()}}function Kf(e){return lu.fromServerFormat(e.fieldPath)}function Yf(e){return e instanceof vd?function(e){if("=="===e.op){if(ad(e.value))return{unaryFilter:{field:Hf(e.field),op:"IS_NAN"}};if(rd(e.value))return{unaryFilter:{field:Hf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ad(e.value))return{unaryFilter:{field:Hf(e.field),op:"IS_NOT_NAN"}};if(rd(e.value))return{unaryFilter:{field:Hf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hf(e.field),op:qf(e.op),value:e.value}}}(e):e instanceof yd?function(e){const t=e.getFilters().map(e=>Yf(e));return 1===t.length?t[0]:{compositeFilter:{op:Wf(e.op),filters:t}}}(e):Fc()}function Gf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jf{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:au.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:au.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lu.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Jf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xf{constructor(e){this.fe=e}}function $f(e){const t=Uf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yd(t,t.limit,"L"):t}class Zf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Uu(e.integerValue));else if("doubleValue"in e){const n=Uu(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),ku(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Bu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?sd(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),cu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Zf.Ve=new Zf;class ep{constructor(){this.rn=new tp}addToCollectionParentIndex(e,t){return this.rn.add(t),yu.resolve()}getCollectionParents(e,t){return yu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return yu.resolve()}deleteFieldIndex(e,t){return yu.resolve()}getDocumentsMatchingTarget(e,t){return yu.resolve(null)}getIndexType(e,t){return yu.resolve(0)}getFieldIndexes(e,t){return yu.resolve([])}getNextCollectionGroupToUpdate(e){return yu.resolve(null)}getMinOffset(e,t){return yu.resolve(fu.min())}getMinOffsetFromCollectionGroup(e,t){return yu.resolve(fu.min())}updateCollectionGroup(e,t,n){return yu.resolve()}updateIndexEntries(e,t){return yu.resolve()}}class tp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Au(ou.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Au(ou.comparator)).toArray()}}new Uint8Array(0);class np{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new np(e,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}np.DEFAULT_COLLECTION_PERCENTILE=10,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,np.DEFAULT=new np(41943040,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),np.DISABLED=new np(-1,0,0);class rp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new rp(0)}static Mn(){return new rp(-1)}}class ap{constructor(){this.changes=new th(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ud.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?yu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ip{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class op{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Lh(n.mutation,e,Mu.empty(),ru.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,hh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hh();const r=sh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ih();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=sh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,hh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=rh();const i=ch(),o=ch();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Bh)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),Lh(o.mutation,t,o.mutation.getFieldMask(),ru.now())):i.set(t.key,Mu.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new ip(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=ch();let r=new Tu((e,t)=>e-t),a=hh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||Mu.empty();o=a.applyToLocalView(i,o),n.set(e,o);const s=(r.get(a.batchId)||hh()).add(e);r=r.insert(a.batchId,s)})}).next(()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=lh();l.forEach(e=>{if(!a.has(e)){const r=Mh(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,s,c))}return yu.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return cu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yu.resolve(sh());let o=-1,s=a;return i.next(t=>yu.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),a.get(t)?yu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,s,t,hh())).next(e=>({batchId:o,changes:oh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new cu(t)).next(e=>{let t=ih();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let a=ih();return this.indexManager.getCollectionParents(e,r).next(i=>yu.forEach(i,i=>{const o=function(e,t){return new zd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ud.newInvalidDocument(r)))});let n=ih();return e.forEach((e,a)=>{const i=r.get(e);void 0!==i&&Lh(i.mutation,a,Mu.empty(),ru.now()),Xd(t,a)&&(n=n.insert(e,a))}),n})}}class sp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return yu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Ef(n.createTime)}),yu.resolve()}getNamedQuery(e,t){return yu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:$f(e.bundledQuery),readTime:Ef(e.readTime)}}(t)),yu.resolve()}}class lp{constructor(){this.overlays=new Tu(cu.comparator),this.ls=new Map}getOverlay(e,t){return yu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sh();return yu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),yu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),yu.resolve()}getOverlaysForCollection(e,t,n){const r=sh(),a=t.length+1,i=new cu(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return yu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Tu((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=sh(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=sh(),s=a.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return yu.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Qh(t,n));let a=this.ls.get(t);void 0===a&&(a=hh(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}class cp{constructor(){this.fs=new Au(up.ds),this.ws=new Au(up._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new up(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new up(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new cu(new ou([])),n=new up(t,e),r=new up(t,e+1),a=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),a.push(e.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new cu(new ou([])),n=new up(t,e),r=new up(t,e+1);let a=hh();return this.ws.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new up(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class up{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return cu.comparator(e.key,t.key)||tu(e.As,t.As)}static _s(e,t){return tu(e.As,t.As)||cu.comparator(e.key,t.key)}}class dp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Au(up.ds)}checkEmpty(e){return yu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Yh(a,t,n,r);this.mutationQueue.push(i);for(const o of r)this.Rs=this.Rs.add(new up(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return yu.resolve(i)}lookupMutationBatch(e,t){return yu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),a=r<0?0:r;return yu.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return yu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return yu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new up(t,0),r=new up(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);a.push(t)}),yu.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Au(tu);return t.forEach(e=>{const t=new up(e,0),r=new up(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),yu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;cu.isDocumentKey(a)||(a=a.child(""));const i=new up(new cu(a),0);let o=new Au(tu);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},i),yu.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Uc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return yu.forEach(t.mutations,r=>{const a=new up(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new up(t,0),r=this.Rs.firstAfterOrEqual(n);return yu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,yu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hp{constructor(e){this.Ds=e,this.docs=new Tu(cu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return yu.resolve(n?n.document.mutableCopy():ud.newInvalidDocument(t))}getEntries(e,t){let n=rh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ud.newInvalidDocument(e))}),yu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=rh();const i=t.path,o=new cu(i.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||pu(hu(o),n)<=0||(r.has(o.key)||Xd(t,o))&&(a=a.insert(o.key,o.mutableCopy()))}return yu.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Fc()}Cs(e,t){return yu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new fp(this)}getSize(e){return yu.resolve(this.size)}}class fp extends ap{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),yu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class pp{constructor(e){this.persistence=e,this.xs=new th(e=>Md(e),Rd),this.lastRemoteSnapshotVersion=au.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cp,this.targetCount=0,this.Ms=rp.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),yu.resolve()}getLastRemoteSnapshotVersion(e){return yu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),yu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),yu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,yu.resolve()}updateTargetData(e,t){return this.Fn(t),yu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,yu.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.xs.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(i),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),yu.waitFor(a).next(()=>r)}getTargetCount(e){return yu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return yu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),yu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),yu.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),yu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return yu.resolve(n)}containsKey(e,t){return yu.resolve(this.ks.containsKey(t))}}class mp{constructor(e,t){this.$s={},this.overlays={},this.Os=new xu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new pp(this),this.indexManager=new ep,this.remoteDocumentCache=function(e){return new hp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Xf(t),this.qs=new sp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new dp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Mc("MemoryPersistence","Starting transaction:",e);const r=new gp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return yu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class gp extends gu{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Qs=new cp,this.js=null}static zs(e){return new vp(e)}get Ws(){if(this.js)return this.js;throw Fc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),yu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),yu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),yu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yu.forEach(this.Ws,n=>{const r=cu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,au.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return yu.or([()=>yu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=hh(),r=hh();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new yp(e,t.fromCache,n,r)}}class bp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(a=>a||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Bd(t))return yu.resolve(null);let n=Kd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yd(t,null,"F"),n=Kd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=hh(...r);return this.Ui.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.ji(t,r);return this.zi(t,i,a,n.readTime)?this.Ki(e,Yd(t,null,"F")):this.Wi(e,i,t,n)}))})))}Gi(e,t,n,r){return Bd(t)||r.isEqual(au.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(a=>{const i=this.ji(t,a);return this.zi(t,i,n,r)?this.Qi(e,t):(Ic()<=Hr.DEBUG&&Mc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jd(t)),this.Wi(e,i,t,du(r,-1)))})}ji(e,t){let n=new Au(Zd(e));return t.forEach((t,r)=>{Xd(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,t){return Ic()<=Hr.DEBUG&&Mc("QueryEngine","Using full collection scan to execute query:",Jd(t)),this.Ui.getDocumentsMatchingQuery(e,t,fu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class xp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Tu(tu),this.Yi=new th(e=>Md(e),Rd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new op(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wp(e,t,n,r){return new xp(e,t,n,r)}async function kp(e,t){const n=Bc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],i=[];let o=hh();for(const e of r){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:a,addedBatchIds:i}))})})}function Sp(e){const t=Bc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function jp(e,t,n){let r=hh(),a=hh();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=rh();return n.forEach((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(au.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Mc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)}),{nr:r,sr:a}})}function Np(e,t){const n=Bc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function _p(e,t){const n=Bc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(a=>a?(r=a,yu.resolve(r)):n.Bs.allocateTargetId(e).next(a=>(r=new Jf(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Ep(e,t,n){const r=Bc(e),a=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!bu(e))throw e;Mc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(a.target)}function Op(e,t,n){const r=Bc(e);let a=au.min(),i=hh();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Bc(e),a=r.Yi.get(n);return void 0!==a?yu.resolve(r.Ji.get(a)):r.Bs.getTargetData(t,n)}(r,e,Kd(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?a:au.min(),n?i:hh())).next(e=>(Cp(r,$d(t),e),{documents:e,ir:i})))}function Cp(e,t,n){let r=e.Xi.get(t)||au.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Tp{constructor(){this.activeTargetIds=ph()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dp{constructor(){this.Hr=new Tp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Tp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pp{Yr(e){}shutdown(){}}class Ap{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Mc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ip=null;function Mp(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}const Rp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zp="WebChannelConnection";class Fp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,a){const i=Mp(),o=this.To(e,t);Mc("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const s={};return this.Eo(s,r,a),this.Ao(e,o,s,n).then(t=>(Mc("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Lc("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t})}vo(e,t,n,r,a,i){return this.Io(e,t,n,r,a)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Rp[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const a=Mp();return new Promise((i,o)=>{const s=new Ec;s.setWithCredentials(!0),s.listenOnce(kc.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case wc.NO_ERROR:const t=s.getResponseJson();Mc(zp,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case wc.TIMEOUT:Mc(zp,"RPC '".concat(e,"' ").concat(a," timed out")),o(new qc(Vc.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const n=s.getStatus();if(Mc(zp,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vc).indexOf(t)>=0?t:Vc.UNKNOWN}(t.status);o(new qc(e,t.message))}else o(new qc(Vc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new qc(Vc.UNAVAILABLE,"Connection failed."));break;default:Fc()}}finally{Mc(zp,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);Mc(zp,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Mp(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=bc(),o=xc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new Nc({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=a.join("");Mc(zp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=i.createWebChannel(c,s);let d=!1,h=!1;const f=new Lp({ro:t=>{h?Mc(zp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Mc(zp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Mc(zp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,_c.EventType.OPEN,()=>{h||Mc(zp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,_c.EventType.CLOSE,()=>{h||(h=!0,Mc(zp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,_c.EventType.ERROR,t=>{h||(h=!0,Lc(zp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new qc(Vc.UNAVAILABLE,"The operation could not be completed")))}),p(u,_c.EventType.MESSAGE,t=>{var n;if(!h){const a=t.data[0];Uc(!!a);const i=a,o=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){Mc(zp,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Xh[e];if(void 0!==t)return ef(t)}(t),a=o.message;void 0===n&&(n=Vc.INTERNAL,a="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new qc(n,a)),u.close()}else Mc(zp,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f._o(a)}}),p(o,Sc.STAT_EVENT,t=>{t.stat===jc.PROXY?Mc(zp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jc.NOPROXY&&Mc(zp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Up(){return"undefined"!=typeof document?document:null}function Bp(e){return new kf(e,!0)}class Vp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Mc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qp{constructor(e,t,n,r,a,i,o,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Vc.RESOURCE_EXHAUSTED?(Rc(t.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Vc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new qc(Vc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Mc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Mc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wp extends qp{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fc()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Uc(void 0===t||"string"==typeof t),Lu.fromBase64String(t||"")):(Uc(void 0===t||t instanceof Uint8Array),Lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Vc.UNKNOWN:ef(e.code);return new qc(t,e.message||"")}(o);n=new pf(r,a,i,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Df(e,r.document.name),i=Ef(r.document.updateTime),o=r.document.createTime?Ef(r.document.createTime):au.min(),s=new ld({mapValue:{fields:r.document.fields}}),l=ud.newFoundDocument(a,i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Df(e,r.document),i=r.readTime?Ef(r.readTime):au.min(),o=ud.newNoDocument(a,i),s=r.removedTargetIds||[];n=new hf([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Df(e,r.document),i=r.removedTargetIds||[];n=new hf([],i,a,null)}else{if(!("filter"in t))return Fc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new Jh(r,a),o=e.targetId;n=new ff(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return au.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?au.min():t.readTime?Ef(t.readTime):au.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=If(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ld(r)?{documents:zf(e,r)}:{query:Ff(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nf(e,t.resumeToken);const r=Sf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(au.min())>0){n.readTime=jf(e,t.snapshotVersion.toTimestamp());const r=Sf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.Wo(t)}}class Hp extends qp{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Uc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Uc(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Ef(e.updateTime):Ef(t);return n.isEqual(au.min())&&(n=Ef(t)),new Dh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ef(e.commitTime);return this.listener.cu(n,t)}return Uc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=If(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Lf(this.serializer,e))};this.Wo(t)}}class Kp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new qc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[a,i]=r;return this.connection.Io(e,t,n,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qc(Vc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,o]=a;return this.connection.vo(e,t,n,i,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qc(Vc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Yp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Rc(t),this.mu=!1):Mc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Gp{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{rm(this)&&(Mc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Bc(e);t.vu.add(4),await Jp(t),t.bu.set("Unknown"),t.vu.delete(4),await Qp(t)}(this))})}),this.bu=new Yp(n,r)}}async function Qp(e){if(rm(e))for(const t of e.Ru)await t(!0)}async function Jp(e){for(const t of e.Ru)await t(!1)}function Xp(e,t){const n=Bc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),nm(n)?tm(n):wm(n).Ko()&&Zp(n,t))}function $p(e,t){const n=Bc(e),r=wm(n);n.Au.delete(t),r.Ko()&&em(n,t),0===n.Au.size&&(r.Ko()?r.jo():rm(n)&&n.bu.set("Unknown"))}function Zp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(au.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wm(e).su(t)}function em(e,t){e.Vu.qt(t),wm(e).iu(t)}function tm(e){e.Vu=new gf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),wm(e).start(),e.bu.gu()}function nm(e){return rm(e)&&!wm(e).Uo()&&e.Au.size>0}function rm(e){return 0===Bc(e).vu.size}function am(e){e.Vu=void 0}async function im(e){e.Au.forEach((t,n)=>{Zp(e,t)})}async function om(e,t){am(e),nm(e)?(e.bu.Iu(t),tm(e)):e.bu.set("Unknown")}async function sm(e,t,n){if(e.bu.set("Online"),t instanceof pf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Mc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lm(e,n)}else if(t instanceof hf?e.Vu.Ht(t):t instanceof ff?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(au.min()))try{const t=await Sp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Au.get(r);a&&e.Au.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Lu.EMPTY_BYTE_STRING,r.snapshotVersion)),em(e,t);const a=new Jf(r.target,t,n,r.sequenceNumber);Zp(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Mc("RemoteStore","Failed to raise snapshot:",t),await lm(e,t)}}async function lm(e,t,n){if(!bu(t))throw t;e.vu.add(1),await Jp(e),e.bu.set("Offline"),n||(n=()=>Sp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Mc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Qp(e)})}function cm(e,t){return t().catch(n=>lm(e,n,t))}async function um(e){const t=Bc(e),n=km(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;dm(t);)try{const e=await Np(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,hm(t,e)}catch(e){await lm(t,e)}fm(t)&&pm(t)}function dm(e){return rm(e)&&e.Eu.length<10}function hm(e,t){e.Eu.push(t);const n=km(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function fm(e){return rm(e)&&!km(e).Uo()&&e.Eu.length>0}function pm(e){km(e).start()}async function mm(e){km(e).hu()}async function gm(e){const t=km(e);for(const n of e.Eu)t.uu(n.mutations)}async function vm(e,t,n){const r=e.Eu.shift(),a=Gh.from(r,t,n);await cm(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await um(e)}async function ym(e,t){t&&km(e).ou&&await async function(e,t){if(Zh(n=t.code)&&n!==Vc.ABORTED){const n=e.Eu.shift();km(e).Qo(),await cm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await um(e)}var n}(e,t),fm(e)&&pm(e)}async function bm(e,t){const n=Bc(e);n.asyncQueue.verifyOperationInProgress(),Mc("RemoteStore","RemoteStore received new credentials");const r=rm(n);n.vu.add(3),await Jp(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Qp(n)}async function xm(e,t){const n=Bc(e);t?(n.vu.delete(2),await Qp(n)):t||(n.vu.add(2),await Jp(n),n.bu.set("Unknown"))}function wm(e){return e.Su||(e.Su=function(e,t,n){const r=Bc(e);return r.fu(),new Wp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:im.bind(null,e),ao:om.bind(null,e),nu:sm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),nm(e)?tm(e):e.bu.set("Unknown")):(await e.Su.stop(),am(e))})),e.Su}function km(e){return e.Du||(e.Du=function(e,t,n){const r=Bc(e);return r.fu(),new Hp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:mm.bind(null,e),ao:ym.bind(null,e),au:gm.bind(null,e),cu:vm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await um(e)):(await e.Du.stop(),e.Eu.length>0&&(Mc("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Sm{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,o=new Sm(e,t,i,r,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qc(Vc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(e,t){if(Rc("AsyncQueue","".concat(t,": ").concat(e)),bu(e))return new qc(Vc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Nm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||cu.comparator(t.key,n.key):(e,t)=>cu.comparator(e.key,t.key),this.keyedMap=ih(),this.sortedSet=new Tu(this.comparator)}static emptySet(e){return new Nm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _m{constructor(){this.Cu=new Tu(cu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Em{constructor(e,t,n,r,a,i,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Em(e,t,Nm.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Om{constructor(){this.Nu=void 0,this.listeners=[]}}class Cm{constructor(){this.queries=new th(e=>Qd(e),Gd),this.onlineState="Unknown",this.ku=new Set}}async function Tm(e,t){const n=Bc(e),r=t.query;let a=!1,i=n.queries.get(r);if(i||(a=!0,i=new Om),a)try{i.Nu=await n.onListen(r)}catch(e){const n=jm(e,"Initialization of query '".concat(Jd(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.Mu(n.onlineState),i.Nu&&t.$u(i.Nu)&&Im(n)}async function Dm(e,t){const n=Bc(e),r=t.query;let a=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),a=0===i.listeners.length)}if(a)return n.queries.delete(r),n.onUnlisten(r)}function Pm(e,t){const n=Bc(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(a)&&(r=!0);t.Nu=a}}r&&Im(n)}function Am(e,t,n){const r=Bc(e),a=r.queries.get(t);if(a)for(const i of a.listeners)i.onError(n);r.queries.delete(t)}function Im(e){e.ku.forEach(e=>{e.next()})}class Mm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Em(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rm{constructor(e){this.key=e}}class Lm{constructor(e){this.key=e}}class zm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hh(),this.mutatedKeys=hh(),this.tc=Zd(e),this.ec=new Nm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new _m,r=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xd(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{ec:i,ic:n,zi:o,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const i=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,s=o!==this.Xu;return this.Xu=o,0!==a.length||s?{snapshot:new Em(this.query,e.ec,r,a,e.mutatedKeys,0===o,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _m,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=hh(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Lm(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Rm(n))}),t}hc(e){this.Yu=e.ir,this.Zu=hh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Em.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Um{constructor(e){this.key=e,this.fc=!1}}class Bm{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new th(e=>Qd(e),Gd),this._c=new Map,this.mc=new Set,this.gc=new Tu(cu.comparator),this.yc=new Map,this.Ic=new cp,this.Tc={},this.Ec=new Map,this.Ac=rp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Vm(e,t){const n=og(e);let r,a;const i=n.wc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),a=i.view.lc();else{const e=await _p(n.localStore,Kd(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,a=await qm(n,t,r,"current"===i,e.resumeToken),n.isPrimaryClient&&Xp(n.remoteStore,e)}return a}async function qm(e,t,n,r,a){e.Rc=(t,n,r)=>async function(e,t,n,r){let a=t.view.sc(n);a.zi&&(a=await Op(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,a)}));const i=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i);return eg(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const i=await Op(e.localStore,t,!0),o=new zm(t,i.ir),s=o.sc(i.documents),l=df.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=o.applyChanges(s,e.isPrimaryClient,l);eg(e,n,c.cc);const u=new Fm(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Wm(e,t){const n=Bc(e),r=n.wc.get(t),a=n._c.get(r.targetId);if(a.length>1)return n._c.set(r.targetId,a.filter(e=>!Gd(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ep(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$p(n.remoteStore,r.targetId),$m(n,r.targetId)}).catch(vu)):($m(n,r.targetId),await Ep(n.localStore,r.targetId,!0))}async function Hm(e,t){const n=Bc(e);try{const e=await function(e,t){const n=Bc(e),r=t.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const o=[];t.targetChanges.forEach((i,s)=>{const l=a.get(s);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,i.removedDocuments,s).next(()=>n.Bs.addMatchingKeys(e,i.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Lu.EMPTY_BYTE_STRING,au.min()).withLastLimboFreeSnapshotVersion(au.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&o.push(n.Bs.updateTargetData(e,c))});let s=rh(),l=hh();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(jp(e,i,t.documentUpdates).next(e=>{s=e.nr,l=e.sr})),!r.isEqual(au.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return yu.waitFor(o).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ji=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Uc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Uc(r.fc):e.removedDocuments.size>0&&(Uc(r.fc),r.fc=!1))}),await rg(n,e,t)}catch(e){await vu(e)}}function Km(e,t,n){const r=Bc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const a=r.view.Mu(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Bc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.listeners)a.Mu(t)&&(r=!0)}),r&&Im(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ym(e,t,n){const r=Bc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.yc.get(t),i=a&&a.key;if(i){let e=new Tu(cu.comparator);e=e.insert(i,ud.newNoDocument(i,au.min()));const n=hh().add(i),a=new uf(au.min(),new Map,new Tu(tu),e,n);await Hm(r,a),r.gc=r.gc.remove(i),r.yc.delete(t),ng(r)}else await Ep(r.localStore,t,!1).then(()=>$m(r,t,n)).catch(vu)}async function Gm(e,t){const n=Bc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Bc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let o=yu.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Uc(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Xm(n,r,null),Jm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rg(n,e)}catch(e){await vu(e)}}async function Qm(e,t,n){const r=Bc(e);try{const e=await function(e,t){const n=Bc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Uc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Xm(r,t,n),Jm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rg(r,e)}catch(n){await vu(n)}}function Jm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Xm(e,t,n){const r=Bc(e);let a=r.Tc[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Tc[r.currentUser.toKey()]=a}}function $m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Zm(e,t)})}function Zm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&($p(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),ng(e))}function eg(e,t,n){for(const r of n)r instanceof Rm?(e.Ic.addReference(r.key,t),tg(e,r)):r instanceof Lm?(Mc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Zm(e,r.key)):Fc()}function tg(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Mc("SyncEngine","New document in limbo: "+n),e.mc.add(r),ng(e))}function ng(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new cu(ou.fromString(t)),r=e.Ac.next();e.yc.set(r,new Um(n)),e.gc=e.gc.insert(n,r),Xp(e.remoteStore,new Jf(Kd(Ud(n.path)),r,"TargetPurposeLimboResolution",xu.ct))}}async function rg(e,t,n){const r=Bc(e),a=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,s)=>{o.push(r.Rc(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);const t=yp.Li(s.targetId,e);i.push(t)}}))}),await Promise.all(o),r.dc.nu(a),await async function(e,t){const n=Bc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>yu.forEach(t,t=>yu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>yu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!bu(e))throw e;Mc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,a)}}}(r.localStore,i))}async function ag(e,t){const n=Bc(e);if(!n.currentUser.isEqual(t)){Mc("SyncEngine","User change. New user:",t.toKey());const e=await kp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new qc(Vc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rg(n,e.er)}}function ig(e,t){const n=Bc(e),r=n.yc.get(t);if(r&&r.fc)return hh().add(r.key);{let e=hh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function og(e){const t=Bc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ig.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ym.bind(null,t),t.dc.nu=Pm.bind(null,t.eventManager),t.dc.Pc=Am.bind(null,t.eventManager),t}function sg(e){const t=Bc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qm.bind(null,t),t}class lg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wp(this.persistence,new bp,e.initialUser,this.serializer)}createPersistence(e){return new mp(vp.zs,this.serializer)}createSharedClientState(e){return new Dp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Km(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ag.bind(null,this.syncEngine),await xm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cm}createDatastore(e){const t=Bp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Fp(r));var r;return function(e,t,n,r){return new Kp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,a=e=>Km(this.syncEngine,e,0),i=Ap.D()?new Ap:new Pp,new Gp(t,n,r,a,i);var t,n,r,a,i}createSyncEngine(e,t){return function(e,t,n,r,a,i,o){const s=new Bm(e,t,n,r,a,i);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Bc(e);Mc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Jp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Rc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dc.UNAUTHENTICATED,this.clientId=eu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Mc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Mc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(iZ){const n=jm(iZ,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function hg(e,t){e.asyncQueue.verifyOperationInProgress(),Mc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await kp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mg(e);Mc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>bm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>bm(t.remoteStore,n)),e._onlineComponents=t}function pg(e){return"FirebaseError"===e.name?e.code===Vc.FAILED_PRECONDITION||e.code===Vc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function mg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Mc("FirestoreClient","Using user provided OfflineComponentProvider");try{await hg(e,e._uninitializedComponentsProvider._offline)}catch(iZ){const n=iZ;if(!pg(n))throw n;Lc("Error using user provided cache. Falling back to memory cache: "+n),await hg(e,new lg)}}else Mc("FirestoreClient","Using default OfflineComponentProvider"),await hg(e,new lg);return e._offlineComponents}async function gg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Mc("FirestoreClient","Using user provided OnlineComponentProvider"),await fg(e,e._uninitializedComponentsProvider._online)):(Mc("FirestoreClient","Using default OnlineComponentProvider"),await fg(e,new cg))),e._onlineComponents}function vg(e){return gg(e).then(e=>e.syncEngine)}async function yg(e){const t=await gg(e),n=t.eventManager;return n.onListen=Vm.bind(null,t.syncEngine),n.onUnlisten=Wm.bind(null,t.syncEngine),n}function bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Wc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const i=new ug({next:n=>{t.enqueueAndForget(()=>Dm(e,o)),n.fromCache&&"server"===r.source?a.reject(new qc(Vc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),o=new Mm(n,i,{includeMetadataChanges:!0,Ku:!0});return Tm(e,o)}(await yg(e),e.asyncQueue,t,n,r)),r.promise}function xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wg=new Map;function kg(e,t,n){if(!n)throw new qc(Vc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Sg(e){if(!cu.isDocumentKey(e))throw new qc(Vc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jg(e){if(cu.isDocumentKey(e))throw new qc(Vc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ng(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Fc()}function _g(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qc(Vc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(e);throw new qc(Vc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Eg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new qc(Vc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qc(Vc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new qc(Vc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qc(Vc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new qc(Vc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new qc(Vc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Og{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qc(Vc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qc(Vc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kc;switch(e.type){case"firstParty":return new Jc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qc(Vc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wg.get(e);t&&(Mc("ComponentProvider","Removing Datastore"),wg.delete(e),t.terminate())}(this),Promise.resolve()}}function Cg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const i=(e=_g(e,Og))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==o&&Lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gr(JSON.stringify({alg:"none",type:"JWT"})),gr(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new qc(Vc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dc(i)}e._authCredentials=new Yc(new Hc(t,n))}}class Tg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tg(this.firestore,e,this._key)}}class Dg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dg(this.firestore,e,this._query)}}class Pg extends Dg{constructor(e,t,n){super(e,t,Ud(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tg(this.firestore,null,new cu(e))}withConverter(e){return new Pg(this.firestore,e,this._path)}}function Ag(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Fr(e),kg("collection","path",t),e instanceof Og){const n=ou.fromString(t,...r);return jg(n),new Pg(e,null,n)}{if(!(e instanceof Tg||e instanceof Pg))throw new qc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ou.fromString(t,...r));return jg(n),new Pg(e.firestore,null,n)}}function Ig(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Fr(e),1===arguments.length&&(t=eu.A()),kg("doc","path",t),e instanceof Og){const n=ou.fromString(t,...r);return Sg(n),new Tg(e,null,new cu(n))}{if(!(e instanceof Tg||e instanceof Pg))throw new qc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ou.fromString(t,...r));return Sg(n),new Tg(e.firestore,e instanceof Pg?e.converter:null,new cu(n))}}class Mg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vp(this,"async_queue_retry"),this.Xc=()=>{const e=Up();e&&Mc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Wc;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!bu(e))throw e;Mc("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rc("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Sm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Fc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Rg extends Og{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zg(this),this._firestoreClient.terminate()}}function Lg(e){return e._firestoreClient||zg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zg(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new Hu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,xg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._firestoreClient=new dg(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=a.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Fg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fg(Lu.fromBase64String(e))}catch(e){throw new qc(Vc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fg(Lu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ug{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new qc(Vc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._methodName=e}}class Vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qc(Vc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qc(Vc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tu(this._lat,e._lat)||tu(this._long,e._long)}}const qg=/^__.*__$/;class Wg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uh(e,this.data,t,this.fieldTransforms)}}class Hg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fc()}}class Yg{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kg(this.ca)&&qg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Gg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bp(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Yg({ca:e,methodName:t,ga:n,path:lu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(e){const t=e._freezeSettings(),n=Bp(e._databaseId);return new Gg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jg(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(i.merge||i.mergeFields?2:0,t,n,a);av("Data must be an object, but it was:",o,r);const s=nv(r,o);let l,c;if(i.merge)l=new Mu(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=iv(t,r,n);if(!o.contains(a))throw new qc(Vc.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));cv(e,a)||e.push(a)}l=new Mu(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Wg(new ld(s),l,c)}class Xg extends Bg{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xg}}class $g extends Bg{_toFieldTransform(e){return new Th(e.path,new kh)}isEqual(e){return e instanceof $g}}function Zg(e,t,n,r){const a=e.ya(1,t,n);av("Data must be an object, but it was:",a,r);const i=[],o=ld.empty();Ou(r,(e,r)=>{const s=sv(t,e,n);r=Fr(r);const l=a.da(s);if(r instanceof Xg)i.push(s);else{const e=tv(r,l);null!=e&&(i.push(s),o.set(s,e))}});const s=new Mu(i);return new Hg(o,s,a.fieldTransforms)}function ev(e,t,n,r,a,i){const o=e.ya(1,t,n),s=[iv(t,r,n)],l=[a];if(i.length%2!=0)throw new qc(Vc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)s.push(iv(t,i[h])),l.push(i[h+1]);const c=[],u=ld.empty();for(let h=s.length-1;h>=0;--h)if(!cv(c,s[h])){const e=s[h];let t=l[h];t=Fr(t);const n=o.da(e);if(t instanceof Xg)c.push(e);else{const r=tv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Mu(c);return new Hg(u,d,o.fieldTransforms)}function tv(e,t){if(rv(e=Fr(e)))return av("Unsupported field value:",t,e),nv(e,t);if(e instanceof Bg)return function(e,t){if(!Kg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=tv(a,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Fr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ru.fromDate(e);return{timestampValue:jf(t.serializer,n)}}if(e instanceof ru){const n=new ru(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jf(t.serializer,n)}}if(e instanceof Vg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fg)return{bytesValue:Nf(t.serializer,e._byteString)};if(e instanceof Tg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Of(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Ng(e)))}(e,t)}function nv(e,t){const n={};return Cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ou(e,(e,r)=>{const a=tv(r,t.ha(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function rv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ru||e instanceof Vg||e instanceof Fg||e instanceof Tg||e instanceof Bg)}function av(e,t,n){if(!rv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ng(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function iv(e,t,n){if((t=Fr(t))instanceof Ug)return t._internalPath;if("string"==typeof t)return sv(e,t);throw lv("Field path arguments must be of type string or ",e,!1,void 0,n)}const ov=new RegExp("[~\\*/\\[\\]]");function sv(e,t,n){if(t.search(ov)>=0)throw lv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ug(...t.split("."))._internalPath}catch(_K){throw lv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lv(e,t,n,r,a){const i=r&&!r.isEmpty(),o=void 0!==a;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(a)),l+=")"),new qc(Vc.INVALID_ARGUMENT,s+e+l)}function cv(e,t){return e.some(e=>e.isEqual(t))}class uv{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dv extends uv{data(){return super.data()}}function hv(e,t){return"string"==typeof t?sv(e,t):t instanceof Ug?t._internalPath:t._delegate._internalPath}function fv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qc(Vc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ou(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Vg(Uu(e.latitude),Uu(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=qu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=Fu(e);return new ru(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ou.fromString(e);Uc(Qf(n));const r=new Ku(n.get(1),n.get(3)),a=new cu(n.popFirst(5));return r.isEqual(t)||Rc("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function mv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vv extends uv{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yv extends vv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new yv(this._firestore,this._userDataWriter,n.key,n,new gv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qc(Vc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new yv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new yv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:xv(t.type),doc:r,oldIndex:a,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fc()}}class wv extends pv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tg(this.firestore,null,t)}}function kv(e){e=_g(e,Dg);const t=_g(e.firestore,Rg),n=Lg(t),r=new wv(t);return fv(e._query),bg(n,e._query).then(n=>new bv(t,r,e,n))}function Sv(e,t,n){e=_g(e,Tg);const r=_g(e.firestore,Rg),a=Qg(r);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return i="string"==typeof(t=Fr(t))||t instanceof Ug?ev(a,"updateDoc",e._key,t,n,s):Zg(a,"updateDoc",e._key,t),_v(r,[i.toMutation(e._key,Ph.exists(!0))])}function jv(e){return _v(_g(e.firestore,Rg),[new Hh(e._key,Ph.none())])}function Nv(e,t){const n=_g(e.firestore,Rg),r=Ig(e),a=mv(e.converter,t);return _v(n,[Jg(Qg(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Ph.exists(!1))]).then(()=>r)}function _v(e,t){return function(e,t){const n=new Wc;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=sg(e);try{const e=await function(e,t){const n=Bc(e),r=ru.now(),a=t.reduce((e,t)=>e.add(t.key),hh());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=rh(),l=hh();return n.Zi.getEntries(e,a).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(a=>{i=a;const o=[];for(const e of t){const t=zh(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new Bh(e.key,t,cd(t.value.mapValue),Ph.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:oh(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Tu(tu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await rg(r,e.changes),await um(r.remoteStore)}catch(e){const t=jm(e,"Failed to persist write");n.reject(t)}}(await vg(e),t,n)),n.promise}(Lg(e),t)}function Ev(){return new $g("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pc=e}(Ja),Ka(new Ur("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),o=new Rg(new Gc(e.getProvider("auth-internal")),new $c(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qc(Vc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Za(Tc,"3.13.0",e),Za(Tc,"3.13.0","esm2017")}();function Ov(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tv=Cv,Dv=new Cr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pv=new Jr("@firebase/auth");function Av(e){if(Pv.logLevel<=Hr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pv.error("Auth (".concat(Ja,"): ").concat(e),...n)}}function Iv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Lv(e,...n)}function Mv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Lv(e,...n)}function Rv(e,t,n){const r=Object.assign(Object.assign({},Tv()),{[t]:n});return new Cr("auth","Firebase",r).create(t,{appName:e.name})}function Lv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Dv.create(e,...n)}function zv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Lv(t,...r)}}function Fv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Av(t),new Error(t)}function Uv(e,t){e||Fv(t)}function Bv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vv(){return"http:"===qv()||"https:"===qv()}function qv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Wv{constructor(e,t){this.shortDelay=e,this.longDelay=t,Uv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vv()||Nr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Hv(e,t){Uv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Kv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Fv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Fv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Fv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gv=new Wv(3e4,6e4);function Qv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Jv(e,t,n,r){return Xv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},i={};r&&("GET"===t?i=r:a={body:JSON.stringify(r)});const o=Ar(Object.assign({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Kv.fetch()(Zv(e,e.config.apiHost,n,o),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},a))})}async function Xv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yv),t);try{const t=new ey(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw ty(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ty(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw ty(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw ty(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Rv(e,s,o);Iv(e,s)}}catch(iZ){if(iZ instanceof Or)throw iZ;Iv(e,"network-request-failed",{message:String(iZ)})}}async function $v(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Jv(e,t,n,r,a);return"mfaPendingCredential"in i&&Iv(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Zv(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hv(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}class ey{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mv(this.auth,"network-request-failed")),Gv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ty(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Mv(e,t,r);return a.customData._tokenResponse=n,a}function ny(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(iZ){}}function ry(e){return 1e3*Number(e)}function ay(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Av("JWT malformed, contained fewer than 3 sections"),null;try{const e=vr(n);return e?JSON.parse(e):(Av("Failed to decode base64 JWT payload"),null)}catch(iZ){return Av("Caught error parsing JWT payload as JSON",null===iZ||void 0===iZ?void 0:iZ.toString()),null}}async function iy(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(iZ){throw iZ instanceof Or&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(iZ)&&e.auth.currentUser===e&&await e.auth.signOut(),iZ}}class oy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(iZ){return void((null===iZ||void 0===iZ?void 0:iZ.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class sy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ny(this.lastLoginAt),this.creationTime=ny(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ly(e){var t;const n=e.auth,r=await e.getIdToken(),a=await iy(e,async function(e,t){return Jv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));zv(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const o=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=Ov(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class cy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zv(e.idToken,"internal-error"),zv("undefined"!==typeof e.idToken,"internal-error"),zv("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ay(e);return zv(t,"internal-error"),zv("undefined"!==typeof t.exp,"internal-error"),zv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zv(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await Xv(e,{},async()=>{const n=Ar({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,i=Zv(e,r,"/v1/token","key=".concat(a)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Kv.fetch()(i,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,i=new cy;return n&&(zv("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(zv("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),a&&(zv("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cy,this.toJSON())}_performRefresh(){return Fv("not implemented")}}function uy(e,t){zv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class dy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await iy(this,this.stsTokenManager.getToken(this.auth,e));return zv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Fr(e),r=await n.getIdToken(t),a=ay(r);zv(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,o=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:ny(ry(a.auth_time)),issuedAtTime:ny(ry(a.iat)),expirationTime:ny(ry(a.exp)),signInProvider:o||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Fr(e);await ly(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(zv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ly(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iy(this,async function(e,t){return Jv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,i,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:k}=t;zv(y&&k,e,"internal-error");const S=cy.fromJSON(this.name,k);zv("string"===typeof y,e,"internal-error"),uy(u,e.name),uy(d,e.name),zv("boolean"===typeof b,e,"internal-error"),zv("boolean"===typeof x,e,"internal-error"),uy(h,e.name),uy(f,e.name),uy(p,e.name),uy(m,e.name),uy(g,e.name),uy(v,e.name);const j=new dy({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(j.providerData=w.map(e=>Object.assign({},e))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new cy;r.updateFromServerResponse(t);const a=new dy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ly(a),a}}const hy=new Map;function fy(e){Uv(e instanceof Function,"Expected a class definition");let t=hy.get(e);return t?(Uv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hy.set(e,t),t)}class py{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}py.type="NONE";const my=py;function gy(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=gy(this.userKey,r.apiKey,a),this.fullPersistenceKey=gy("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vy(fy(my),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||fy(my);const i=gy(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(i);if(t){const n=dy._fromJSON(e,t);c!==a&&(o=n),a=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&s.length?(a=s[0],o&&await a._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(i)}catch(l){}})),new vy(a,e,n)):new vy(a,e,n)}}function yy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ky(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(by(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jy(t))return"Blackberry";if(Ny(t))return"Webos";if(xy(t))return"Safari";if((t.includes("chrome/")||wy(t))&&!t.includes("edge/"))return"Chrome";if(Sy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function by(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/firefox\//i.test(e)}function xy(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/crios\//i.test(e)}function ky(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/iemobile/i.test(e)}function Sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/android/i.test(e)}function jy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/blackberry/i.test(e)}function Ny(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/webos/i.test(e)}function _y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ey(){return function(){const e=jr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return _y(e)||Sy(e)||Ny(e)||jy(e)||/windows phone/i.test(e)||ky(e)}function Cy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yy(jr());break;case"Worker":t="".concat(yy(jr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ja,"/").concat(r)}async function Ty(e,t){return Jv(e,"GET","/v2/recaptchaConfig",Qv(e,t))}function Dy(e){return void 0!==e&&void 0!==e.enterprise}class Py{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ay(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Iy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class My{constructor(e){this.type="recaptcha-enterprise",this.auth=Fy(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;Dy(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Ty(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Py(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&Dy(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Ay("https://www.google.com/recaptcha/enterprise.js?render="+a).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ry(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new My(e);let i;try{i=await a.verify(n)}catch(s){i=await a.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ly{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(iZ){r(iZ)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(iZ){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===iZ||void 0===iZ?void 0:iZ.message})}}}class zy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new Ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fy(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await vy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(iZ){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==i||!(null===o||void 0===o?void 0:o.user)||(r=o.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(iZ){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(iZ))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(iZ){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ly(e)}catch(iZ){if((null===iZ||void 0===iZ?void 0:iZ.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Fr(e):null;return t&&zv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&zv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fy(e))})}async initializeRecaptchaConfig(){const e=await Ty(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Py(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new My(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fy(e)||this._popupRedirectResolver;zv(t,this,"argument-error"),this.redirectPersistenceManager=await vy.create(this,[fy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return zv(i,this,"internal-error"),i.then(()=>a(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Pv.logLevel<=Hr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pv.warn("Auth (".concat(Ja,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Fy(e){return Fr(e)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Rr(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return zv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function By(e,t,n){const r=Fy(e);zv(r._canInitEmulator,r,"emulator-config-failed"),zv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Vy(t),{host:o,port:s}=function(e){const t=Vy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:qy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qy(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(i,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fv("not implemented")}_getIdTokenResponse(e){return Fv("not implemented")}_linkToIdToken(e,t){return Fv("not implemented")}_getReauthenticationResolver(e){return Fv("not implemented")}}async function Hy(e,t){return Jv(e,"POST","/v1/accounts:update",t)}async function Ky(e,t){return $v(e,"POST","/v1/accounts:signInWithPassword",Qv(e,t))}class Yy extends Wy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Yy(e,t,"password")}static _fromEmailAndCode(e,t){return new Yy(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ry(e,n,"signInWithPassword");return Ky(e,t)}return Ky(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ry(e,n,"signInWithPassword");return Ky(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return $v(e,"POST","/v1/accounts:signInWithEmailLink",Qv(e,t))}(e,{email:this._email,oobCode:this._password});default:Iv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Hy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return $v(e,"POST","/v1/accounts:signInWithEmailLink",Qv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Iv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gy(e,t){return $v(e,"POST","/v1/accounts:signInWithIdp",Qv(e,t))}class Qy extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Iv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=Ov(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Qy(n,r);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return Gy(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gy(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gy(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ar(t)}return e}}const Jy={USER_NOT_FOUND:"user-not-found"};class Xy extends Wy{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xy({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xy({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $v(e,"POST","/v1/accounts:signInWithPhoneNumber",Qv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $v(e,"POST","/v1/accounts:signInWithPhoneNumber",Qv(e,t));if(n.temporaryProof)throw ty(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $v(e,"POST","/v1/accounts:signInWithPhoneNumber",Qv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Jy)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new Xy({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class $y{constructor(e){var t,n,r,a,i,o;const s=Ir(Mr(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);zv(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(i=s.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ir(Mr(e)).link,n=t?Ir(Mr(t)).deep_link_id:null,r=Ir(Mr(e)).deep_link_id;return(r?Ir(Mr(r)).link:null)||r||n||t||e}(e);try{return new $y(t)}catch(n){return null}}}class Zy{constructor(){this.providerId=Zy.PROVIDER_ID}static credential(e,t){return Yy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$y.parseLink(t);return zv(n,"argument-error"),Yy._fromEmailAndCode(e,n.code,n.tenantId)}}Zy.PROVIDER_ID="password",Zy.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tb extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nb extends tb{constructor(){super("facebook.com")}static credential(e){return Qy._fromParams({providerId:nb.PROVIDER_ID,signInMethod:nb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nb.credentialFromTaggedObject(e)}static credentialFromError(e){return nb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nb.credential(t.oauthAccessToken)}catch(n){return null}}}nb.FACEBOOK_SIGN_IN_METHOD="facebook.com",nb.PROVIDER_ID="facebook.com";class rb extends tb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qy._fromParams({providerId:rb.PROVIDER_ID,signInMethod:rb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rb.credentialFromTaggedObject(e)}static credentialFromError(e){return rb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rb.credential(n,r)}catch(a){return null}}}rb.GOOGLE_SIGN_IN_METHOD="google.com",rb.PROVIDER_ID="google.com";class ab extends tb{constructor(){super("github.com")}static credential(e){return Qy._fromParams({providerId:ab.PROVIDER_ID,signInMethod:ab.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ab.credentialFromTaggedObject(e)}static credentialFromError(e){return ab.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ab.credential(t.oauthAccessToken)}catch(n){return null}}}ab.GITHUB_SIGN_IN_METHOD="github.com",ab.PROVIDER_ID="github.com";class ib extends tb{constructor(){super("twitter.com")}static credential(e,t){return Qy._fromParams({providerId:ib.PROVIDER_ID,signInMethod:ib.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ib.credentialFromTaggedObject(e)}static credentialFromError(e){return ib.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ib.credential(n,r)}catch(a){return null}}}ib.TWITTER_SIGN_IN_METHOD="twitter.com",ib.PROVIDER_ID="twitter.com";class ob{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await dy._fromIdTokenResponse(e,n,r),i=sb(n);return new ob({user:a,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sb(n);return new ob({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lb extends Or{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lb.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lb(e,t,n,r)}}function cb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw lb._fromErrorAndOperation(e,n,t,r);throw n})}async function ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await iy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ob._forOperation(e,"link",r)}async function db(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,a="reauthenticate";try{const i=await iy(e,cb(r,a,t,e),n);zv(i.idToken,r,"internal-error");const o=ay(i.idToken);zv(o,r,"internal-error");const{sub:s}=o;return zv(e.uid===s,r,"user-mismatch"),ob._forOperation(e,a,i)}catch(iZ){throw(null===iZ||void 0===iZ?void 0:iZ.code)==="auth/".concat("user-not-found")&&Iv(r,"user-mismatch"),iZ}}async function hb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",a=await cb(e,r,t),i=await ob._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(i.user),i}new WeakMap;const fb="__sak";class pb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fb,"1"),this.storage.removeItem(fb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class mb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=jr();return xy(e)||_y(e)}()&&function(){try{return!(!window||window===window.top)}catch(iZ){return!1}}(),this.fallbackToPolling=Oy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Ey()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const gb=mb;class vb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vb.type="SESSION";const yb=vb;class bb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new bb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,a)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function xb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bb.receivers=[];class wb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,i;return new Promise((o,s)=>{const l=xb("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(t.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function kb(){return window}function Sb(){return"undefined"!==typeof kb().WorkerGlobalScope&&"function"===typeof kb().importScripts}const jb="firebaseLocalStorageDb",Nb="firebaseLocalStorage",_b="fbase_key";class Eb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ob(e,t){return e.transaction([Nb],t?"readwrite":"readonly").objectStore(Nb)}function Cb(){const e=indexedDB.open(jb,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Nb,{keyPath:_b})}catch(iZ){n(iZ)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Nb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jb);return new Eb(e).toPromise()}(),t(await Cb()))})})}async function Tb(e,t,n){const r=Ob(e,!0).put({[_b]:t,value:n});return new Eb(r).toPromise()}function Db(e,t){const n=Ob(e,!0).delete(t);return new Eb(n).toPromise()}class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Cb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(iZ){if(t++>3)throw iZ;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bb._getInstance(Sb()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cb();return await Tb(e,fb,"1"),await Db(e,fb),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ob(e,!1).get(t),r=await new Eb(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ob(e,!1).getAll();return new Eb(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pb.type="LOCAL";const Ab=Pb;Iy("rcb"),new Wv(3e4,6e4);const Ib="recaptcha";async function Mb(e,t,n){var r;const a=await n.verify();try{let i;if(zv("string"===typeof a,e,"argument-error"),zv(n.type===Ib,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){zv("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Jv(e,"POST","/v2/accounts/mfaEnrollment:start",Qv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:a}});return n.phoneSessionInfo.sessionInfo}{zv("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;zv(n,e,"missing-multi-factor-info");const o=await function(e,t){return Jv(e,"POST","/v2/accounts/mfaSignIn:start",Qv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Jv(e,"POST","/v1/accounts:sendVerificationCode",Qv(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}class Rb{constructor(e){this.providerId=Rb.PROVIDER_ID,this.auth=Fy(e)}verifyPhoneNumber(e,t){return Mb(this.auth,e,Fr(t))}static credential(e,t){return Xy._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Rb.credentialFromTaggedObject(t)}static credentialFromError(e){return Rb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Xy._fromTokenResponse(n,r):null}}function Lb(e,t){return t?fy(t):(zv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Rb.PROVIDER_ID="phone",Rb.PHONE_SIGN_IN_METHOD="phone";class zb extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Fb(e){return hb(e.auth,new zb(e),e.bypassAuthState)}function Ub(e){const{auth:t,user:n}=e;return zv(n,t,"internal-error"),db(n,new zb(e),e.bypassAuthState)}async function Bb(e){const{auth:t,user:n}=e;return zv(n,t,"internal-error"),ub(n,new zb(e),e.bypassAuthState)}class Vb{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(iZ){this.reject(iZ)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:i,type:o}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(iZ){this.reject(iZ)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fb;case"linkViaPopup":case"linkViaRedirect":return Bb;case"reauthViaPopup":case"reauthViaRedirect":return Ub;default:Iv(this.auth,"internal-error")}}resolve(e){Uv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Uv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qb=new Wv(2e3,1e4);class Wb extends Vb{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Wb.currentPopupAction&&Wb.currentPopupAction.cancel(),Wb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zv(e,this.auth,"internal-error"),e}async onExecution(){Uv(1===this.filter.length,"Popup operations only handle one event");const e=xb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mv(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mv(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,qb.get())};e()}}Wb.currentPopupAction=null;const Hb=new Map;class Kb extends Vb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Hb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qb(t),r=Gb(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(iZ){e=()=>Promise.reject(iZ)}Hb.set(this.auth._key(),e)}return this.bypassAuthState||Hb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yb(e,t){Hb.set(e._key(),t)}function Gb(e){return fy(e._redirectPersistence)}function Qb(e){return gy("pendingRedirect",e.config.apiKey,e.name)}async function Jb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Fy(e),a=Lb(r,t),i=new Kb(r,a,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Xb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($b(e))}saveEventToCache(e){this.cachedEventUids.add($b(e)),this.lastProcessedEventTime=Date.now()}}function $b(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zb(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tx=/^https?/;async function nx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Jv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(rx(r))return}catch(n){}Iv(e,"unauthorized-domain")}function rx(e){const t=Bv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!tx.test(n))return!1;if(ex.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const ax=new Wv(3e4,6e4);function ix(){const e=kb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ox=null;function sx(e){return ox=ox||function(e){return new Promise((t,n)=>{var r,a,i;function o(){ix(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ix(),n(Mv(e,"network-request-failed"))},timeout:ax.get()})}if(null===(a=null===(r=kb().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=kb().gapi)||void 0===i?void 0:i.load)){const t=Iy("iframefcb");return kb()[t]=()=>{gapi.load?o():n(Mv(e,"network-request-failed"))},Ay("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw ox=null,e})}(e),ox}const lx=new Wv(5e3,15e3),cx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(e){const t=e.config;zv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ja},a=ux.get(e.config.apiHost);a&&(r.eid=a);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Ar(r).slice(1))}const hx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(iZ){}}}function px(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},hx),{width:r.toString(),height:a.toString(),top:i,left:o}),c=jr().toLowerCase();n&&(s=wy(c)?"_blank":n),by(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return _y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new fx(null);const d=window.open(t||"",s,u);zv(d,e,"popup-blocked");try{d.focus()}catch(iZ){}return new fx(d)}const mx="__/auth/handler",gx="emulator/auth/handler",vx=encodeURIComponent("fac");async function yx(e,t,n,r,a,i){zv(e.config.authDomain,e,"auth-domain-config-required"),zv(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ja,eventId:a};if(t instanceof eb){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))o[e]=t}if(t instanceof tb){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(vx,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mx);return Hv(t,gx)}(e),"?").concat(Ar(s).slice(1)).concat(c)}const bx="webStorageSupport";const xx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=Jb,this._overrideRedirectResult=Yb}async _openPopup(e,t,n,r){var a;Uv(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return px(e,await yx(e,t,n,Bv(),r),xb())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kb().location.href=e}(await yx(e,t,n,Bv(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Uv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await sx(e),n=kb().gapi;return zv(n,e,"internal-error"),t.open({where:document.body,url:dx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cx,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Mv(e,"network-request-failed"),i=kb().setTimeout(()=>{r(a)},lx.get());function o(){kb().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(a)})}))}(e),n=new Xb(e);return t.register("authEvent",t=>{zv(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bx,{type:bx},n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bx];void 0!==a&&t(!!a),Iv(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Oy()||xy()||_y()}};var wx="@firebase/auth",kx="0.23.2";class Sx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jx=kr("authIdTokenMaxAge")||300;let Nx=null;var _x;_x="Browser",Ka(new Ur("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;zv(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:_x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cy(_x)},c=new zy(r,a,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ka(new Ur("auth-internal",e=>(e=>new Sx(e))(Fy(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Za(wx,kx,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_x)),Za(wx,kx,"esm2017");let Ex,Ox;const Cx=new WeakMap,Tx=new WeakMap,Dx=new WeakMap,Px=new WeakMap,Ax=new WeakMap;let Ix={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Tx.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Dx.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lx(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mx(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zx(this),n),Lx(Cx.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lx(e.apply(zx(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(zx(this),t,...r);return Dx.set(i,t.sort?t.sort():[t]),Lx(i)}}function Rx(e){return"function"===typeof e?Mx(e):(e instanceof IDBTransaction&&function(e){if(Tx.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});Tx.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ix):e)}function Lx(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(Lx(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Cx.set(t,e)}).catch(()=>{}),Ax.set(t,e),t}(e);if(Px.has(e))return Px.get(e);const t=Rx(e);return t!==e&&(Px.set(e,t),Ax.set(t,e)),t}const zx=e=>Ax.get(e);const Fx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],Bx=new Map;function Vx(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Bx.get(t))return Bx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!Fx.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),a&&t.done]))[0]};return Bx.set(t,i),i}!function(e){Ix=e(Ix)}(e=>l(l({},e),{},{get:(t,n,r)=>Vx(t,n)||e.get(t,n,r),has:(t,n)=>!!Vx(t,n)||e.has(t,n)}));const qx="@firebase/installations",Wx="0.6.4",Hx=1e4,Kx="w:".concat(Wx),Yx="FIS_v2",Gx=36e5,Qx=new Cr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jx(e){return e instanceof Or&&e.code.includes("request-failed")}function Xx(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function $x(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zx(e,t){const n=(await t.json()).error;return Qx.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ew(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tw(e,t){let{refreshToken:n}=t;const r=ew(e);return r.append("Authorization",function(e){return"".concat(Yx," ").concat(e)}(n)),r}async function nw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function rw(e){return new Promise(t=>{setTimeout(t,e)})}const aw=/^[cdef][\w-]{21}$/;function iw(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return aw.test(t)?t:""}catch(e){return""}}function ow(e){return"".concat(e.appName,"!").concat(e.appId)}const sw=new Map;function lw(e,t){const n=ow(e);cw(n,t),function(e,t){const n=dw();n&&n.postMessage({key:e,fid:t});hw()}(n,t)}function cw(e,t){const n=sw.get(e);if(n)for(const r of n)r(t)}let uw=null;function dw(){return!uw&&"BroadcastChannel"in self&&(uw=new BroadcastChannel("[Firebase] FID Change"),uw.onmessage=e=>{cw(e.data.key,e.data.fid)}),uw}function hw(){0===sw.size&&uw&&(uw.close(),uw=null)}const fw="firebase-installations-store";let pw=null;function mw(){return pw||(pw=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Lx(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Lx(o.result),e.oldVersion,e.newVersion,Lx(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",()=>a())}).catch(()=>{}),s}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fw)}})),pw}async function gw(e,t){const n=ow(e),r=(await mw()).transaction(fw,"readwrite"),a=r.objectStore(fw),i=await a.get(n);return await a.put(t,n),await r.done,i&&i.fid===t.fid||lw(e,t.fid),t}async function vw(e){const t=ow(e),n=(await mw()).transaction(fw,"readwrite");await n.objectStore(fw).delete(t),await n.done}async function yw(e,t){const n=ow(e),r=(await mw()).transaction(fw,"readwrite"),a=r.objectStore(fw),i=await a.get(n),o=t(i);return void 0===o?await a.delete(n):await a.put(o,n),await r.done,!o||i&&i.fid===o.fid||lw(e,o.fid),o}async function bw(e){let t;const n=await yw(e.appConfig,n=>{const r=function(e){const t=e||{fid:iw(),registrationStatus:0};return kw(t)}(n),a=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Qx.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:a}=t;const i=Xx(n),o=ew(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:a,authVersion:Yx,appId:n.appId,sdkVersion:Kx},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await nw(()=>fetch(i,c));if(u.ok){const e=await u.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:$x(e.authToken)}}throw await Zx("Create Installation",u)}(e,t);return gw(e.appConfig,n)}catch(iZ){throw Jx(iZ)&&409===iZ.customData.serverCode?await vw(e.appConfig):await gw(e.appConfig,{fid:t.fid,registrationStatus:0}),iZ}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:xw(e)}:{installationEntry:t}}(e,r);return t=a.registrationPromise,a.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function xw(e){let t=await ww(e.appConfig);for(;1===t.registrationStatus;)await rw(100),t=await ww(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await bw(e);return n||t}return t}function ww(e){return yw(e,e=>{if(!e)throw Qx.create("installation-not-found");return kw(e)})}function kw(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hx<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Sw(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const a=function(e,t){let{fid:n}=t;return"".concat(Xx(e),"/").concat(n,"/authTokens:generate")}(n,t),i=tw(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:Kx,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await nw(()=>fetch(a,l));if(c.ok){return $x(await c.json())}throw await Zx("Generate Auth Token",c)}async function jw(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await yw(e.appConfig,r=>{if(!_w(r))throw Qx.create("not-registered");const a=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gx}(e)}(a))return r;if(1===a.requestStatus)return t=async function(e,t){let n=await Nw(e.appConfig);for(;1===n.authToken.requestStatus;)await rw(100),n=await Nw(e.appConfig);const r=n.authToken;return 0===r.requestStatus?jw(e,t):r}(e,n),r;{if(!navigator.onLine)throw Qx.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Sw(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await gw(e.appConfig,r),n}catch(iZ){if(!Jx(iZ)||401!==iZ.customData.serverCode&&404!==iZ.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await gw(e.appConfig,n)}else await vw(e.appConfig);throw iZ}}(e,n),n}});return t?await t:r.authToken}function Nw(e){return yw(e,e=>{if(!_w(e))throw Qx.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Hx<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function _w(e){return void 0!==e&&2===e.registrationStatus}async function Ew(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await bw(e);t&&await t}(n);return(await jw(n,t)).token}function Ow(e){return Qx.create("missing-app-config-values",{valueName:e})}const Cw="installations",Tw=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ow("App Configuration");if(!e.name)throw Ow("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ow(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ya(t,"heartbeat"),_delete:()=>Promise.resolve()}},Dw=e=>{const t=Ya(e.getProvider("app").getImmediate(),Cw).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await bw(t);return r?r.catch(console.error):jw(t).catch(console.error),n.fid}(t),getToken:e=>Ew(t,e)}};Ka(new Ur(Cw,Tw,"PUBLIC")),Ka(new Ur("installations-internal",Dw,"PRIVATE")),Za(qx,Wx),Za(qx,Wx,"esm2017");const Pw="analytics",Aw="https://www.googletagmanager.com/gtag/js",Iw=new Jr("@firebase/analytics"),Mw=new Cr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rw(e){if(!e.startsWith(Aw)){const t=Mw.create("invalid-gtag-resource",{gtagURL:e});return Iw.warn(t.message),""}return e}function Lw(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function zw(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Rw}),r=document.createElement("script"),a="".concat(Aw,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Fw(e,t,n,r){return async function(a){try{for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if("event"===a){const[r,a]=o;await async function(e,t,n,r,a){try{let i=[];if(a&&a.send_to){let e=a.send_to;Array.isArray(e)||(e=[e]);const r=await Lw(n);for(const n of e){const e=r.find(e=>e.measurementId===n),a=e&&t[e.appId];if(!a){i=[];break}i.push(a)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,a||{})}catch(iZ){Iw.error(iZ)}}(e,t,n,r,a)}else if("config"===a){const[a,i]=o;await async function(e,t,n,r,a,i){const o=r[a];try{if(o)await t[o];else{const e=(await Lw(n)).find(e=>e.measurementId===a);e&&await t[e.appId]}}catch(iZ){Iw.error(iZ)}e("config",a,i)}(e,t,n,r,a,i)}else if("consent"===a){const[t]=o;e("consent","update",t)}else if("get"===a){const[t,n,r]=o;e("get",t,n,r)}else if("set"===a){const[t]=o;e("set",t)}else e(a,...o)}catch(iZ){Iw.error(iZ)}}}const Uw=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bw(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Vw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uw,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:a,measurementId:i}=e.options;if(!r)throw Mw.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw Mw.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Ww;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),qw({appId:r,apiKey:a,measurementId:i},o,s,t)}async function qw(e,t,n){let{throttleEndTimeMillis:r,backoffCount:a}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Uw;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(i),r(Mw.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(iZ){if(l)return Iw.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===iZ||void 0===iZ?void 0:iZ.message,"]")),{appId:s,measurementId:l};throw iZ}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,a={method:"GET",headers:Bw(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(i,a);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw Mw.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return i.deleteThrottleMetadata(s),t}catch(iZ){const r=iZ;if(!function(e){if(!(e instanceof Or)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(s),l)return Iw.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:l};throw iZ}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?zr(a,i.intervalMillis,30):zr(a,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1};return i.setThrottleMetadata(s,u),Iw.debug("Calling attemptFetch again in ".concat(c," millis")),qw(e,u,n,i)}}class Ww{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hw,Kw;function Yw(e){Kw=e}function Gw(e){Hw=e}async function Qw(e,t,n,r,a,i,o){var s;const l=Vw(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Iw.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Iw.error(e)),t.push(l);const c=async function(){if(!_r())return Iw.warn(Mw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Er()}catch(iZ){return Iw.warn(Mw.create("indexeddb-unavailable",{errorInfo:null===iZ||void 0===iZ?void 0:iZ.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Aw)&&n.src.includes(e))return n;return null})(i)||zw(i,u.measurementId),Kw&&(a("consent","default",Kw),Yw(void 0)),a("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),a("config",u.measurementId,h),Hw&&(a("set",Hw),Gw(void 0)),u.measurementId}class Jw{constructor(e){this.app=e}_delete(){return delete Xw[this.app.options.appId],Promise.resolve()}}let Xw={},$w=[];const Zw={};let ek,tk,nk="dataLayer",rk="gtag",ak=!1;function ik(){const e=[];if(Nr()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=Mw.create("invalid-analytics-context",{errorInfo:t});Iw.warn(n.message)}}function ok(e,t,n){ik();const r=e.options.appId;if(!r)throw Mw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mw.create("no-api-key");Iw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xw[r])throw Mw.create("already-exists",{id:r});if(!ak){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nk);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,a){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[a]&&"function"===typeof window[a]&&(i=window[a]),window[a]=Fw(i,e,t,n),{gtagCore:i,wrappedGtag:window[a]}}(Xw,$w,Zw,nk,rk);tk=e,ek=t,ak=!0}Xw[r]=Qw(e,$w,Zw,t,ek,nk,n);return new Jw(e)}function sk(e,t,n,r){e=Fr(e),async function(e,t,n,r,a){if(a&&a.global)e("event",n,r);else{const a=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:a}))}}(tk,Xw[e.app.options.appId],t,n,r).catch(e=>Iw.error(e))}const lk="@firebase/analytics",ck="0.10.0";Ka(new Ur(Pw,(e,t)=>{let{options:n}=t;return ok(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Ka(new Ur("analytics-internal",function(e){try{const t=e.getProvider(Pw).getImmediate();return{logEvent:(e,n,r)=>sk(t,e,n,r)}}catch(iZ){throw Mw.create("interop-component-reg-failed",{reason:iZ})}},"PRIVATE")),Za(lk,ck),Za(lk,ck,"esm2017");const uk=Xa({apiKey:"AIzaSyBN8-q0Oc0Pqh3-MAPYSEk7NpvF7SwJLLo",authDomain:"mvl-17245.firebaseapp.com",projectId:"mvl-17245",storageBucket:"mvl-17245.firebasestorage.app",messagingSenderId:"662162882736",appId:"1:662162882736:web:4248d324a9edee03a37b75",measurementId:"G-WFLXW48GPB"}),dk=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ya("object"==typeof e?e:$a(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=xr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Cg(r,...e)}return r}(uk);(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a();const t=Ya(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ya(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Dr(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Iv(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xx,persistence:[Ab,gb,yb]}),r=kr("authTokenSyncURL");if(r){const e=(a=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jx)return;const r=null===t||void 0===t?void 0:t.token;Nx!==r&&(Nx=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Fr(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Fr(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var a;const i=xr("auth");i&&By(n,"http://".concat(i))})(uk),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a();e=Fr(e);const t=Ya(e,Pw);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ya(e,Pw);if(n.isInitialized()){const e=n.getImmediate();if(Dr(t,n.getOptions()))return e;throw Mw.create("already-initialized")}const r=n.initialize({options:t})}(e)}(uk);const hk=function(){const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(!1);return(0,or.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\ud83d\udd25 Test Semplice Firebase"}),(0,or.jsx)("button",{onClick:async()=>{a(!0),n("Testando...");try{console.log("\ud83d\udd0d Iniziando test Firebase..."),console.log("\ud83d\udcc1 Database:",dk);const e={message:"Test Firebase",timestamp:(new Date).toISOString(),test:!0};console.log("\ud83d\udcdd Dati da scrivere:",e);const t=await Nv(Ag(dk,"test"),e);console.log("\u2705 Documento scritto con ID:",t.id);const r=await kv(Ag(dk,"test")),a=[];r.forEach(e=>{a.push(l({id:e.id},e.data()))}),console.log("\ud83d\udcd6 Documenti letti:",a),n("\u2705 SUCCESSO! \n        - Scritto documento con ID: ".concat(t.id,"\n        - Letti ").concat(a.length," documenti\n        - Firebase funziona correttamente!"))}catch(e){console.error("\u274c Errore Firebase:",e),n("\u274c ERRORE: ".concat(e.message,"\n        \n        \ud83d\udd0d Dettagli:\n        - Codice: ").concat(e.code,"\n        - Messaggio: ").concat(e.message,"\n        \n        \ud83d\udca1 Possibili cause:\n        - Database Firestore non creato\n        - Regole di sicurezza troppo restrittive\n        - Configurazione Firebase errata"))}finally{a(!1)}},disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Testando...":"Testa Firebase"}),e&&(0,or.jsx)("div",{className:"mt-4 p-4 rounded-lg bg-gray-50 border",children:(0,or.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-mono",children:e})}),(0,or.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,or.jsx)("p",{children:"\ud83d\udccb Questo test:"}),(0,or.jsxs)("ul",{className:"list-disc list-inside ml-4 mt-2",children:[(0,or.jsx)("li",{children:"Prova a scrivere un documento nella collezione 'test'"}),(0,or.jsx)("li",{children:"Prova a leggere tutti i documenti dalla collezione 'test'"}),(0,or.jsx)("li",{children:"Mostra errori dettagliati se qualcosa non funziona"})]})]})]})},fk=["className"],pk=["className"],mk=["className"],gk=["className"],vk=["className"],yk=["className"],bk=t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,fk);return(0,or.jsx)("div",l({ref:t,className:Zn("rounded-lg border bg-card text-card-foreground shadow-sm",n)},r))});bk.displayName="Card";const xk=t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,pk);return(0,or.jsx)("div",l({ref:t,className:Zn("flex flex-col space-y-1.5 p-6",n)},r))});xk.displayName="CardHeader";const wk=t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,mk);return(0,or.jsx)("h3",l({ref:t,className:Zn("text-2xl font-semibold leading-none tracking-tight",n)},r))});wk.displayName="CardTitle";const kk=t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,gk);return(0,or.jsx)("p",l({ref:t,className:Zn("text-sm text-muted-foreground",n)},r))});kk.displayName="CardDescription";const Sk=t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,vk);return(0,or.jsx)("div",l({ref:t,className:Zn("p-6 pt-0",n)},r))});Sk.displayName="CardContent";t.forwardRef((e,t)=>{let{className:n}=e,r=i(e,yk);return(0,or.jsx)("div",l({ref:t,className:Zn("flex items-center p-6 pt-0",n)},r))}).displayName="CardFooter";const jk=async e=>{try{if(console.log("\ud83d\udd04 Salvando dati magazzino in Firebase..."),e.id){const t=Ig(dk,"magazzino",e.id);return await Sv(t,l(l({},e),{},{updatedAt:Ev()})),{success:!0,id:e.id}}return{success:!0,id:(await Nv(Ag(dk,"magazzino"),l(l({},e),{},{createdAt:Ev(),updatedAt:Ev()}))).id}}catch(t){return console.error("\u274c Errore nel salvataggio magazzino:",t),{success:!1,error:t.message}}},Nk=async()=>{try{console.log("\ud83d\udd04 Caricando dati magazzino da Firebase...");const e=await kv(Ag(dk,"magazzino")),t=[];return e.forEach(e=>{t.push(l({id:e.id},e.data()))}),{success:!0,data:t}}catch(e){return console.error("\u274c Errore nel caricamento magazzino:",e),{success:!1,error:e.message}}},_k=async e=>{try{if(console.log("\ud83d\udd04 Salvando ordine fornitore in Firebase..."),e.id){const t=Ig(dk,"supplier-orders",e.id);return await Sv(t,l(l({},e),{},{updatedAt:Ev()})),{success:!0,id:e.id}}return{success:!0,id:(await Nv(Ag(dk,"supplier-orders"),l(l({},e),{},{createdAt:Ev(),updatedAt:Ev()}))).id}}catch(t){return console.error("\u274c Errore nel salvataggio ordine fornitore:",t),{success:!1,error:t.message}}},Ek=async()=>{try{console.log("\ud83d\udd04 Reset completo del magazzino...");const e=await(async()=>{try{console.log("\ud83d\uddd1\ufe0f Cancellando tutti i dati del magazzino...");const e=await kv(Ag(dk,"magazzino")),t=e.docs.map(e=>jv(e.ref));return await Promise.all(t),console.log("\u2705 Tutti i dati del magazzino sono stati cancellati"),{success:!0,deletedCount:e.docs.length}}catch(e){return console.error("\u274c Errore nella cancellazione del magazzino:",e),{success:!1,error:e.message}}})();return e.success?("undefined"!==typeof window&&(localStorage.removeItem("magazzino_data"),console.log("\u2705 LocalStorage pulito")),{success:!0,message:"Magazzino resettato. ".concat(e.deletedCount," prodotti cancellati."),deletedCount:e.deletedCount}):e}catch(e){return console.error("\u274c Errore nel reset del magazzino:",e),{success:!1,error:e.message}}},Ok=async e=>{try{console.log("\ud83d\udd04 Salvando dati magazzino in Supabase...");const t=await jk(e);return console.log("\u2705 Dati magazzino salvati con successo"),{success:!0,data:t}}catch(t){return console.error("\u274c Errore nel salvare dati magazzino:",t),{success:!1,error:t.message}}},Ck=async()=>{try{console.log("\ud83d\udd04 Caricando dati magazzino da Supabase...");const e=await Nk();return console.log("\u2705 Dati magazzino caricati:",e),e}catch(e){return console.error("\u274c Errore nel caricare dati magazzino:",e),[]}},Tk=async e=>{try{console.log("\ud83d\udd04 Salvando storico in Supabase...");const t=await(async e=>{try{if(console.log("\ud83d\udd04 Salvando storico in Firebase..."),e.id){const t=Ig(dk,"storico",e.id);return await Sv(t,l(l({},e),{},{updatedAt:Ev()})),{success:!0,id:e.id}}return{success:!0,id:(await Nv(Ag(dk,"storico"),l(l({},e),{},{createdAt:Ev(),updatedAt:Ev()}))).id}}catch(t){return console.error("\u274c Errore nel salvataggio storico:",t),{success:!1,error:t.message}}})(e);return console.log("\u2705 Storico salvato con successo"),{success:!0,data:t}}catch(t){return console.error("\u274c Errore nel salvare storico:",t),{success:!1,error:t.message}}},Dk=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t)),console.log("\u2705 Dati salvati in localStorage: ".concat(e))}catch(n){console.error("\u274c Errore nel salvare in localStorage: ".concat(e),n)}},Pk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("\u274c Errore nel caricare da localStorage: ".concat(e),n),t}},Ak=Dt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ik=Dt("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Mk=Dt("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Rk=Dt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Lk=Dt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var zk=n(6347),Fk={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi\xf9 di un anno",other:"pi\xf9 di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};const Uk=function(e,t,n){var r,a=Fk[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r};var Bk=n(5258);const Vk={date:(0,Bk.A)({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,Bk.A)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,Bk.A)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};var qk=n(3666),Wk=n(9511);function Hk(e,t,n){(0,qk.A)(2,arguments);var r=(0,Wk.A)(e,n),a=(0,Wk.A)(t,n);return r.getTime()===a.getTime()}var Kk=["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"];function Yk(e){return"'"+Kk[e]+" alle' p"}var Gk={lastWeek:function(e,t,n){var r=e.getUTCDay();return Hk(e,t,n)?Yk(r):function(e){return 0===e?"'domenica scorsa alle' p":"'"+Kk[e]+" scorso alle' p"}(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,t,n){var r=e.getUTCDay();return Hk(e,t,n)?Yk(r):function(e){return 0===e?"'domenica prossima alle' p":"'"+Kk[e]+" prossimo alle' p"}(r)},other:"P"};const Qk=function(e,t,n,r){var a=Gk[e];return"function"===typeof a?a(t,n,r):a};var Jk=n(9344);const Xk={ordinalNumber:function(e,t){var n=Number(e);return String(n)},era:(0,Jk.A)({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},defaultWidth:"wide"}),quarter:(0,Jk.A)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,Jk.A)({values:{narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},defaultWidth:"wide"}),day:(0,Jk.A)({values:{narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]},defaultWidth:"wide"}),dayPeriod:(0,Jk.A)({values:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},defaultWidth:"wide",formattingValues:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},defaultFormattingWidth:"wide"})};var $k=n(4240),Zk={ordinalNumber:(0,n(4734).A)({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,$k.A)({matchPatterns:{narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^a/i,/^(d|e)/i]},defaultParseWidth:"any"}),quarter:(0,$k.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,$k.A)({matchPatterns:{narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,$k.A)({matchPatterns:{narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|\xec]|marted[i|\xec]|mercoled[i|\xec]|gioved[i|\xec]|venerd[i|\xec]|sabato)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},defaultParseWidth:"any"}),dayPeriod:(0,$k.A)({matchPatterns:{narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},defaultParseWidth:"any"})};const eS={code:"it",formatDistance:Uk,formatLong:Vk,formatRelative:Qk,localize:Xk,match:Zk,options:{weekStartsOn:1,firstWeekContainsDate:4}},tS=e=>{let{range:n,onRangeChange:r,startTime:a="00:00",endTime:i="23:59",onStartTimeChange:o,onEndTimeChange:s,show:l=!0,onClose:c,className:u=""}=e;const[d,h]=(0,t.useState)(!1);if(!l)return null;return(0,or.jsxs)("div",{className:"relative ".concat(u),children:[(0,or.jsxs)("button",{onClick:()=>h(!d),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)(Ak,{className:"h-4 w-4"}),(0,or.jsx)("span",{className:"text-sm",children:(()=>{const e=n.startDate,t=n.endDate,r=e.toLocaleDateString("it-IT"),a=t.toLocaleDateString("it-IT");return r===a?r:"".concat(r," - ").concat(a)})()}),(0,or.jsx)(ur,{className:"h-4 w-4"}),(0,or.jsxs)("span",{className:"text-sm",children:[a," - ",i]})]}),d&&(0,or.jsxs)("div",{className:"absolute z-50 mt-2 shadow-lg bg-white border rounded-lg p-4",children:[(0,or.jsx)(zk.ad,{editableDateInputs:!0,onChange:e=>r(e.selection),moveRangeOnFirstSelection:!1,ranges:[n],maxDate:new Date,locale:eS,months:1,direction:"horizontal"}),(0,or.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(ur,{className:"h-4 w-4"}),(0,or.jsx)("label",{className:"text-sm",children:"Ora inizio:"}),(0,or.jsx)("input",{type:"time",value:a,onChange:e=>o(e.target.value),className:"px-2 py-1 border rounded text-sm"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm",children:"Ora fine:"}),(0,or.jsx)("input",{type:"time",value:i,onChange:e=>s(e.target.value),className:"px-2 py-1 border rounded text-sm"})]})]}),(0,or.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,or.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>h(!1),children:"Applica"}),(0,or.jsx)("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:()=>h(!1),children:"Chiudi"})]})]})]})};function nS(){}function rS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aS(e){this._context=e}function iS(e){this._context=e}function oS(e){this._context=e}aS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},iS.prototype={areaStart:nS,areaEnd:nS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class sS{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function lS(e){this._context=e}function cS(e){this._context=e}function uS(e){return new cS(e)}function dS(e){return e<0?-1:1}function hS(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(dS(i)+dS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function fS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pS(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function mS(e){this._context=e}function gS(e){this._context=new vS(e)}function vS(e){this._context=e}function yS(e){this._context=e}function bS(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function xS(e,t){this._context=e,this._t=t}lS.prototype={areaStart:nS,areaEnd:nS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},mS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pS(this,this._t0,fS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pS(this,fS(this,n=hS(this,e,t)),n);break;default:pS(this,this._t0,n=hS(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(gS.prototype=Object.create(mS.prototype)).point=function(e,t){mS.prototype.point.call(this,t,e)},vS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},yS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=bS(e),a=bS(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var wS,kS,SS,jS,NS,_S,ES,OS,CS,TS,DS,PS,AS,IS;Array.prototype.slice;function MS(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function RS(e){return function(){return e}}function LS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const zS=Math.PI,FS=2*zS,US=1e-6,BS=FS-US;function VS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class qS{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?VS:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return VS;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(wS||(wS=LS(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(kS||(kS=LS(["Z"]))))}lineTo(e,t){this._append(SS||(SS=LS(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(jS||(jS=LS(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,i){this._append(NS||(NS=LS(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+i)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(_S||(_S=LS(["M",",",""])),this._x1=e,this._y1=t);else if(d>US)if(Math.abs(u*s-l*c)>US&&a){let h=n-i,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=a*Math.tan((zS-Math.acos((p+d-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>US&&this._append(OS||(OS=LS(["L",",",""])),e+b*c,t+b*u),this._append(CS||(CS=LS(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(ES||(ES=LS(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append(TS||(TS=LS(["M",",",""])),l,c):(Math.abs(this._x1-l)>US||Math.abs(this._y1-c)>US)&&this._append(DS||(DS=LS(["L",",",""])),l,c),n&&(d<0&&(d=d%FS+FS),d>BS?this._append(PS||(PS=LS(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>US&&this._append(AS||(AS=LS(["A",",",",0,",",",",",",",""])),n,n,+(d>=zS),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(IS||(IS=LS(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function WS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new qS(t)}function HS(e){return e[0]}function KS(e){return e[1]}function YS(e,t){var n=RS(!0),r=null,a=uS,i=null,o=WS(s);function s(s){var l,c,u,d=(s=MS(s)).length,h=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?HS:RS(e),t="function"===typeof t?t:void 0===t?KS:RS(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:RS(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:RS(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:RS(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function GS(e,t,n){var r=null,a=RS(!0),i=null,o=uS,s=null,l=WS(c);function c(c){var u,d,h,f,p,m=(c=MS(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return YS().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?HS:RS(+e),t="function"===typeof t?t:RS(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?KS:RS(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:RS(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:RS(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:RS(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:RS(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:RS(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:RS(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:RS(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}var QS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JS(e){return"string"===typeof e&&QS.includes(e)}var XS=["points","pathLength"],$S={svg:["viewBox","children"],polygon:XS,polyline:XS},ZS=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{JS(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},ej=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];JS(a)&&"function"===typeof i&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(i,t,n))}),r},tj=n(7770),nj=n.n(tj),rj=e=>0===e?0:e>0?1:-1,aj=e=>"number"==typeof e&&e!=+e,ij=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,oj=e=>("number"===typeof e||e instanceof Number)&&!aj(e),sj=e=>oj(e)||"string"===typeof e,lj=0,cj=e=>{var t=++lj;return"".concat(e||"").concat(t)},uj=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!oj(e)&&"string"!==typeof e)return r;if(ij(e)){if(null==t)return r;var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return aj(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},dj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},hj=(e,t)=>oj(e)&&oj(t)?n=>e+n*(t-e):()=>t;function fj(e,t,n){return oj(e)&&oj(t)?e+n*(t-e):t}function pj(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):nj()(e,t))===n)}var mj=e=>null===e||"undefined"===typeof e,gj=e=>mj(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vj(e){return Number.isFinite(e)}function yj(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}var bj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function xj(e){return"string"===typeof e&&bj.includes(e)}function wj(e){var t=Object.entries(e).filter(e=>{var[t]=e;return xj(t)});return Object.fromEntries(t)}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(null,arguments)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(t){Nj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _j={curveBasisClosed:function(e){return new iS(e)},curveBasisOpen:function(e){return new oS(e)},curveBasis:function(e){return new aS(e)},curveBumpX:function(e){return new sS(e,!0)},curveBumpY:function(e){return new sS(e,!1)},curveLinearClosed:function(e){return new lS(e)},curveLinear:uS,curveMonotoneX:function(e){return new mS(e)},curveMonotoneY:function(e){return new gS(e)},curveNatural:function(e){return new yS(e)},curveStep:function(e){return new xS(e,.5)},curveStepAfter:function(e){return new xS(e,1)},curveStepBefore:function(e){return new xS(e,0)}},Ej=e=>vj(e.x)&&vj(e.y),Oj=e=>e.x,Cj=e=>e.y,Tj=e=>{var t,{type:n="linear",points:r=[],baseLine:a,layout:i,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(gj(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?_j[n]||uS:_j["".concat(n).concat("vertical"===t?"Y":"X")]})(n,i),l=o?r.filter(Ej):r;if(Array.isArray(a)){var c=o?a.filter(e=>Ej(e)):a,u=l.map((e,t)=>jj(jj({},e),{},{base:c[t]}));return(t="vertical"===i?GS().y(Cj).x1(Oj).x0(e=>e.base.x):GS().x(Oj).y1(Cj).y0(e=>e.base.y)).defined(Ej).curve(s),t(u)}return(t="vertical"===i&&oj(a)?GS().y(Cj).x1(Oj).x0(a):oj(a)?GS().x(Oj).y1(Cj).y0(a):YS().x(Oj).y(Cj)).defined(Ej).curve(s),t(l)},Dj=e=>{var{className:n,points:r,path:a,pathRef:i}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Tj(e):a;return t.createElement("path",kj({},wj(e),ZS(e),{className:Wt("recharts-curve",n),d:null===o?void 0:o,ref:i}))};function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pj.apply(null,arguments)}var Aj=e=>{var{cx:n,cy:r,r:a,className:i}=e,o=Wt("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",Pj({},wj(e),ZS(e),{className:o,cx:n,cy:r,r:a})):null},Ij=n(528),Mj=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",Rj=null,Lj=null,zj=e=>{if(e===Rj&&Array.isArray(Lj))return Lj;var n=[];return t.Children.forEach(e,e=>{mj(e)||((0,Ij.zv)(e)?n=n.concat(zj(e.props.children)):n.push(e))}),Lj=n,Rj=e,n};function Fj(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>Mj(e)):[Mj(t)],zj(e).forEach(e=>{var t=nj()(e,"type.displayName")||nj()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var Uj=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),Bj=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,n,r)=>{var a;if("symbol"===typeof t||"number"===typeof t)return!0;var i=null!==(a=r&&(null===$S||void 0===$S?void 0:$S[r]))&&void 0!==a?a:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&i.includes(t)||xj(t)),l=Boolean(n)&&JS(t);return o||s||l})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},Vj=["children","className"];function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qj.apply(null,arguments)}var Wj=t.forwardRef((e,n)=>{var{children:r,className:a}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Vj),o=Wt("recharts-layer",a);return t.createElement("g",qj({className:o},Bj(i,!0),{ref:n}),r)}),Hj=n(356),Kj=n.n(Hj),Yj=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function Gj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(t){Xj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $j=Jj({},{cacheSize:2e3,enableCache:!0}),Zj=new class{constructor(e){Gj(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}($j.cacheSize),eN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tN="recharts_measurement_span";var nN=(e,t)=>{try{var n=document.getElementById(tN);n||((n=document.createElement("span")).setAttribute("id",tN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,eN,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},rN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Yj)return{width:0,height:0};if(!$j.enableCache)return nN(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}(e,t),r=Zj.get(n);if(r)return r;var a=nN(e,t);return Zj.set(n,a),a},aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},cN=Object.keys(lN),uN="NaN";class dN{static parse(e){var t,[,n,r]=null!==(t=sN.exec(e))&&void 0!==t?t:[];return new dN(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,aj(e)&&(this.unit=""),""===t||oN.test(t)||(this.num=NaN,this.unit=""),cN.includes(t)&&(this.num=function(e,t){return e*lN[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new dN(NaN,""):new dN(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dN(NaN,""):new dN(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new dN(NaN,""):new dN(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new dN(NaN,""):new dN(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return aj(this.num)}}function hN(e){if(e.includes(uN))return uN;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=null!==(n=aN.exec(t))&&void 0!==n?n:[],o=dN.parse(null!==r&&void 0!==r?r:""),s=dN.parse(null!==i&&void 0!==i?i:""),l="*"===a?o.multiply(s):o.divide(s);if(l.isNaN())return uN;t=t.replace(aN,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=iN.exec(t))&&void 0!==c?c:[],f=dN.parse(null!==u&&void 0!==u?u:""),p=dN.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return uN;t=t.replace(iN,m.toString())}return t}var fN=/\(([^()]*)\)/;function pN(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=fN.exec(n));){var[,r]=t;n=n.replace(fN,hN(r))}return n}(t),t=hN(t)}function mN(e){var t=function(e){try{return pN(e)}catch(t){return uN}}(e.slice(5,-1));return t===uN?"":t}var gN=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vN=["dx","dy","angle","className","breakAll"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yN.apply(null,arguments)}function bN(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xN=/[ \f\n\r\t\v\u2028\u2029]+/,wN=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return mj(t)||(a=n?t.toString().split(""):t.toString().split(xN)),{wordsWithComputedWidth:a.map(e=>({word:e,width:rN(e,r).width})),spaceWidth:n?0:rN("\xa0",r).width}}catch(i){return null}},kN=e=>[{words:mj(e)?[]:e.toString().split(xN)}],SN=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!Yj){var s=wN({breakAll:i,children:r,style:a});if(!s)return kN(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=oj(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:o}=t,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=wN({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n);return[a.length>i||f(a).width>Number(r),a]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var b=Math.floor((g+v)/2),x=b-1,[w,k]=m(x),[S]=m(b);if(w||S||(g=b+1),w&&S&&(v=b-1),!w&&S){p=k;break}y++}return p||h})({breakAll:i,children:r,maxLines:o,style:a},l,c,t,n)}return kN(r)},jN="#808080",NN=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:a=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=jN}=e,d=bN(e,gN),h=(0,t.useMemo)(()=>SN({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:v}=d,y=bN(d,vN);if(!sj(r)||!sj(a))return null;var b,x=r+(oj(f)?f:0),w=a+(oj(p)?p:0);switch(c){case"start":b=mN("calc(".concat(o,")"));break;case"middle":b=mN("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:b=mN("calc(".concat(h.length-1," * -").concat(i,")"))}var k=[];if(s){var S=h[0].width,{width:j}=d;k.push("scale(".concat(oj(j)?j/S:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),k.length&&(y.transform=k.join(" ")),t.createElement("text",yN({},Bj(y,!0),{ref:n,x:x,y:w,className:Wt("recharts-text",g),textAnchor:l,fill:u.includes("url")?jN:u}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:x,dy:0===n?b:i,key:"".concat(r,"-").concat(n)},r)}))});function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(t){ON(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ON(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}NN.displayName="Text";var CN=Math.PI/180,TN=e=>180*e/Math.PI,DN=(e,t,n,r)=>({x:e+Math.cos(-CN*r)*n,y:t+Math.sin(-CN*r)*n}),PN=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},AN=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)})({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:TN(l),angleInRadian:l}},IN=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},MN=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=AN({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?EN(EN({},t),{},{radius:a,angle:IN(d,t)}):null},RN=n(8443),LN=(0,t.createContext)(null),zN=e=>e,FN=()=>{var e=(0,t.useContext)(LN);return e?e.store.dispatch:zN},UN=()=>{},BN=()=>UN,VN=(e,t)=>e===t;function qN(e){var n=(0,t.useContext)(LN);return(0,RN.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:BN,n?n.store.getState:UN,n?n.store.getState:UN,n?e:UN,VN)}function WN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var HN=e=>Array.isArray(e)?e:[e];function KN(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var YN="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function GN(){return{s:0,v:void 0,o:null,p:null}}function QN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=GN(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=GN(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){var c,u,d;const e=null!==(c=null===(u=a)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:a;null!=e&&r(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new YN(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function JN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=0,o=0,s={},c=t.pop();"object"===typeof c&&(s=c,c=t.pop()),WN(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const u=l(l({},a),s),{memoize:d,memoizeOptions:h=[],argsMemoize:f=QN,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,g=HN(h),v=HN(p),y=KN(t),b=d(function(){return i++,c.apply(null,arguments)},...g);const x=f(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=b.apply(null,e),r},...v);return Object.assign(x,{resultFunc:c,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}var XN=JN(QN),$N=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XN;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>$N}),ZN=n(3821),e_=n.n(ZN),t_=e=>e.legend.settings,n_=XN([e=>e.legend.payload,t_],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?e_()(r,n):r});function r_(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function a_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function i_(e,t){return e[t]}function o_(e){const t=[];return t.key=e,t}function s_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(t){u_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d_(e,t,n){return mj(e)||mj(t)?n:sj(t)?nj()(e,t,n):"function"===typeof t?t(e):n}var h_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,f_=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,i,o=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate));return a||o.push(t),i||o.push(n),o},p_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===a&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*rj(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!aj(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},m_=1e-4,g_={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=aj(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}r_(e,t)}},none:r_,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}r_(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,r_(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=aj(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},v_=(e,t,n)=>{var r=g_[n],a=function(){var e=RS([]),t=a_,n=r_,r=i_;function a(a){var i,o,s=Array.from(e.apply(this,arguments),o_),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=MS(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:RS(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:RS(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?a_:"function"===typeof e?e:RS(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?r_:e,a):n},a}().keys(t).value((e,t)=>+d_(e,t,0)).order(a_).offset(r);return a(e)};function y_(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!mj(a[t.dataKey])){var s=pj(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=d_(a,mj(o)?t.dataKey:o);return mj(l)?null:t.scale(l)}var b_=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(oj);return[Math.min(...t),Math.max(...t)]})(s_(r,t,n));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},x_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=e_()(t,e=>e.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function S_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return c_(c_({},t),{},{dataKey:n,payload:r,value:a,name:i})}function j_(e,t){return e?String(e):"string"===typeof t?t:void 0}var N_=e=>e.layout.width,__=e=>e.layout.height,E_=e=>e.layout.scale,O_=e=>e.layout.margin,C_=XN(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),T_=XN(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),D_="data-recharts-item-index",P_="data-recharts-item-data-key";function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(t){M_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R_=XN([N_,__,O_,e=>e.brush.height,C_,T_,t_,e=>e.legend.size],(e,t,n,r,a,i,o,s)=>{var l=i.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return I_(I_({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=a.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:I_(I_({},e),{},{[n]:nj()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=I_(I_({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==i&&oj(e[i]))return c_(c_({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===i)&&"middle"!==o&&oj(e[o]))return c_(c_({},e),{},{[o]:e[o]+(a||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return I_(I_({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),L_=XN(R_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),z_=XN(N_,__,(e,t)=>({x:0,y:0,width:e,height:t})),F_=(0,t.createContext)(null),U_=()=>null!=(0,t.useContext)(F_),B_=e=>e.brush,V_=XN([B_,R_,O_],(e,t,n)=>({height:e.height,x:oj(e.x)?e.x:t.left,y:oj(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:oj(e.width)?e.width:t.width})),q_=()=>{var e,t=U_(),n=qN(L_),r=qN(V_),a=null===(e=qN(B_))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},W_={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H_=()=>{var e;return null!==(e=qN(R_))&&void 0!==e?e:W_},K_=()=>qN(N_),Y_=()=>qN(__),G_={top:0,right:0,bottom:0,left:0},Q_=e=>e.layout.layoutType,J_=()=>qN(Q_),X_=0,$_="auto",Z_=!0,eE=!1,tE=!0,nE=0,rE="auto",aE=!0,iE=5,oE=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},sE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:X_,includeHidden:!1,name:void 0,reversed:!1,scale:$_,tick:Z_,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},lE={allowDataOverflow:eE,allowDecimals:!1,allowDuplicatedCategory:tE,dataKey:void 0,domain:void 0,id:nE,includeHidden:!1,name:void 0,reversed:!1,scale:rE,tick:aE,tickCount:iE,ticks:void 0,type:"number",unit:void 0},cE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:X_,includeHidden:!1,name:void 0,reversed:!1,scale:$_,tick:Z_,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uE={allowDataOverflow:eE,allowDecimals:!1,allowDuplicatedCategory:tE,dataKey:void 0,domain:void 0,id:nE,includeHidden:!1,name:void 0,reversed:!1,scale:rE,tick:aE,tickCount:iE,ticks:void 0,type:"category",unit:void 0},dE=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?cE:sE,hE=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?uE:lE,fE=e=>e.polarOptions,pE=XN([N_,__,R_],PN),mE=XN([fE,pE],(e,t)=>{if(null!=e)return uj(e.innerRadius,t,0)}),gE=XN([fE,pE],(e,t)=>{if(null!=e)return uj(e.outerRadius,t,.8*t)}),vE=XN([fE],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),yE=(XN([dE,vE],oE),XN([pE,mE,gE],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),bE=(XN([hE,yE],oE),XN([Q_,fE,mE,gE,N_,__],(e,t,n,r,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:uj(o,a,a/2),cy:uj(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),xE=["offset"],wE=["labelRef"];function kE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(t){NE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(null,arguments)}var EE=e=>null!=e&&"function"===typeof e,OE=(e,n,r,a)=>{var i,o,{position:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>rj(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=y>=0?1:-1;"insideStart"===s?(i=p+b*l,o=g):"insideEnd"===s?(i=m-b*l,o=!g):"end"===s&&(i=m+b*l,o=g),o=y<=0?o:!o;var x=DN(u,d,v,i),w=DN(u,d,v,i+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=mj(e.id)?cj("recharts-radial-line-"):e.id;return t.createElement("text",_E({},r,{dominantBaseline:"central",className:Wt("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:k})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))};function CE(e){var{offset:n=5}=e,r=jE({offset:n},kE(e,xE)),{viewBox:a,position:i,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=qN(bE),f=q_(),p=a||("center"===i?f:null!==h&&void 0!==h?h:f);if(!p||mj(o)&&mj(s)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=jE(jE({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:v}=g,y=kE(g,wE);return(0,t.cloneElement)(l,y)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=mj(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var b=(e=>"cx"in e&&oj(e.cx))(p),x=Bj(r,!0);if(b&&("insideStart"===i||"insideEnd"===i||"end"===i))return OE(r,m,x,p);var w=b?((e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=DN(r,a,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:f,y:p}=DN(r,a,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:i,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return jE(jE({},{x:i+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===a)return jE(jE({},{x:i+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===a){var v={x:i-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return jE(jE({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===a){var y={x:i+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return jE(jE({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===a?jE({x:i+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?jE({x:i+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===a?jE({x:i+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?jE({x:i+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===a?jE({x:i+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?jE({x:i+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===a?jE({x:i+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===a?jE({x:i+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):a&&"object"===typeof a&&(oj(a.x)||ij(a.x))&&(oj(a.y)||ij(a.y))?jE({x:i+uj(a.x,s),y:o+uj(a.y,l),textAnchor:"end",verticalAnchor:"end"},b):jE({x:i+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,p);return t.createElement(NN,_E({ref:d,className:Wt("recharts-label",c)},x,w,{breakAll:u}),m)}CE.displayName="Label";var TE=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:v}=e;if(v)return v;if(oj(p)&&oj(m)){if(oj(u)&&oj(d))return{x:u,y:d,width:p,height:m};if(oj(h)&&oj(f))return{x:h,y:f,width:p,height:m}}return oj(u)&&oj(d)?{x:u,y:d,width:0,height:0}:oj(t)&&oj(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};CE.parseViewBox=TE,CE.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:i}=e,o=TE(e),s=Fj(a,CE).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)}));if(!r)return s;var l=((e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(CE,_E({key:"label-implicit"},a)):sj(e)?t.createElement(CE,_E({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===CE?(0,t.cloneElement)(e,jE({key:"label-implicit"},a)):t.createElement(CE,_E({key:"label-implicit",content:e},a)):EE(e)?t.createElement(CE,_E({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(CE,_E({},e,{key:"label-implicit"},a)):null})(e.label,n||o,i);return[l,...s]};var DE=["valueAccessor"],PE=["data","dataKey","clockWise","id","textBreakAll"];function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(t){RE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zE=e=>Array.isArray(e.value)?Kj()(e.value):e.value;function FE(e){var{valueAccessor:n=zE}=e,r=LE(e,DE),{data:a,dataKey:i,clockWise:o,id:s,textBreakAll:l}=r,c=LE(r,PE);return a&&a.length?t.createElement(Wj,{className:"recharts-label-list"},a.map((e,r)=>{var a=mj(i)?n(e,r):d_(e&&e.payload,i),u=mj(s)?{}:{id:"".concat(s,"-").concat(r)};return t.createElement(CE,AE({},Bj(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:CE.parseViewBox(mj(o)?e:ME(ME({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}FE.displayName="LabelList",FE.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,i=Fj(a,FE).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));if(!r)return i;var o=function(e,n){return e?!0===e?t.createElement(FE,{key:"labelList-implicit",data:n}):t.isValidElement(e)||EE(e)?t.createElement(FE,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(FE,AE({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n);return[o,...i]};var UE=n(9859),BE=n.n(UE);function VE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function qE(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class WE extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GE;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(HE(this,e))}has(e){return super.has(HE(this,e))}set(e,t){return super.set(KE(this,e),t)}delete(e){return super.delete(YE(this,e))}}Set;function HE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function KE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function YE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function GE(e){return null!==e&&"object"===typeof e?e.valueOf():e}const QE=Symbol("implicit");function JE(){var e=new WE,t=[],n=[],r=QE;function a(a){let i=e.get(a);if(void 0===i){if(r!==QE)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new WE;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return JE(t,n).unknown(r)},VE.apply(a,arguments),a}function XE(){var e,t,n=JE().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return XE(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},VE.apply(d(),arguments)}function $E(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $E(t())},e}function ZE(){return $E(XE.apply(null,arguments).paddingInner(1))}const eO=Math.sqrt(50),tO=Math.sqrt(10),nO=Math.sqrt(2);function rO(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=eO?10:i>=tO?5:i>=nO?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?rO(e,t,2*n):[s,l,c]}function aO(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?rO(t,e,n):rO(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function iO(e,t,n){return rO(e=+e,t=+t,n=+n)[2]}function oO(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?iO(t,e,n):iO(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function sO(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lO(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cO(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=sO,n=(t,n)=>sO(e(t),n),r=(t,n)=>e(t)-n):(t=e===sO||e===lO?e:uO,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function uO(){return 0}function dO(e){return null===e?NaN:+e}const hO=cO(sO),fO=hO.right,pO=(hO.left,cO(dO).center,fO);function mO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vO(){}var yO=.7,bO=1/yO,xO="\\s*([+-]?\\d+)\\s*",wO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SO=/^#([0-9a-f]{3,8})$/,jO=new RegExp("^rgb\\(".concat(xO,",").concat(xO,",").concat(xO,"\\)$")),NO=new RegExp("^rgb\\(".concat(kO,",").concat(kO,",").concat(kO,"\\)$")),_O=new RegExp("^rgba\\(".concat(xO,",").concat(xO,",").concat(xO,",").concat(wO,"\\)$")),EO=new RegExp("^rgba\\(".concat(kO,",").concat(kO,",").concat(kO,",").concat(wO,"\\)$")),OO=new RegExp("^hsl\\(".concat(wO,",").concat(kO,",").concat(kO,"\\)$")),CO=new RegExp("^hsla\\(".concat(wO,",").concat(kO,",").concat(kO,",").concat(wO,"\\)$")),TO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function DO(){return this.rgb().formatHex()}function PO(){return this.rgb().formatRgb()}function AO(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?IO(t):3===n?new LO(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?MO(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?MO(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jO.exec(e))?new LO(t[1],t[2],t[3],1):(t=NO.exec(e))?new LO(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_O.exec(e))?MO(t[1],t[2],t[3],t[4]):(t=EO.exec(e))?MO(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=OO.exec(e))?qO(t[1],t[2]/100,t[3]/100,1):(t=CO.exec(e))?qO(t[1],t[2]/100,t[3]/100,t[4]):TO.hasOwnProperty(e)?IO(TO[e]):"transparent"===e?new LO(NaN,NaN,NaN,0):null}function IO(e){return new LO(e>>16&255,e>>8&255,255&e,1)}function MO(e,t,n,r){return r<=0&&(e=t=n=NaN),new LO(e,t,n,r)}function RO(e,t,n,r){return 1===arguments.length?((a=e)instanceof vO||(a=AO(a)),a?new LO((a=a.rgb()).r,a.g,a.b,a.opacity):new LO):new LO(e,t,n,null==r?1:r);var a}function LO(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function zO(){return"#".concat(VO(this.r)).concat(VO(this.g)).concat(VO(this.b))}function FO(){const e=UO(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(BO(this.r),", ").concat(BO(this.g),", ").concat(BO(this.b)).concat(1===e?")":", ".concat(e,")"))}function UO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function BO(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function VO(e){return((e=BO(e))<16?"0":"")+e.toString(16)}function qO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new HO(e,t,n,r)}function WO(e){if(e instanceof HO)return new HO(e.h,e.s,e.l,e.opacity);if(e instanceof vO||(e=AO(e)),!e)return new HO;if(e instanceof HO)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new HO(o,s,l,e.opacity)}function HO(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function KO(e){return(e=(e||0)%360)<0?e+360:e}function YO(e){return Math.max(0,Math.min(1,e||0))}function GO(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function QO(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}mO(vO,AO,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DO,formatHex:DO,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return WO(this).formatHsl()},formatRgb:PO,toString:PO}),mO(LO,RO,gO(vO,{brighter(e){return e=null==e?bO:Math.pow(bO,e),new LO(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yO:Math.pow(yO,e),new LO(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new LO(BO(this.r),BO(this.g),BO(this.b),UO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zO,formatHex:zO,formatHex8:function(){return"#".concat(VO(this.r)).concat(VO(this.g)).concat(VO(this.b)).concat(VO(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:FO,toString:FO})),mO(HO,function(e,t,n,r){return 1===arguments.length?WO(e):new HO(e,t,n,null==r?1:r)},gO(vO,{brighter(e){return e=null==e?bO:Math.pow(bO,e),new HO(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yO:Math.pow(yO,e),new HO(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new LO(GO(e>=240?e-240:e+120,a,r),GO(e,a,r),GO(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new HO(KO(this.h),YO(this.s),YO(this.l),UO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=UO(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(KO(this.h),", ").concat(100*YO(this.s),"%, ").concat(100*YO(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const JO=e=>()=>e;function XO(e,t){return function(n){return e+n*t}}function $O(e){return 1===(e=+e)?ZO:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):JO(isNaN(t)?n:t)}}function ZO(e,t){var n=t-e;return n?XO(e,n):JO(isNaN(e)?t:e)}const eC=function e(t){var n=$O(t);function r(e,t){var r=n((e=RO(e)).r,(t=RO(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=ZO(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function tC(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=RO(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}tC(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return QO((n-r/t)*t,o,a,i,s)}}),tC(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return QO((n-r/t)*t,a,i,o,s)}});function nC(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=uC(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function rC(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function aC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function iC(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=uC(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var oC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sC=new RegExp(oC.source,"g");function lC(e,t){var n,r,a,i=oC.lastIndex=sC.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=oC.exec(e))&&(r=sC.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:aC(n,r)})),i=sC.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function cC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function uC(e,t){var n,r=typeof t;return null==t||"boolean"===r?JO(t):("number"===r?aC:"string"===r?(n=AO(t))?(t=n,eC):lC:t instanceof AO?eC:t instanceof Date?rC:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?cC:Array.isArray(t)?nC:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?iC:aC)(e,t)}function dC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hC(e){return+e}var fC=[0,1];function pC(e){return e}function mC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function gC(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=mC(a,r),i=n(o,i)):(r=mC(r,a),i=n(i,o)),function(e){return i(r(e))}}function vC(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=mC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=pO(e,t,1,r)-1;return i[n](a[n](t))}}function yC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bC(){var e,t,n,r,a,i,o=fC,s=fC,l=uC,c=pC;function u(){var e=Math.min(o.length,s.length);return c!==pC&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?vC:gC,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),aC)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,hC),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=dC,u()},d.clamp=function(e){return arguments.length?(c=!!e||pC,u()):c!==pC},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function xC(){return bC()(pC,pC)}var wC,kC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function SC(e){if(!(t=kC.exec(e)))throw new Error("invalid format: "+e);var t;return new jC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function jC(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function NC(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _C(e){return(e=NC(Math.abs(e)))?e[1]:NaN}function EC(e,t){var n=NC(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}SC.prototype=jC.prototype,jC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const OC={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EC(100*e,t),r:EC,s:function(e,t){var n=NC(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(wC=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+NC(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CC(e){return e}var TC,DC,PC,AC=Array.prototype.map,IC=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function MC(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?CC:(t=AC.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?CC:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(AC.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=SC(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):OC[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?i:/[%p]/.test(y)?l:"",w=OC[y],k=/[defgprs%]/.test(y);function S(e){var a,i,l,h=b,S=x;if("c"===y)S=w(e)+S,e="";else{var j=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),j&&0===+e&&"+"!==d&&(j=!1),h=(j?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===y?IC[8+wC/3]:"")+S+(j&&"("===d?")":""),k)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){S=(46===l?o+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var N=h.length+e.length+S.length,_=N<p?new Array(p-N+1).join(t):"";switch(m&&f&&(e=r(_+e,_.length?p-S.length:1/0),_=""),n){case"<":e=h+e+S+_;break;case"=":e=h+_+e+S;break;case"^":e=_.slice(0,N=_.length>>1)+h+e+S+_.slice(N);break;default:e=_+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=SC(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(_C(t)/3))),a=Math.pow(10,-r),i=IC[8+r/3];return function(e){return n(a*e)+i}}}}function RC(e,t,n,r){var a,i=oO(e,t,n);switch((r=SC(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_C(t)/3)))-_C(Math.abs(e)))}(i,o))||(r.precision=a),PC(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_C(t)-_C(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-_C(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return DC(r)}function LC(e){var t=e.domain;return e.ticks=function(e){var n=t();return aO(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return RC(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=iO(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function zC(){var e=xC();return e.copy=function(){return yC(e,zC())},VE.apply(e,arguments),LC(e)}function FC(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,hC),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return FC(e).unknown(t)},e=arguments.length?Array.from(e,hC):[0,1],LC(n)}function UC(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function BC(e){return Math.log(e)}function VC(e){return Math.exp(e)}function qC(e){return-Math.log(-e)}function WC(e){return-Math.exp(-e)}function HC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KC(e){return(t,n)=>-e(-t,n)}function YC(e){const t=e(BC,VC),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?HC:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=KC(r),a=KC(a),e(qC,WC)):e(BC,VC),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=aO(o,s,f))}else p=aO(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=SC(n)).precision||(n.trim=!0),n=DC(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(UC(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function GC(){const e=YC(bC()).domain([1,10]);return e.copy=()=>yC(e,GC()).base(e.base()),VE.apply(e,arguments),e}function QC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function XC(e){var t=1,n=e(QC(t),JC(t));return n.constant=function(n){return arguments.length?e(QC(t=+n),JC(t)):t},LC(n)}function $C(){var e=XC(bC());return e.copy=function(){return yC(e,$C()).constant(e.constant())},VE.apply(e,arguments)}function ZC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tT(e){return e<0?-e*e:e*e}function nT(e){var t=e(pC,pC),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(pC,pC):.5===n?e(eT,tT):e(ZC(n),ZC(1/n)):n},LC(t)}function rT(){var e=nT(bC());return e.copy=function(){return yC(e,rT()).exponent(e.exponent())},VE.apply(e,arguments),e}function aT(){return rT.apply(null,arguments).exponent(.5)}function iT(e){return Math.sign(e)*e*e}function oT(){var e,t=xC(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(iT(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,hC)).map(iT)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return oT(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},VE.apply(a,arguments),LC(a)}function sT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function lT(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function cT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sO;if(e===sO)return uT;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function uT(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function dT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?uT:cT(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);dT(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(hT(e,n,t),a(e[r],i)>0&&hT(e,n,r);o<s;){for(hT(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?hT(e,n,s):(++s,hT(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function hT(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fT(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return lT(e);if(t>=1)return sT(e);var r,a=(r-1)*t,i=Math.floor(a),o=sT(dT(e,i).subarray(0,i+1));return o+(lT(e.subarray(i+1))-o)*(a-i)}}function pT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dO;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function mT(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=pT(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[pO(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(sO),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return mT().domain(t).range(n).unknown(e)},VE.apply(i,arguments)}function gT(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[pO(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return gT().domain([t,n]).range(i).unknown(e)},VE.apply(LC(o),arguments)}function vT(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[pO(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return vT().domain(t).range(n).unknown(e)},VE.apply(a,arguments)}TC=MC({thousands:",",grouping:[3],currency:["$",""]}),DC=TC.format,PC=TC.formatPrefix;const yT=1e3,bT=6e4,xT=36e5,wT=864e5,kT=6048e5,ST=2592e6,jT=31536e6,NT=new Date,_T=new Date;function ET(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>ET(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(NT.setTime(+t),_T.setTime(+r),e(NT),e(_T),Math.floor(n(NT,_T))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const OT=ET(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);OT.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ET(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):OT:null);OT.range;const CT=ET(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yT)},(e,t)=>(t-e)/yT,e=>e.getUTCSeconds()),TT=(CT.range,ET(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yT)},(e,t)=>{e.setTime(+e+t*bT)},(e,t)=>(t-e)/bT,e=>e.getMinutes())),DT=(TT.range,ET(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bT)},(e,t)=>(t-e)/bT,e=>e.getUTCMinutes())),PT=(DT.range,ET(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yT-e.getMinutes()*bT)},(e,t)=>{e.setTime(+e+t*xT)},(e,t)=>(t-e)/xT,e=>e.getHours())),AT=(PT.range,ET(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xT)},(e,t)=>(t-e)/xT,e=>e.getUTCHours())),IT=(AT.range,ET(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bT)/wT,e=>e.getDate()-1)),MT=(IT.range,ET(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wT,e=>e.getUTCDate()-1)),RT=(MT.range,ET(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wT,e=>Math.floor(e/wT)));RT.range;function LT(e){return ET(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bT)/kT)}const zT=LT(0),FT=LT(1),UT=LT(2),BT=LT(3),VT=LT(4),qT=LT(5),WT=LT(6);zT.range,FT.range,UT.range,BT.range,VT.range,qT.range,WT.range;function HT(e){return ET(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/kT)}const KT=HT(0),YT=HT(1),GT=HT(2),QT=HT(3),JT=HT(4),XT=HT(5),$T=HT(6),ZT=(KT.range,YT.range,GT.range,QT.range,JT.range,XT.range,$T.range,ET(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),eD=(ZT.range,ET(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),tD=(eD.range,ET(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));tD.every=e=>isFinite(e=Math.floor(e))&&e>0?ET(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;tD.range;const nD=ET(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nD.every=e=>isFinite(e=Math.floor(e))&&e>0?ET(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;nD.range;function rD(e,t,n,r,a,i){const o=[[CT,1,yT],[CT,5,5e3],[CT,15,15e3],[CT,30,3e4],[i,1,bT],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,xT],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,wT],[r,2,1728e5],[n,1,kT],[t,1,ST],[t,3,7776e6],[e,1,jT]];function s(t,n,r){const a=Math.abs(n-t)/r,i=cO(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(oO(t/jT,n/jT,r));if(0===i)return OT.every(Math.max(oO(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[aD,iD]=rD(nD,eD,KT,RT,AT,DT),[oD,sD]=rD(tD,ZT,zT,IT,PT,TT);function lD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uD(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var dD,hD,fD,pD={"-":"",_:" ",0:"0"},mD=/^\s*\d+/,gD=/^%/,vD=/[\\^$*+?|[\]().{}]/g;function yD(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function bD(e){return e.replace(vD,"\\$&")}function xD(e){return new RegExp("^(?:"+e.map(bD).join("|")+")","i")}function wD(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function kD(e,t,n){var r=mD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SD(e,t,n){var r=mD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ND(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _D(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ED(e,t,n){var r=mD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function OD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TD(e,t,n){var r=mD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function DD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function PD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AD(e,t,n){var r=mD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ID(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function MD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=mD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LD(e,t,n){var r=mD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zD(e,t,n){var r=mD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FD(e,t,n){var r=gD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function UD(e,t,n){var r=mD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function BD(e,t,n){var r=mD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function VD(e,t){return yD(e.getDate(),t,2)}function qD(e,t){return yD(e.getHours(),t,2)}function WD(e,t){return yD(e.getHours()%12||12,t,2)}function HD(e,t){return yD(1+IT.count(tD(e),e),t,3)}function KD(e,t){return yD(e.getMilliseconds(),t,3)}function YD(e,t){return KD(e,t)+"000"}function GD(e,t){return yD(e.getMonth()+1,t,2)}function QD(e,t){return yD(e.getMinutes(),t,2)}function JD(e,t){return yD(e.getSeconds(),t,2)}function XD(e){var t=e.getDay();return 0===t?7:t}function $D(e,t){return yD(zT.count(tD(e)-1,e),t,2)}function ZD(e){var t=e.getDay();return t>=4||0===t?VT(e):VT.ceil(e)}function eP(e,t){return e=ZD(e),yD(VT.count(tD(e),e)+(4===tD(e).getDay()),t,2)}function tP(e){return e.getDay()}function nP(e,t){return yD(FT.count(tD(e)-1,e),t,2)}function rP(e,t){return yD(e.getFullYear()%100,t,2)}function aP(e,t){return yD((e=ZD(e)).getFullYear()%100,t,2)}function iP(e,t){return yD(e.getFullYear()%1e4,t,4)}function oP(e,t){var n=e.getDay();return yD((e=n>=4||0===n?VT(e):VT.ceil(e)).getFullYear()%1e4,t,4)}function sP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yD(t/60|0,"0",2)+yD(t%60,"0",2)}function lP(e,t){return yD(e.getUTCDate(),t,2)}function cP(e,t){return yD(e.getUTCHours(),t,2)}function uP(e,t){return yD(e.getUTCHours()%12||12,t,2)}function dP(e,t){return yD(1+MT.count(nD(e),e),t,3)}function hP(e,t){return yD(e.getUTCMilliseconds(),t,3)}function fP(e,t){return hP(e,t)+"000"}function pP(e,t){return yD(e.getUTCMonth()+1,t,2)}function mP(e,t){return yD(e.getUTCMinutes(),t,2)}function gP(e,t){return yD(e.getUTCSeconds(),t,2)}function vP(e){var t=e.getUTCDay();return 0===t?7:t}function yP(e,t){return yD(KT.count(nD(e)-1,e),t,2)}function bP(e){var t=e.getUTCDay();return t>=4||0===t?JT(e):JT.ceil(e)}function xP(e,t){return e=bP(e),yD(JT.count(nD(e),e)+(4===nD(e).getUTCDay()),t,2)}function wP(e){return e.getUTCDay()}function kP(e,t){return yD(YT.count(nD(e)-1,e),t,2)}function SP(e,t){return yD(e.getUTCFullYear()%100,t,2)}function jP(e,t){return yD((e=bP(e)).getUTCFullYear()%100,t,2)}function NP(e,t){return yD(e.getUTCFullYear()%1e4,t,4)}function _P(e,t){var n=e.getUTCDay();return yD((e=n>=4||0===n?JT(e):JT.ceil(e)).getUTCFullYear()%1e4,t,4)}function EP(){return"+0000"}function OP(){return"%"}function CP(e){return+e}function TP(e){return Math.floor(+e/1e3)}function DP(e){return new Date(e)}function PP(e){return e instanceof Date?+e:+new Date(+e)}function AP(e,t,n,r,a,i,o,s,l,c){var u=xC(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?v:y:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,PP)):h().map(DP)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(UC(n,e)):u},u.copy=function(){return yC(u,AP(e,t,n,r,a,i,o,s,l,c))},u}function IP(){return VE.apply(AP(oD,sD,tD,ZT,zT,IT,PT,TT,CT,hD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MP(){return VE.apply(AP(aD,iD,nD,eD,KT,MT,AT,DT,CT,fD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RP(){var e,t,n,r,a,i=0,o=1,s=pC,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(uC),c.rangeRound=u(dC),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function LP(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zP(){var e=LC(RP()(pC));return e.copy=function(){return LP(e,zP())},qE.apply(e,arguments)}function FP(){var e=YC(RP()).domain([1,10]);return e.copy=function(){return LP(e,FP()).base(e.base())},qE.apply(e,arguments)}function UP(){var e=XC(RP());return e.copy=function(){return LP(e,UP()).constant(e.constant())},qE.apply(e,arguments)}function BP(){var e=nT(RP());return e.copy=function(){return LP(e,BP()).exponent(e.exponent())},qE.apply(e,arguments)}function VP(){return BP.apply(null,arguments).exponent(.5)}function qP(){var e=[],t=pC;function n(n){if(null!=n&&!isNaN(n=+n))return t((pO(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(sO),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>fT(e,r/t))},n.copy=function(){return qP(t).domain(e)},qE.apply(n,arguments)}function WP(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=pC,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=uC);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(uC),f.rangeRound=p(dC),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function HP(){var e=LC(WP()(pC));return e.copy=function(){return LP(e,HP())},qE.apply(e,arguments)}function KP(){var e=YC(WP()).domain([.1,1,10]);return e.copy=function(){return LP(e,KP()).base(e.base())},qE.apply(e,arguments)}function YP(){var e=XC(WP());return e.copy=function(){return LP(e,YP()).constant(e.constant())},qE.apply(e,arguments)}function GP(){var e=nT(WP());return e.copy=function(){return LP(e,GP()).exponent(e.exponent())},qE.apply(e,arguments)}function QP(){return GP.apply(null,arguments).exponent(.5)}!function(e){dD=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=xD(a),u=wD(a),d=xD(i),h=wD(i),f=xD(o),p=wD(o),m=xD(s),g=wD(s),v=xD(l),y=wD(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:VD,e:VD,f:YD,g:aP,G:oP,H:qD,I:WD,j:HD,L:KD,m:GD,M:QD,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:CP,s:TP,S:JD,u:XD,U:$D,V:eP,w:tP,W:nP,x:null,X:null,y:rP,Y:iP,Z:sP,"%":OP},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:lP,e:lP,f:fP,g:jP,G:_P,H:cP,I:uP,j:dP,L:hP,m:pP,M:mP,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:CP,s:TP,S:gP,u:vP,U:yP,V:xP,w:wP,W:kP,x:null,X:null,y:SP,Y:NP,Z:EP,"%":OP},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return j(e,t,n,r)},d:PD,e:PD,f:zD,g:OD,G:ED,H:ID,I:ID,j:AD,L:LD,m:DD,M:MD,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:TD,Q:UD,s:BD,S:RD,u:SD,U:jD,V:ND,w:kD,W:_D,x:function(e,t,r){return j(e,n,t,r)},X:function(e,t,n){return j(e,r,t,n)},y:OD,Y:ED,Z:CD,"%":FD};function k(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=pD[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,a,i=uD(1900,void 0,1);if(j(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=cD(uD(i.y,0,1))).getUTCDay(),r=a>4||0===a?YT.ceil(r):YT(r),r=MT.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=lD(uD(i.y,0,1))).getDay(),r=a>4||0===a?FT.ceil(r):FT(r),r=IT.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?cD(uD(i.y,0,1)).getUTCDay():lD(uD(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,cD(i)):lD(i)}}function j(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in pD?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),hD=dD.format,dD.parse,fD=dD.utcFormat,dD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var JP=e=>e.chartData,XP=XN([JP],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$P=(e,t,n,r)=>r?XP(e):JP(e);function ZP(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(vj(t)&&vj(n))return!0}return!1}function eA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var tA=n(8210),nA=n.n(tA),rA=e=>e,aA={"@@functional/placeholder":!0},iA=e=>e===aA,oA=e=>function t(){return 0===arguments.length||1===arguments.length&&iA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sA=(e,t)=>1===e?t:oA(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(e=>e!==aA).length;return i>=e?t(...r):sA(e-i,oA(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=r.map(e=>iA(e)?n.shift():e);return t(...i,...n)}))}),lA=e=>sA(e.length,e),cA=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},uA=lA((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),dA=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),hA=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function fA(e){return 0===e?1:Math.floor(new(nA())(e).abs().log(10).toNumber())+1}function pA(e,t,n){for(var r=new(nA())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}lA((e,t,n)=>{var r=+e;return r+n*(+t-r)}),lA((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),lA((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var mA=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},gA=(e,t,n)=>{if(e.lte(0))return new(nA())(0);var r=fA(e.toNumber()),a=new(nA())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(nA())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?new(nA())(s.toNumber()):new(nA())(Math.ceil(s.toNumber()))},vA=(e,t,n)=>{var r=new(nA())(1),a=new(nA())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(nA())(10).pow(fA(e)-1),a=new(nA())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(nA())(Math.floor(e)))}else 0===e?a=new(nA())(Math.floor((t-1)/2)):n||(a=new(nA())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return rA;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(uA(e=>a.add(new(nA())(e-o).mul(r)).toNumber()),cA)(0,t)},yA=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(nA())(0),tickMin:new(nA())(0),tickMax:new(nA())(0)};var i,o=gA(new(nA())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(nA())(0):(i=new(nA())(e).add(t).div(2)).sub(new(nA())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(nA())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?yA(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(nA())(s).mul(o)),tickMax:i.add(new(nA())(l).mul(o))})};var bA=hA(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[o,s]=mA([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...cA(0,r-1).map(()=>1/0)]:[...cA(0,r-1).map(()=>-1/0),s];return t>n?dA(l):l}if(o===s)return vA(o,r,a);var{step:c,tickMin:u,tickMax:d}=yA(o,s,i,a,0),h=pA(u,d.add(new(nA())(.1).mul(c)),c);return t>n?dA(h):h}),xA=hA(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,o]=mA([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=gA(new(nA())(o).sub(i).div(s-1),a,0),c=[...pA(new(nA())(i),new(nA())(o),l),o];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?dA(c):c}),wA=e=>e.rootProps.stackOffset,kA=e=>e.options.chartName,SA=e=>e.rootProps.syncId,jA=e=>e.rootProps.syncMethod,NA=e=>e.options.eventEmitter,_A=(e,t)=>t,EA=(e,t,n)=>n;function OA(e){return null===e||void 0===e?void 0:e.id}var CA=e=>{var t=Q_(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},TA=e=>e.tooltip.settings.axisId,DA=e=>{var t=CA(e),n=TA(e);return HA(e,t,n)};function PA(e,t,n){var{chartData:r=[]}=t,a=null===n||void 0===n?void 0:n.dataKey,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=OA(e);n.forEach((t,n)=>{var r,s=null==a?n:String(d_(t,a,null)),l=d_(t,e.dataKey,0);r=i.has(s)?i.get(s):{},Object.assign(r,{[o]:l}),i.set(s,r)})}}),Array.from(i.values())}function AA(e){return null!=e.stackId&&null!=e.dataKey}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(t){RA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LA=[0,"auto"],zA={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FA=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?zA:n},UA={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:LA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},BA=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?UA:n},VA={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?VA:n},WA=(e,t,n)=>{switch(t){case"xAxis":return FA(e,n);case"yAxis":return BA(e,n);case"zAxis":return qA(e,n);case"angleAxis":return dE(e,n);case"radiusAxis":return hE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HA=(e,t,n)=>{switch(t){case"xAxis":return FA(e,n);case"yAxis":return BA(e,n);case"angleAxis":return dE(e,n);case"radiusAxis":return hE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KA=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function YA(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var GA=e=>e.graphicalItems.cartesianItems,QA=XN([_A,EA],YA),JA=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),XA=XN([GA,WA,QA],JA),$A=XN([XA],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(AA)),ZA=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),eI=XN([XA],ZA),tI=e=>e.map(e=>e.data).filter(Boolean).flat(1),nI=XN([XA],tI),rI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},aI=XN([nI,$P],rI),iI=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:d_(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:d_(e,t)}))):e.map(e=>({value:e})),oI=XN([aI,WA,XA],iI);function sI(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function lI(e){return e.filter(e=>sj(e)||e instanceof Date).map(Number).filter(e=>!1===aj(e))}function cI(e,t,n){return!n||"number"!==typeof t||aj(t)?[]:n.length?lI(n.flatMap(n=>{var r,a,i=d_(e,n.dataKey);if(Array.isArray(i)?[r,a]=i:r=a=i,vj(r)&&vj(a))return[t-r,t+a]})):[]}var uI=XN([$A,$P,DA],PA),dI=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,i=a.map(OA);return[r,{stackedData:v_(e,i,n),graphicalItems:a}]}))},hI=XN([uI,$A,wA],dI),fI=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if("zAxis"!==n){var i=b_(e,r,a);if(null==i||0!==i[0]||0!==i[1])return i}},pI=XN([hI,JP,_A],fI),mI=(e,t,n,r,a)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,o,s=null===(i=r[n.id])||void 0===i?void 0:i.filter(e=>sI(a,e)),l=d_(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:cI(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:d_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),gI=e=>e.errorBars,vI=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>sI(n,e)),yI=(XN([eI,gI,_A],vI),XN([aI,WA,eI,gI,_A],mI));function bI(e){var{value:t}=e;if(sj(t)||t instanceof Date)return t}var xI=e=>{var t=lI(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},wI=e=>{var t;if(null==e||!("domain"in e))return LA;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=lI(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:LA},kI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},SI=e=>e.referenceElements.dots,jI=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),NI=XN([SI,_A,EA],jI),_I=e=>e.referenceElements.areas,EI=XN([_I,_A,EA],jI),OI=e=>e.referenceElements.lines,CI=XN([OI,_A,EA],jI),TI=(e,t)=>{var n=lI(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},DI=XN(NI,_A,TI),PI=(e,t)=>{var n=lI(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},AI=XN([EI,_A],PI),II=(e,t)=>{var n=lI(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},MI=XN(CI,_A,II),RI=XN(DI,MI,AI,(e,t,n)=>kI(e,n,t)),LI=XN([WA],wI),zI=(e,t,n,r,a,i,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,i]=e;if(vj(a))n=a;else if("function"===typeof a)return;if(vj(i))r=i;else if("function"===typeof i)return;var o=[n,r];if(ZP(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(ZP(r))return eA(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[o,s]=e;if("auto"===o)null!=t&&(a=Math.min(...t));else if(oj(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&x_.test(o)){var l=x_.exec(o);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(i=Math.max(...t));else if(oj(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&w_.test(s)){var u=w_.exec(s);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(ZP(h))return null==t?h:eA(h,t,n)}}}(t,"vertical"===i&&"xAxis"===o||"horizontal"===i&&"yAxis"===o?kI(n,a,xI(r)):kI(a,xI(r)),e.allowDataOverflow)},FI=XN([WA,LI,pI,yI,RI,Q_,_A],zI),UI=[0,1],BI=(e,t,n,r,a,i,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=h_(t,i);return c&&null==s?BE()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(bI).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&dj(r))?BE()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===a?UI:o}},VI=XN([WA,Q_,aI,oI,wA,_A,FI],BI),qI=(t,n,r,a,i)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===i?"band":"radial"===n&&"angleAxis"===i?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(gj(o));return l in e?l:"point"}}},WI=XN([WA,Q_,KA,kA,_A],qI);function HI(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(gj(t));return n in e?e[n]():void 0}}(n);if(null!=i){var o=i.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-m_,i=Math.max(r[0],r[1])+m_,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}})(o),o}}}var KI=(e,t,n)=>{var r=wI(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&ZP(e)?bA(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&ZP(e)?xA(e,t.tickCount,t.allowDecimals):void 0},YI=XN([VI,HA,WI],KI),GI=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&ZP(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},QI=XN([WA,VI,YI,_A],GI),JI=XN(oI,WA,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(lI(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),XI=XN(JI,Q_,e=>e.rootProps.barCategoryGap,R_,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!vj(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===a)return e*i/2;if("no-gap"===a){var o=uj(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),$I=XN(FA,(e,t)=>{var n=FA(e,t);return null==n||"string"!==typeof n.padding?0:XI(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),ZI=XN(BA,(e,t)=>{var n=BA(e,t);return null==n||"string"!==typeof n.padding?0:XI(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),eM=XN([R_,$I,V_,B_,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),tM=XN([R_,Q_,ZI,V_,B_,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),nM=(e,t,n,r)=>{var a;switch(t){case"xAxis":return eM(e,n,r);case"yAxis":return tM(e,n,r);case"zAxis":return null===(a=qA(e,n))||void 0===a?void 0:a.range;case"angleAxis":return vE(e);case"radiusAxis":return yE(e,n);default:return}},rM=XN([WA,nM],oE),aM=XN([WA,WI,QI,rM],HI);XN([XA,gI,_A],vI);function iM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var oM=(e,t)=>t,sM=(e,t,n)=>n,lM=XN(C_,oM,sM,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(iM)),cM=XN(T_,oM,sM,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(iM)),uM=(e,t)=>({width:e.width,height:t.height}),dM=XN(R_,FA,uM),hM=XN(__,R_,lM,oM,sM,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=uM(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;o[n.id]=i-Number(l)*s.height,i+=(l?-1:1)*s.height}),o}),fM=XN(N_,R_,cM,oM,sM,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;o[n.id]=i-Number(l)*s.width,i+=(l?-1:1)*s.width}),o}),pM=XN(R_,BA,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),mM=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=h_(e,r),l=t.map(e=>e.value);return o&&s&&"category"===i&&a&&dj(l)?l:void 0}},gM=XN([Q_,oI,WA,_A],mM),vM=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:i}=n;return!h_(e,r)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},yM=XN([Q_,oI,HA,_A],vM),bM=XN([Q_,(e,t,n)=>{switch(t){case"xAxis":return FA(e,n);case"yAxis":return BA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},WI,aM,gM,yM,nM,YI,_A],(e,t,n,r,a,i,o,s,l)=>{if(null==t)return null;var c=h_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),xM=XN([Q_,HA,WI,aM,YI,nM,gM,yM,_A],(e,t,n,r,a,i,o,s,l)=>{if(null!=t&&null!=r){var c=h_(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*rj(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!aj(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),wM=XN([Q_,HA,aM,nM,gM,yM,_A],(e,t,n,r,a,i,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=h_(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*rj(r[0]-r[1])*c:c,s&&i?i.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),kM=XN(WA,aM,(e,t)=>{if(null!=e&&null!=t)return MA(MA({},e),{},{scale:t})}),SM=XN([WA,WI,VI,rM],HI),jM=(XN((e,t,n)=>qA(e,n),SM,(e,t)=>{if(null!=e&&null!=t)return MA(MA({},e),{},{scale:t})}),XN([Q_,C_,T_],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),NM=e=>e.options.defaultTooltipEventType,_M=e=>e.options.validateTooltipEventTypes;function EM(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function OM(e,t){return EM(t,NM(e),_M(e))}var CM=(e,t)=>{var n,r=Number(t);if(!aj(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function TM(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var DM=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),PM=()=>Math.random().toString(36).substring(7).split("").join("."),AM={INIT:"@@redux/INIT".concat(PM()),REPLACE:"@@redux/REPLACE".concat(PM()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(PM())};function IM(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function MM(e,t,n){if("function"!==typeof e)throw new Error(TM(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(TM(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(TM(1));return n(MM)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(TM(3));return a}function d(e){if("function"!==typeof e)throw new Error(TM(4));if(l)throw new Error(TM(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(TM(6));t=!1,c(),o.delete(n),i=null}}}function h(e){if(!IM(e))throw new Error(TM(7));if("undefined"===typeof e.type)throw new Error(TM(8));if("string"!==typeof e.type)throw new Error(TM(17));if(l)throw new Error(TM(9));try{l=!0,a=r(a,e)}finally{l=!1}return(i=o).forEach(e=>{e()}),e}h({type:AM.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(TM(10));r=e,h({type:AM.REPLACE})},[DM]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(TM(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[DM](){return this}}}}}function RM(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:AM.INIT}))throw new Error(TM(12));if("undefined"===typeof n(void 0,{type:AM.PROBE_UNKNOWN_ACTION()}))throw new Error(TM(13))})}(n)}catch(iZ){a=iZ}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<r.length;a++){const s=r[a],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(TM(14))}o[s]=u,i=i||u!==c}return i=i||r.length!==Object.keys(e).length,i?o:e}}function LM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function zM(e){return IM(e)&&"type"in e&&"string"===typeof e.type}function FM(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var UM=FM(),BM=FM,VM=Symbol.for("immer-nothing"),qM=Symbol.for("immer-draftable"),WM=Symbol.for("immer-state");function HM(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var KM=Object.getPrototypeOf;function YM(e){return!!e&&!!e[WM]}function GM(e){var t;return!!e&&(JM(e)||Array.isArray(e)||!!e[qM]||!(null===(t=e.constructor)||void 0===t||!t[qM])||tR(e)||nR(e))}var QM=Object.prototype.constructor.toString();function JM(e){if(!e||"object"!==typeof e)return!1;const t=KM(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===QM}function XM(e,t){0===$M(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function $M(e){const t=e[WM];return t?t.type_:Array.isArray(e)?1:tR(e)?2:nR(e)?3:0}function ZM(e,t){return 2===$M(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eR(e,t,n){const r=$M(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function tR(e){return e instanceof Map}function nR(e){return e instanceof Set}function rR(e){return e.copy_||e.base_}function aR(e,t){if(tR(e))return new Map(e);if(nR(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=JM(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[WM];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(KM(e),t)}{const t=KM(e);if(null!==t&&n)return l({},e);const r=Object.create(t);return Object.assign(r,e)}}function iR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return sR(e)||YM(e)||!GM(e)||($M(e)>1&&(e.set=e.add=e.clear=e.delete=oR),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return iR(n,!0)})),e}function oR(){HM(2)}function sR(e){return Object.isFrozen(e)}var lR,cR={};function uR(e){const t=cR[e];return t||HM(0),t}function dR(){return lR}function hR(e,t){t&&(uR("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fR(e){pR(e),e.drafts_.forEach(gR),e.drafts_=null}function pR(e){e===lR&&(lR=e.parent_)}function mR(e){return lR={drafts_:[],parent_:lR,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gR(e){const t=e[WM];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[WM].modified_&&(fR(t),HM(4)),GM(e)&&(e=yR(t,e),t.parent_||xR(t,e)),t.patches_&&uR("Patches").generateReplacementPatches_(n[WM].base_,e,t.patches_,t.inversePatches_)):e=yR(t,n,[]),fR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VM?e:void 0}function yR(e,t,n){if(sR(t))return t;const r=t[WM];if(!r)return XM(t,(a,i)=>bR(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xR(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),XM(a,(a,o)=>bR(e,r,t,a,o,n,i)),xR(e,t,!1),n&&e.patches_&&uR("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function bR(e,t,n,r,a,i,o){if(YM(a)){const o=yR(e,a,i&&t&&3!==t.type_&&!ZM(t.assigned_,r)?i.concat(r):void 0);if(eR(n,r,o),!YM(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(GM(a)&&!sR(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yR(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||xR(e,a)}}function xR(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iR(t,n)}var wR={get(e,t){if(t===WM)return e;const n=rR(e);if(!ZM(n,t))return function(e,t,n){var r;const a=jR(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!GM(r)?r:r===SR(e.base_,t)?(_R(e),e.copy_[t]=ER(r,e)):r},has:(e,t)=>t in rR(e),ownKeys:e=>Reflect.ownKeys(rR(e)),set(e,t,n){const r=jR(rR(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=SR(rR(e),t),a=null===r||void 0===r?void 0:r[WM];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||ZM(e.base_,t)))return!0;_R(e),NR(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==SR(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,_R(e),NR(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=rR(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){HM(11)},getPrototypeOf:e=>KM(e.base_),setPrototypeOf(){HM(12)}},kR={};function SR(e,t){const n=e[WM];return(n?rR(n):e)[t]}function jR(e,t){if(!(t in e))return;let n=KM(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=KM(n)}}function NR(e){e.modified_||(e.modified_=!0,e.parent_&&NR(e.parent_))}function _R(e){e.copy_||(e.copy_=aR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}XM(wR,(e,t)=>{kR[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),kR.deleteProperty=function(e,t){return kR.set.call(this,e,t,void 0)},kR.set=function(e,t,n){return wR.set.call(this,e[0],t,n,e[0])};function ER(e,t){const n=tR(e)?uR("MapSet").proxyMap_(e,t):nR(e)?uR("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:dR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=wR;n&&(a=[r],i=kR);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:dR()).drafts_.push(n),n}function OR(e){return YM(e)||HM(10),CR(e)}function CR(e){if(!GM(e)||sR(e))return e;const t=e[WM];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=aR(e,t.scope_.immer_.useStrictShallowCopy_)}else n=aR(e,!0);return XM(n,(e,t)=>{eR(n,e,CR(t))}),t&&(t.finalized_=!1),n}var TR=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&HM(6),void 0!==n&&"function"!==typeof n&&HM(7),GM(e)){const a=mR(this),i=ER(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?fR(a):pR(a)}return hR(a,n),vR(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===VM&&(r=void 0),this.autoFreeze_&&iR(r,!0),n){const t=[],a=[];uR("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}HM(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const i=this.produce(e,n,(e,t)=>{r=e,a=t});return[i,r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){GM(e)||HM(8),YM(e)&&(e=OR(e));const t=mR(this),n=ER(e,void 0);return n[WM].isManual_=!0,pR(t),n}finishDraft(e,t){const n=e&&e[WM];n&&n.isManual_||HM(9);const{scope_:r}=n;return hR(r,t),vR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=uR("Patches").applyPatches_;return YM(e)?r(e,t):this.produce(e,e=>r(e,t))}},DR=TR.produce;TR.produceWithPatches.bind(TR),TR.setAutoFreeze.bind(TR),TR.setUseStrictShallowCopy.bind(TR),TR.applyPatches.bind(TR),TR.createDraft.bind(TR),TR.finishDraft.bind(TR);const PR=["reducerPath"];var AR="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?LM:LM.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function IR(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(OL(0));return l(l({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>zM(t)&&t.type===e,n}var MR=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function RR(e){return GM(e)?DR(e,()=>{}):e}function LR(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var zR="RTK_autoBatch",FR=e=>t=>{setTimeout(t,e)},UR=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new MR(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:FR(10):"callback"===e.type?e.queueNotification:FR(e.timeout),l=()=>{i=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[zR]),a=!r,a&&(i||(i=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function BR(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let i=new MR;return t&&(function(e){return"boolean"===typeof e}(t)?i.push(UM):i.push(BM(t.extraArgument))),i},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o,enhancers:s}=e||{};let c,u;if("function"===typeof n)c=n;else{if(!IM(n))throw new Error(OL(1));c=RM(n)}u="function"===typeof r?r(t):t();let d=LM;a&&(d=AR(l({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let i=()=>{throw new Error(TM(15))};const o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,...n)}},s=t.map(e=>e(o));return i=LM(...s)(a.dispatch),l(l({},a),{},{dispatch:i})}}(...u),f=UR(h);return MM(c,o,d(..."function"===typeof s?s(f):f()))}function VR(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(OL(28));if(r in t)throw new Error(OL(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var qR=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var WR=Symbol.for("rtk-slice-createasyncthunk");function HR(e,t){return"".concat(e,"/").concat(t)}function KR(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[WR];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(OL(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return l({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(OL(12));if(n in s.sliceCaseReducersByType)throw new Error(OL(13));return s.sliceCaseReducersByType[n]=t,c},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(s.actionCreators[e]=t,c),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,c)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?VR(e.extraReducers):[e.extraReducers],a=l(l({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,a,i]=VR(t);if(function(e){return"function"===typeof e}(e))n=()=>RR(e());else{const t=RR(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,n)=>{if(n){if(YM(e)){const r=n(e,t);return void 0===r?e:r}if(GM(e))return DR(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const i=a[r],o={reducerName:r,type:HR(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(OL(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(o,r).exposeAction(o,a?IR(i,a):IR(i))}(o,i,c):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error(OL(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,o,d);n.exposeAction(i,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(i,{fulfilled:s||QR,pending:l||QR,rejected:c||QR,settled:u||QR})}(o,i,c,n)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=u()),p(e,t)}function g(){return p||(p=u()),p.getInitialState()}function v(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=LR(f,r,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=LR(h,n,()=>new WeakMap);return LR(r,t,()=>{const r={};for(const[i,o]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[i]=YR(o,t,()=>LR(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const y=l(l({name:t,reducer:m,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:g},v(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,a=i(t,PR);const o=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:o,reducer:m},a),l(l({},y),v(o,!0))}});return y}}function YR(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(i,...s)}return a.unwrapped=e,a}var GR=KR();function QR(){}var JR="listener",XR="completed",$R="cancelled",ZR="task-".concat($R),eL="task-".concat(XR),tL="".concat(JR,"-").concat($R),nL="".concat(JR,"-").concat(XR),rL=class{constructor(e){(0,o.A)(this,"name","TaskAbortError"),(0,o.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat($R," (reason: ").concat(e,")")}},aL=(e,t)=>{if("function"!==typeof e)throw new TypeError(OL(32))},iL=()=>{},oL=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iL;return e.catch(t),e},sL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lL=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},cL=e=>{if(e.aborted){const{reason:t}=e;throw new rL(t)}};function uL(e,t){let n=iL;return new Promise((r,a)=>{const i=()=>a(new rL(e.reason));e.aborted?i():(n=sL(e,i),t.finally(()=>n()).then(r,a))}).finally(()=>{n=iL})}var dL=e=>t=>oL(uL(e,t).then(t=>(cL(e),t))),hL=e=>{const t=dL(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:fL}=Object,pL={},mL="listenerMiddleware",gL=(e,t)=>(n,r)=>{aL(n);const a=new AbortController;var i;i=a,sL(e,()=>lL(i,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof rL?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{cL(e),cL(a.signal);const t=await n({pause:dL(a.signal),delay:hL(a.signal),signal:a.signal});return cL(a.signal),t},()=>lL(a,eL));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(iL)),{result:dL(e)(o),cancel(){lL(a,ZR)}}},vL=(e,t)=>(n,r)=>oL((async(n,r)=>{cL(t);let a=()=>{};const i=[new Promise((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{i(),r()}})];null!=r&&i.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await uL(t,Promise.race(i));return cL(t),e}finally{a()}})(n,r)),yL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=IR(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(OL(21));return aL(i),{predicate:a,type:t,effect:i}},bL=fL(e=>{const{type:t,predicate:n,effect:r}=yL(e);return{id:qR(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(OL(22))}}},{withTypes:()=>bL}),xL=(e,t)=>{const{type:n,effect:r,predicate:a}=yL(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},wL=e=>{e.pending.forEach(e=>{lL(e,tL)})},kL=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},SL=fL(IR("".concat(mL,"/add")),{withTypes:()=>SL}),jL=IR("".concat(mL,"/removeAll")),NL=fL(IR("".concat(mL,"/remove")),{withTypes:()=>NL}),_L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(mL,"/error"),...t)},EL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=_L}=e;aL(r);const a=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&wL(e)}))(null!==(n=xL(t,e))&&void 0!==n?n:bL(e))};fL(a,{withTypes:()=>a});const i=e=>{const n=xL(t,e);return n&&(n.unsubscribe(),e.cancelActive&&wL(n)),!!n};fL(i,{withTypes:()=>i});const o=async(e,i,o,s)=>{const l=new AbortController,c=vL(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,fL({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:hL(l.signal),pause:dL(l.signal),extra:n,signal:l.signal,fork:gL(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(lL(e,tL),n.delete(e))})},cancel:()=>{lL(l,tL),e.pending.delete(l)},throwIfCancelled:()=>{cL(l.signal)}})))}catch(d){d instanceof rL||kL(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),lL(l,nL),e.pending.delete(l)}},s=(e=>()=>{e.forEach(wL),e.clear()})(t);return{middleware:e=>n=>l=>{if(!zM(l))return n(l);if(SL.match(l))return a(l.payload);if(jL.match(l))return void s();if(NL.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===pL)throw new Error(OL(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,n,c)}catch(h){a=!1,kL(r,h,{raisedBy:"predicate"})}a&&o(t,l,e,u)}}}finally{c=pL}return d},startListening:a,stopListening:i,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function OL(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var CL=Symbol.for("immer-nothing"),TL=Symbol.for("immer-draftable"),DL=Symbol.for("immer-state");function PL(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var AL=Object.getPrototypeOf;function IL(e){return!!e&&!!e[DL]}function ML(e){var t;return!!e&&(LL(e)||Array.isArray(e)||!!e[TL]||!(null===(t=e.constructor)||void 0===t||!t[TL])||VL(e)||qL(e))}var RL=Object.prototype.constructor.toString();function LL(e){if(!e||"object"!==typeof e)return!1;const t=AL(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===RL}function zL(e,t){0===FL(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function FL(e){const t=e[DL];return t?t.type_:Array.isArray(e)?1:VL(e)?2:qL(e)?3:0}function UL(e,t){return 2===FL(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function BL(e,t,n){const r=FL(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function VL(e){return e instanceof Map}function qL(e){return e instanceof Set}function WL(e){return e.copy_||e.base_}function HL(e,t){if(VL(e))return new Map(e);if(qL(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=LL(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[DL];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(AL(e),t)}{const t=AL(e);if(null!==t&&n)return l({},e);const r=Object.create(t);return Object.assign(r,e)}}function KL(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return GL(e)||IL(e)||!ML(e)||(FL(e)>1&&(e.set=e.add=e.clear=e.delete=YL),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return KL(n,!0)})),e}function YL(){PL(2)}function GL(e){return Object.isFrozen(e)}var QL,JL={};function XL(e){const t=JL[e];return t||PL(0),t}function $L(){return QL}function ZL(e,t){t&&(XL("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ez(e){tz(e),e.drafts_.forEach(rz),e.drafts_=null}function tz(e){e===QL&&(QL=e.parent_)}function nz(e){return QL={drafts_:[],parent_:QL,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rz(e){const t=e[DL];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function az(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[DL].modified_&&(ez(t),PL(4)),ML(e)&&(e=iz(t,e),t.parent_||sz(t,e)),t.patches_&&XL("Patches").generateReplacementPatches_(n[DL].base_,e,t.patches_,t.inversePatches_)):e=iz(t,n,[]),ez(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CL?e:void 0}function iz(e,t,n){if(GL(t))return t;const r=t[DL];if(!r)return zL(t,(a,i)=>oz(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return sz(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),zL(a,(a,o)=>oz(e,r,t,a,o,n,i)),sz(e,t,!1),n&&e.patches_&&XL("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function oz(e,t,n,r,a,i,o){if(IL(a)){const o=iz(e,a,i&&t&&3!==t.type_&&!UL(t.assigned_,r)?i.concat(r):void 0);if(BL(n,r,o),!IL(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(ML(a)&&!GL(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;iz(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||sz(e,a)}}function sz(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&KL(t,n)}var lz={get(e,t){if(t===DL)return e;const n=WL(e);if(!UL(n,t))return function(e,t,n){var r;const a=dz(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!ML(r)?r:r===uz(e.base_,t)?(fz(e),e.copy_[t]=pz(r,e)):r},has:(e,t)=>t in WL(e),ownKeys:e=>Reflect.ownKeys(WL(e)),set(e,t,n){const r=dz(WL(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=uz(WL(e),t),a=null===r||void 0===r?void 0:r[DL];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||UL(e.base_,t)))return!0;fz(e),hz(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==uz(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,fz(e),hz(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=WL(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){PL(11)},getPrototypeOf:e=>AL(e.base_),setPrototypeOf(){PL(12)}},cz={};function uz(e,t){const n=e[DL];return(n?WL(n):e)[t]}function dz(e,t){if(!(t in e))return;let n=AL(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=AL(n)}}function hz(e){e.modified_||(e.modified_=!0,e.parent_&&hz(e.parent_))}function fz(e){e.copy_||(e.copy_=HL(e.base_,e.scope_.immer_.useStrictShallowCopy_))}zL(lz,(e,t)=>{cz[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),cz.deleteProperty=function(e,t){return cz.set.call(this,e,t,void 0)},cz.set=function(e,t,n){return lz.set.call(this,e[0],t,n,e[0])};function pz(e,t){const n=VL(e)?XL("MapSet").proxyMap_(e,t):qL(e)?XL("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:$L(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=lz;n&&(a=[r],i=cz);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:$L()).drafts_.push(n),n}function mz(e){if(!ML(e)||GL(e))return e;const t=e[DL];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=HL(e,t.scope_.immer_.useStrictShallowCopy_)}else n=HL(e,!0);return zL(n,(e,t)=>{BL(n,e,mz(t))}),t&&(t.finalized_=!1),n}var gz=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&PL(6),void 0!==n&&"function"!==typeof n&&PL(7),ML(e)){const a=nz(this),i=pz(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?ez(a):tz(a)}return ZL(a,n),az(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===CL&&(r=void 0),this.autoFreeze_&&KL(r,!0),n){const t=[],a=[];XL("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}PL(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const i=this.produce(e,n,(e,t)=>{r=e,a=t});return[i,r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ML(e)||PL(8),IL(e)&&(e=function(e){IL(e)||PL(10);return mz(e)}(e));const t=nz(this),n=pz(e,void 0);return n[DL].isManual_=!0,tz(t),n}finishDraft(e,t){const n=e&&e[DL];n&&n.isManual_||PL(9);const{scope_:r}=n;return ZL(r,t),az(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=XL("Patches").applyPatches_;return IL(e)?r(e,t):this.produce(e,e=>r(e,t))}};gz.produce,gz.produceWithPatches.bind(gz),gz.setAutoFreeze.bind(gz),gz.setUseStrictShallowCopy.bind(gz),gz.applyPatches.bind(gz),gz.createDraft.bind(gz),gz.finishDraft.bind(gz);var vz={active:!1,index:null,dataKey:void 0,coordinate:void 0},yz=GR({name:"tooltip",initialState:{itemInteraction:{click:vz,hover:vz},axisInteraction:{click:vz,hover:vz},keyboardInteraction:vz,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=OR(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:bz,removeTooltipEntrySettings:xz,setTooltipSettingsState:wz,setActiveMouseOverItemIndex:kz,mouseLeaveItem:Sz,mouseLeaveChart:jz,setActiveClickItemIndex:Nz,setMouseOverAxisIndex:_z,setMouseClickAxisIndex:Ez,setSyncInteraction:Oz,setKeyboardInteraction:Cz}=yz.actions,Tz=yz.reducer;function Dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dz(Object(n),!0).forEach(function(t){Az(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Az(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iz=(e,t,n,r)=>{if(null==t)return vz;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return vz;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return Pz(Pz({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Pz(Pz({},vz),{},{coordinate:a.coordinate})},Mz=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!vj(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},Rz=(e,t,n,r,a,i,o,s)=>{if(null!=i&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},Lz=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},zz=e=>e.options.tooltipPayloadSearcher,Fz=e=>e.tooltip;function Uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uz(Object(n),!0).forEach(function(t){Vz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qz=(e,t,n,r,a,i,o)=>{if(null!=t&&null!=i){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),v=Array.isArray(g)?s_(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===o?pj(v,r.dataKey,a):i(v,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=Bz(Bz({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(S_({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:d_(t.payload,t.dataKey),name:t.name}))}):e.push(S_({tooltipEntrySettings:m,dataKey:y,payload:h,value:d_(h,y),name:null!==(f=d_(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},Wz=XN([DA,Q_,KA,kA,CA],qI),Hz=XN([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kz=XN([CA,TA],YA),Yz=XN([Hz,DA,Kz],JA),Gz=XN([Yz],e=>e.filter(AA)),Qz=XN([Yz],tI),Jz=XN([Qz,JP],rI),Xz=XN([Gz,JP,DA],PA),$z=XN([Jz,DA,Yz],iI),Zz=XN([DA],wI),eF=XN([Yz],e=>e.filter(AA)),tF=XN([Xz,eF,wA],dI),nF=XN([tF,JP,CA],fI),rF=XN([Yz],ZA),aF=XN([Jz,DA,rF,gI,CA],mI),iF=XN([SI,CA,TA],jI),oF=XN([iF,CA],TI),sF=XN([_I,CA,TA],jI),lF=XN([sF,CA],PI),cF=XN([OI,CA,TA],jI),uF=XN([cF,CA],II),dF=XN([oF,uF,lF],kI),hF=XN([DA,Zz,nF,aF,dF,Q_,CA],zI),fF=XN([DA,Q_,Jz,$z,wA,CA,hF],BI),pF=XN([fF,DA,Wz],KI),mF=XN([DA,fF,pF,CA],GI),gF=e=>{var t=CA(e),n=TA(e);return nM(e,t,n,!1)},vF=XN([DA,gF],oE),yF=XN([DA,Wz,mF,vF],HI),bF=XN([Q_,$z,DA,CA],mM),xF=XN([Q_,$z,DA,CA],vM),wF=XN([Q_,DA,Wz,yF,gF,bF,xF,CA],(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=h_(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*rj(a[0]-a[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),kF=XN([NM,_M,e=>e.tooltip.settings],(e,t,n)=>EM(n.shared,e,t)),SF=e=>e.tooltip.settings.trigger,jF=e=>e.tooltip.settings.defaultIndex,NF=XN([Fz,kF,SF,jF],Iz),_F=XN([NF,Jz],Mz),EF=XN([wF,_F],CM),OF=XN([NF],e=>{if(e)return e.dataKey}),CF=XN([Fz,kF,SF,jF],Lz),TF=XN([N_,__,Q_,R_,wF,jF,CF,zz],Rz),DF=XN([NF,TF],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),PF=XN([NF],e=>e.active),AF=XN([CF,_F,JP,DA,EF,zz,kF],qz),IF=XN([AF],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),MF=XN([R_],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),RF=XN([MF,N_,__],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),LF=()=>qN(RF);function zF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zF(Object(n),!0).forEach(function(t){UF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BF(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:i}=e,o=qN(_F),s=qN(IF);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return mj(l)?null:(e=>{var{point:n,childIndex:r,mainColor:a,activeDot:i,dataKey:o}=e;if(!1===i||null==n.x||null==n.y)return null;var s,l=FF(FF({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Bj(i,!1)),ZS(i));return s=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(Aj,l),t.createElement(Wj,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:a})}function VF(e){var{fn:n,args:r}=e,a=FN(),i=U_();return(0,t.useEffect)(()=>{if(!i){var e=n(r);return a(bz(e)),()=>{a(xz(e))}}},[n,r,a,i]),null}var qF=["children"];var WF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HF=(0,t.createContext)(WF);function KF(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,qF);return t.createElement(HF.Provider,{value:r},n)}function YF(e,t){var n,r,a=qN(t=>FA(t,e)),i=qN(e=>BA(e,t)),o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:zA.allowDataOverflow,s=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:UA.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function GF(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,i=LF(),{needClipX:o,needClipY:s,needClip:l}=YF(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var QF=(e,t,n,r)=>kM(e,"xAxis",t,r),JF=(e,t,n,r)=>wM(e,"xAxis",t,r),XF=(e,t,n,r)=>kM(e,"yAxis",n,r),$F=(e,t,n,r)=>wM(e,"yAxis",n,r),ZF=XN([Q_,QF,XF,JF,$F],(e,t,n,r,a)=>h_(e,"xAxis")?k_(t,r,!1):k_(n,a,!1));function eU(e){return"line"===e.type}var tU,nU=XN([GA,(e,t,n,r,a)=>a],(e,t)=>e.filter(eU).find(e=>e.id===t)),rU=XN([Q_,QF,XF,JF,$F,nU,ZF,$P],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=i&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=o){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=d_(e,o);if("horizontal"===t)return{x:y_({axis:n,ticks:a,bandSize:s,entry:e,index:l}),y:mj(c)?null:r.scale(c),value:c,payload:e};var u=mj(c)?null:n.scale(c),d=y_({axis:r,ticks:i,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:d})}}),aU=GR({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=OR(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:iU,setLegendSettings:oU,addLegendPayload:sU,removeLegendPayload:lU}=aU.actions,cU=aU.reducer,uU=()=>{};function dU(e){var{legendPayload:n}=e,r=FN(),a=U_();return(0,t.useEffect)(()=>a?uU:(r(sU(n)),()=>{r(lU(n))}),[r,a,n]),null}function hU(e){var{legendPayload:n}=e,r=FN(),a=qN(Q_);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?uU:(r(sU(n)),()=>{r(lU(n))}),[r,a,n]),null}function fU(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(cj(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=cj(n),a.current=e),r.current}function pU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gU(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pU(Object(n),!0).forEach(function(t){mU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var vU=null!==(tU=r["useId".toString()])&&void 0!==tU?tU:()=>{var[e]=t.useState(()=>cj("uid-"));return e};var yU=(0,t.createContext)(void 0),bU=e=>{var{id:n,type:r,children:a}=e,i=function(e,t){var n=vU();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(yU.Provider,{value:i},a(i))};var xU=GR({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=OR(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=OR(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=OR(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:wU,replaceCartesianGraphicalItem:kU,removeCartesianGraphicalItem:SU,addPolarGraphicalItem:jU,removePolarGraphicalItem:NU}=xU.actions,_U=xU.reducer;function EU(e){var n=FN(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(wU(e)):r.current!==e&&n(kU({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(SU(r.current)),r.current=null)},[n]),null}function OU(e){var n=FN();return(0,t.useEffect)(()=>(n(jU(e)),()=>{n(NU(e))}),[n,e]),null}function CU(){}function TU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TU(Object(n),!0).forEach(function(t){PU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AU=(e,t)=>Object.keys(t).reduce((n,r)=>DU(DU({},n),{},{[r]:e(r,t[r])}),{});function IU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IU(Object(n),!0).forEach(function(t){RU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LU=(e,t,n)=>e+(t-e)*n,zU=e=>{var{from:t,to:n}=e;return t!==n},FU=(e,t,n)=>{var r=AU((t,n)=>{if(zU(n)){var[r,a]=e(n.from,n.to,n.velocity);return MU(MU({},n),{},{from:r,velocity:a})}return n},t);return n<1?AU((e,t)=>zU(t)?MU(MU({},t),{},{velocity:LU(t.velocity,r[e].velocity,n),from:LU(t.from,r[e].from,n)}):t,t):FU(e,r,n-1)};function UU(e,t,n,r,a,i){var o,s=r.reduce((n,r)=>MU(MU({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=FU(n,s,u),a(MU(MU(MU({},e),t),AU((e,t)=>t.from,s))),o=r,Object.values(s).filter(zU).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const BU=(e,t,n,r,a,i)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?UU(e,t,n,l,a,i):function(e,t,n,r,a,i,o){var s,l=null,c=a.reduce((n,r)=>MU(MU({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{s||(s=a);var d=(a-s)/r,h=AU((e,t)=>LU(...t,n(d)),c);if(i(MU(MU(MU({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=AU((e,t)=>LU(...t,n(1)),c);i(MU(MU(MU({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,a,i)};var VU=1e-4,qU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WU=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),HU=(e,t)=>n=>{var r=qU(e,t);return WU(r,n)},KU=function(){for(var e,t,n,r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(1===i.length)switch(i[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=i[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,n,t,r]=i);var l,c,u=HU(e,t),d=HU(n,r),h=(l=e,c=t,e=>{var t=[...qU(l,c).map((e,t)=>e*t).slice(1),0];return WU(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,i=h(n);if(Math.abs(a-t)<VU||i<VU)return d(n);n=f(n-a/i)}return d(n)};return p.isStepper=!1,p},YU=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KU(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,i)=>{var o=i+(-(e-a)*t-i*n)*r/1e3,s=i*r/1e3+e;return Math.abs(s-a)<VU&&Math.abs(o)<VU?[a,0]:[s,o]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return KU(e)}return"function"===typeof e?e:null};class GU{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=i=>{i-n>=t?e(i):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function QU(){return function(e){var t=()=>null,n=!1,r=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(a.bind(null,l),s)):(a(s),void(r=e.setTimeout(a.bind(null,l))))}"string"===typeof i&&t(i),"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new GU)}var JU=(0,t.createContext)(QU);function XU(e,n){var r=(0,t.useContext)(JU);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var $U={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZU={t:0},eB={t:1};function tB(e){var n=gU(e,$U),{isActive:r,canBegin:a,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=XU("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?ZU:eB),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(eB)},[r]),(0,t.useEffect)(()=>{if(!r||!a)return CU;var e=BU(ZU,eB,YU(o),i,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},i,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,a,i,o,s,c,l,d]),u(h.t)}var nB=["id"],rB=["type","layout","connectNulls","needClip"],aB=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(t){sB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lB(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cB(){return cB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cB.apply(null,arguments)}var uB=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:j_(n,t),payload:e}]};function dB(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:j_(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var hB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function fB(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}function pB(e){var{clipPathId:n,points:r,props:a}=e,{dot:i,dataKey:o,needClip:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,i))return null;var{id:l}=a,c=lB(a,nB),u=Uj(i),d=wj(c),h=Bj(i,!0),f=r.map((e,n)=>{var a=oB(oB(oB({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=Wt("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Aj,cB({},n,{className:a}))}return r}(i,a)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(Wj,cB({className:"recharts-line-dots",key:"dots"},p),f)}function mB(e){var{clipPathId:n,pathRef:r,points:a,strokeDasharray:i,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=lB(o,rB),f=oB(oB({},Bj(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:null!==i&&void 0!==i?i:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(Dj,cB({},f,{pathRef:r})),t.createElement(pB,{points:a,clipPathId:n,props:o}),s&&FE.renderCallByParent(o,a))}function gB(e){var{clipPathId:n,props:r,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:v}=r,y=i.current,b=fU(r,"recharts-line-"),[x,w]=(0,t.useState)(!1),k=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),S=(0,t.useCallback)(()=>{"function"===typeof v&&v(),w(!0)},[v]),j=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),N=o.current;return t.createElement(tB,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:S,key:b},e=>{var c,u=fj(N,j+N,e),d=Math.min(u,j);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return hB(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var u=s.length%2===0?[0,o]:[o];return[...fB(n,a),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,j,h)}else c=hB(j,d);if(y){var g=y.length/s.length,v=1===e?s:s.map((t,n)=>{var r=Math.floor(n*g);if(y[r]){var a=y[r];return oB(oB({},t),{},{x:fj(a.x,t.x,e),y:fj(a.y,t.y,e)})}return oB(oB({},t),{},f?{x:fj(2*p,t.x,e),y:fj(m/2,t.y,e)}:{x:t.x,y:t.y})});return i.current=v,t.createElement(mB,{props:r,points:v,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})}return e>0&&j>0&&(i.current=s,o.current=d),t.createElement(mB,{props:r,points:s,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})})}function vB(e){var{clipPathId:n,props:r}=e,{points:a,isAnimationActive:i}=r,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return i&&a&&a.length&&c!==a?t.createElement(gB,{props:r,clipPathId:n,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(mB,{props:r,points:a,clipPathId:n,pathRef:l,showLabels:!0})}var yB=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:d_(e.payload,t)});class bB extends t.Component{render(){var e,{hide:n,dot:r,points:a,className:i,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(n)return null;var p=Wt("recharts-line",i),m=h,{r:g=3,strokeWidth:v=2}=null!==(e=Bj(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=Uj(r),b=2*g+v;return t.createElement(t.Fragment,null,t.createElement(Wj,{className:p},f&&t.createElement("defs",null,t.createElement(GF,{clipPathId:m,xAxisId:o,yAxisId:s}),!y&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(vB,{props:this.props,clipPathId:m}),t.createElement(KF,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:yB,errorBarOffset:0},this.props.children)),t.createElement(BF,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var xB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Yj,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function wB(e){var n=gU(e,xB),{activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,v=lB(n,aB),{needClip:y}=YF(p,m),b=LF(),x=J_(),w=U_(),k=qN(e=>rU(e,p,m,w,g));if("horizontal"!==x&&"vertical"!==x||null==k||null==b)return null;var{height:S,width:j,x:N,y:_}=b;return t.createElement(bB,cB({},v,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:k,layout:x,height:S,width:j,left:N,top:_,needClip:y}))}function kB(e){var n=gU(e,xB),r=U_();return t.createElement(bU,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(dU,{legendPayload:uB(n)}),t.createElement(VF,{fn:dB,args:n}),t.createElement(EU,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(wB,cB({},n,{id:e}))))}kB.displayName="Line";var SB=n(7820),jB=n.n(SB),NB=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(t){OB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CB=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[y,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=jB()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=y;if(e<0||n<0)return null;NB(ij(i)||ij(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,o),NB(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=ij(i)?e:i,d=ij(o)?n:o;return r&&r>0&&(a?d=a/r:d&&(a=d*r),c&&d>c&&(d=c)),NB(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:EB({width:a,height:d},e.props.style)}))},[r,u,o,c,l,s,y,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:Wt("recharts-responsive-container",f),style:EB(EB({},m),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function TB(e,t){if(t){var n=Number.parseInt(t,10);if(!aj(n))return null===e||void 0===e?void 0:e[n]}}var DB=GR({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),PB=DB.reducer,{createEventEmitter:AB}=DB.actions;n(7237);function IB(e){e()}var MB={notify(){},get:()=>[]};function RB(e,t){let n,r=MB,a=0,i=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){a++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){IB(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=MB)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var LB=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),zB=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),FB=(()=>LB||zB?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var UB=Symbol.for("react-redux-context"),BB="undefined"!==typeof globalThis?globalThis:{};function VB(){var e;if(!t.createContext)return{};const n=null!==(e=BB[UB])&&void 0!==e?e:BB[UB]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var qB=VB();var WB=function(e){const{children:n,context:r,serverState:a,store:i}=e,o=t.useMemo(()=>{const e=RB(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),s=t.useMemo(()=>i.getState(),[i]);FB(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||qB;return t.createElement(l.Provider,{value:o},n)};var HB=GR({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:KB,setDataStartEndIndexes:YB,setComputedData:GB}=HB.actions,QB=HB.reducer,JB=GR({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:XB,setLayout:$B,setChartSize:ZB,setScale:eV}=JB.actions,tV=JB.reducer,nV=(e,t)=>t,rV=(e,t,n)=>n,aV=(e,t,n,r)=>r,iV=XN(wF,e=>e_()(e,e=>e.coordinate)),oV=XN([Fz,nV,rV,aV],Iz),sV=XN([oV,Jz],Mz),lV=XN([Fz,nV,rV,aV],Lz),cV=XN([N_,__,Q_,R_,wF,aV,lV,zz],Rz),uV=XN([oV,cV],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),dV=XN(wF,sV,CM),hV=XN([lV,sV,JP,DA,dV,zz,nV],qz),fV=XN([oV],e=>({isActive:e.active,activeIndex:e.index})),pV=XN([(e,t)=>t,Q_,bE,CA,vF,wF,iV,R_],(e,t,n,r,a,i,o,s)=>{if(e&&t&&r&&a&&i){var l=function(e,t,n,r,a){return"horizontal"===n||"vertical"===n?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:r?MN({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,a)=>{var i,o=-1,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(rj(u-c)!==rj(d-u)){var f=[];if(rj(d-u)===rj(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,i,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:o}=r;return c_(c_(c_({},r),DN(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return c_(c_(c_({},r),DN(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),mV=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},gV=IR("mouseClick"),vV=EL();vV.startListening({actionCreator:gV,effect:(e,t)=>{var n=e.payload,r=pV(t.getState(),mV(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Ez({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yV=IR("mouseMove"),bV=EL();function xV(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(n),!0).forEach(function(t){SV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bV.startListening({actionCreator:yV,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=OM(r,r.tooltip.settings.shared),i=pV(r,mV(n));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(_z({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(jz()))}});var jV=GR({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=kV(kV({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:NV,removeXAxis:_V,addYAxis:EV,removeYAxis:OV,addZAxis:CV,removeZAxis:TV,updateYAxisWidth:DV}=jV.actions,PV=jV.reducer,AV=GR({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=OR(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=OR(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=OR(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:IV,removeDot:MV,addArea:RV,removeArea:LV,addLine:zV,removeLine:FV}=AV.actions,UV=AV.reducer,BV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VV=GR({name:"brush",initialState:BV,reducers:{setBrushSettings:(e,t)=>null==t.payload?BV:t.payload}}),{setBrushSettings:qV}=VV.actions,WV=VV.reducer,HV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},KV=GR({name:"rootProps",initialState:HV,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:HV.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),YV=KV.reducer,{updateOptions:GV}=KV.actions,QV=GR({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:JV,removeRadiusAxis:XV,addAngleAxis:$V,removeAngleAxis:ZV}=QV.actions,eq=QV.reducer,tq=GR({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nq}=tq.actions,rq=tq.reducer,aq=IR("keyDown"),iq=IR("focus"),oq=EL();oq.startListening({actionCreator:aq,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(Mz(r,Jz(n))),o=wF(n);if("Enter"!==a){var s=i+("ArrowRight"===a?1:-1)*("left-to-right"===jM(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=cV(n,"axis","hover",String(s));t.dispatch(Cz({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=cV(n,"axis","hover",String(r.index));t.dispatch(Cz({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),oq.startListening({actionCreator:iq,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=cV(n,"axis","hover",String("0"));t.dispatch(Cz({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var sq=IR("externalEvent"),lq=EL();lq.startListening({actionCreator:sq,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:DF(n),activeDataKey:OF(n),activeIndex:_F(n),activeLabel:EF(n),activeTooltipIndex:_F(n),isTooltipActive:PF(n)};e.payload.handler(r,e.payload.reactEvent)}}});var cq=XN([Fz],e=>e.tooltipItemPayloads),uq=XN([cq,zz,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,n)}}),dq=IR("touchMove"),hq=EL();hq.startListening({actionCreator:dq,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=OM(r,r.tooltip.settings.shared);if("axis"===a){var i=pV(r,mV({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(_z({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(D_),u=null!==(o=l.getAttribute(P_))&&void 0!==o?o:void 0,d=uq(t.getState(),c,u);t.dispatch(kz({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var fq=GR({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:pq,removeErrorBar:mq}=fq.actions,gq=RM({brush:WV,cartesianAxis:PV,chartData:QB,errorBars:fq.reducer,graphicalItems:_U,layout:tV,legend:cU,options:PB,polarAxis:eq,polarOptions:rq,referenceElements:UV,rootProps:YV,tooltip:Tz});function vq(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,i=U_(),o=(0,t.useRef)(null);if(i)return r;null==o.current&&(o.current=function(e){return BR({reducer:gq,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([vV.middleware,bV.middleware,oq.middleware,lq.middleware,hq.middleware]),devTools:{serialize:{replacer:xV},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var s=LN;return t.createElement(WB,{context:s,store:o.current},r)}var yq=e=>{var{chartData:n}=e,r=FN(),a=U_();return(0,t.useEffect)(()=>a?()=>{}:(r(KB(n)),()=>{r(KB(void 0))}),[n,r,a]),null};function bq(e){var{layout:n,width:r,height:a,margin:i}=e,o=FN(),s=U_();return(0,t.useEffect)(()=>{s||(o($B(n)),o(ZB({width:r,height:a})),o(XB(i)))},[o,s,n,r,a,i]),null}function xq(e){var n=FN();return(0,t.useEffect)(()=>{n(GV(e))},[n,e]),null}var wq=()=>qN(e=>e.rootProps.accessibilityLayer),kq=["children","width","height","viewBox","className","style","title","desc"];function Sq(){return Sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sq.apply(null,arguments)}var jq=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:i,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,kq),h=o||{width:a,height:i,x:0,y:0},f=Wt("recharts-surface",s);return t.createElement("svg",Sq({},Bj(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),Nq=["children"];function _q(){return _q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_q.apply(null,arguments)}var Eq={width:"100%",height:"100%"},Oq=(0,t.forwardRef)((e,n)=>{var r=K_(),a=Y_(),i=wq();if(!yj(r)||!yj(a))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,s="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(jq,_q({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:a,style:Eq,ref:n}),l)}),Cq=e=>{var{children:n}=e,r=qN(V_);if(!r)return null;var{width:a,height:i,y:o,x:s}=r;return t.createElement(jq,{width:a,height:i,x:s,y:o},n)},Tq=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Nq);return U_()?t.createElement(Cq,null,r):t.createElement(Oq,_q({ref:n},a),r)});var Dq=new(n(7283)),Pq="recharts.syncEvent.tooltip",Aq="recharts.syncEvent.brush";function Iq(e){return e.tooltip.syncInteraction}var Mq=()=>{};function Rq(){var e=FN();(0,t.useEffect)(()=>{e(AB())},[e]),function(){var e=qN(SA),n=qN(NA),r=FN(),a=qN(jA),i=qN(wF),o=J_(),s=q_(),l=qN(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Mq;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),v=Math.min(m,s.y+s.height),y={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?v:u.coordinate},b=Oz({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(Oz({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return Dq.on(Pq,t),()=>{Dq.off(Pq,t)}},[l,r,n,e,a,i,o,s])}(),function(){var e=qN(SA),n=qN(NA),r=FN();(0,t.useEffect)(()=>{if(null==e)return Mq;var t=(t,a,i)=>{n!==i&&e===t&&r(YB(a))};return Dq.on(Aq,t),()=>{Dq.off(Aq,t)}},[r,n,e])}()}function Lq(e,n,r,a,i,o){var s=qN(t=>((e,t,n)=>{if(null!=t){var r=Fz(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=qN(NA),c=qN(SA),u=qN(jA),d=qN(Iq),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Oz({active:o,coordinate:r,dataKey:s,index:i,label:"number"===typeof a?String(a):a});Dq.emit(Pq,c,e,l)}},[h,r,s,i,a,l,c,u,o])}var zq=(0,t.createContext)(null),Fq=(0,t.createContext)(null);function Uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uq(Object(n),!0).forEach(function(t){Vq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qq=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,b=FN(),[x,w]=(0,t.useState)(null),[k,S]=(0,t.useState)(null);Rq();var j=function(){var e=FN(),[n,r]=(0,t.useState)(null),a=qN(E_);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;vj(t)&&t!==a&&e(eV(t))}},[n,e,a]),r}(),N=(0,t.useCallback)(e=>{j(e),"function"===typeof n&&n(e),w(e),S(e)},[j,n,w,S]),_=(0,t.useCallback)(e=>{b(gV(e)),b(sq({handler:o,reactEvent:e}))},[b,o]),E=(0,t.useCallback)(e=>{b(yV(e)),b(sq({handler:u,reactEvent:e}))},[b,u]),O=(0,t.useCallback)(e=>{b(jz()),b(sq({handler:d,reactEvent:e}))},[b,d]),C=(0,t.useCallback)(e=>{b(yV(e)),b(sq({handler:h,reactEvent:e}))},[b,h]),T=(0,t.useCallback)(()=>{b(iq())},[b]),D=(0,t.useCallback)(e=>{b(aq(e.key))},[b]),P=(0,t.useCallback)(e=>{b(sq({handler:s,reactEvent:e}))},[b,s]),A=(0,t.useCallback)(e=>{b(sq({handler:l,reactEvent:e}))},[b,l]),I=(0,t.useCallback)(e=>{b(sq({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(sq({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(sq({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b(dq(e)),b(sq({handler:m,reactEvent:e}))},[b,m]),z=(0,t.useCallback)(e=>{b(sq({handler:p,reactEvent:e}))},[b,p]);return t.createElement(zq.Provider,{value:x},t.createElement(Fq.Provider,{value:k},t.createElement("div",{className:Wt("recharts-wrapper",a),style:Bq({position:"relative",cursor:"default",width:y,height:i},v),onClick:_,onContextMenu:P,onDoubleClick:A,onFocus:T,onKeyDown:D,onMouseDown:I,onMouseEnter:E,onMouseLeave:O,onMouseMove:C,onMouseUp:M,onTouchEnd:z,onTouchMove:L,onTouchStart:R,ref:N},r)))}),Wq=(0,t.createContext)(void 0),Hq=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(cj("recharts"),"-clip")),a=LF();if(null==a)return null;var{x:i,y:o,width:s,height:l}=a;return t.createElement(Wq.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:i,y:o,height:l,width:s}))),n)},Kq=["children","className","width","height","style","compact","title","desc"];var Yq=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,width:i,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Kq),h=wj(d);return l?t.createElement(Tq,{otherAttributes:h,title:c,desc:u},r):t.createElement(qq,{className:a,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(Tq,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement(Hq,null,r)))}),Gq=["width","height"];function Qq(){return Qq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qq.apply(null,arguments)}var Jq={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Xq=(0,t.forwardRef)(function(e,n){var r,a=gU(e.categoricalChartProps,Jq),{width:i,height:o}=a,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,Gq);if(!yj(i)||!yj(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(vq,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(yq,{chartData:h.data}),t.createElement(bq,{width:i,height:o,layout:a.layout,margin:a.margin}),t.createElement(xq,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(Yq,Qq({},s,{width:i,height:o,ref:n})))}),$q=["axis"],Zq=(0,t.forwardRef)((e,n)=>t.createElement(Xq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$q,tooltipPayloadSearcher:TB,categoricalChartProps:e,ref:n}));function eW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tW{static create(e){return new tW(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}eW(tW,"EPS",1e-4);function nW(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function rW(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function aW(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function iW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iW(Object(n),!0).forEach(function(t){sW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lW(e,t,n){var r,{tick:a,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(oj(c)||Yj)return null!==(r=function(e,t){return nW(e,t+1)}(i,oj(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?rN(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===p?rW(rN(a,{fontSize:t,letterSpacing:n}),m,h):rN(a,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?rj(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:a,y:i,width:o,height:s}=e;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(o,v,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:nW(r,u)};var i,o=c,h=()=>(void 0===i&&(i=n(t,o)),i),f=t.coordinate,p=0===c||aW(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(v,y,g,i,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=oW(oW({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),aW(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=oW(oW({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var r,i=o[t],s=()=>(void 0===r&&(r=n(i,t)),r);if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=oW(oW({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=oW(oW({},i),{},{tickCoord:i.coordinate});aW(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=oW(oW({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(v,y,g,i,s,"preserveStartEnd"===c):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=i[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=oW(oW({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=oW(oW({},c),{},{tickCoord:c.coordinate});aW(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=oW(oW({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(v,y,g,i,s),f.filter(e=>e.isShow))}function cW(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var uW=["viewBox"],dW=["viewBox"];function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hW.apply(null,arguments)}function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(t){gW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mW(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vW extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=mW(e,uW),a=this.props,{viewBox:i}=a,o=mW(a,dW);return!cW(n,i)||!cW(r,o)||!cW(t,this.state)}getTickLineCoord(e){var t,n,r,a,i,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,v=oj(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(a=l+ +!f*u)-m*g)-m*p,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=s+ +!f*c)-m*g)-m*p,o=v;break;case"right":r=a=e.coordinate,i=(t=(n=s+ +f*c)+m*g)+m*p,o=v;break;default:t=n=e.coordinate,o=(r=(a=l+ +f*u)+m*g)+m*p,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s}=this.props,l=pW(pW(pW({},Bj(this.props,!1)),Bj(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=pW(pW({},l),{},{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=pW(pW({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+a})}return t.createElement("line",hW({},l,{className:Wt("recharts-cartesian-axis-line",nj()(s,"className"))}))}static renderTickItem(e,n,r){var a,i=Wt(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,pW(pW({},n),{},{className:i}));else if("function"===typeof e)a=e(pW(pW({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=Wt(o,e.className)),a=t.createElement(NN,hW({},n,{className:o}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=lW(pW(pW({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=wj(this.props),p=Bj(o,!1),m=pW(pW({},f),{},{fill:"none"},Bj(a,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),v=pW(pW(pW(pW({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:i},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:s,padding:c});return t.createElement(Wj,hW({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ej(this.props,e,n)),a&&t.createElement("line",hW({},m,r,{className:Wt("recharts-cartesian-axis-tick-line",nj()(a,"className"))})),o&&vW.renderTickItem(o,v,"".concat("function"===typeof s?s(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(Wj,{className:Wt("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,a=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),CE.renderCallByParent(this.props))}}gW(vW,"displayName","CartesianAxis"),gW(vW,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yW=["x1","y1","x2","y2","key"],bW=["offset"],xW=["xAxisId","yAxisId"],wW=["xAxisId","yAxisId"];function kW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kW(Object(n),!0).forEach(function(t){jW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(){return NW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NW.apply(null,arguments)}function _W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var EW=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:i,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OW(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:a,y1:i,x2:o,y2:s,key:l}=n,c=wj(_W(n,yW)),{offset:u}=c,d=_W(c,bW);r=t.createElement("line",NW({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function CW(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=_W(e,xW),c=i.map((e,t)=>{var i=SW(SW({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return OW(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function TW(e){var{y:n,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=_W(e,wW),c=i.map((e,t)=>{var i=SW(SW({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return OW(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function DW(e){var{horizontalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function PW(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:i,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?i+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var AW=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return f_(lW(SW(SW(SW({},vW.defaultProps),n),{},{ticks:p_(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},IW=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return f_(lW(SW(SW(SW({},vW.defaultProps),n),{},{ticks:p_(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},MW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function RW(e){var n=K_(),r=Y_(),a=H_(),i=SW(SW({},gU(e,MW)),{},{x:oj(e.x)?e.x:a.left,y:oj(e.y)?e.y:a.top,width:oj(e.width)?e.width:a.width,height:oj(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=U_(),g=qN(e=>bM(e,"xAxis",o,m)),v=qN(e=>bM(e,"yAxis",s,m));if(!oj(u)||u<=0||!oj(d)||d<=0||!oj(l)||l!==+l||!oj(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||AW,b=i.horizontalCoordinatesGenerator||IW,{horizontalPoints:x,verticalPoints:w}=i;if((!x||!x.length)&&"function"===typeof b){var k=f&&f.length,S=b({yAxis:v?SW(SW({},v),{},{ticks:k?f:v.ticks}):void 0,width:n,height:r,offset:a},!!k||h);NB(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!w||!w.length)&&"function"===typeof y){var j=p&&p.length,N=y({xAxis:g?SW(SW({},g),{},{ticks:j?p:g.ticks}):void 0,width:n,height:r,offset:a},!!j||h);NB(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(EW,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(DW,NW({},i,{horizontalPoints:x})),t.createElement(PW,NW({},i,{verticalPoints:w})),t.createElement(CW,NW({},i,{offset:a,horizontalPoints:x,xAxis:g,yAxis:v})),t.createElement(TW,NW({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:v})))}RW.displayName="CartesianGrid";var LW=["children"],zW=["dangerouslySetInnerHTML","ticks"];function FW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(){return UW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UW.apply(null,arguments)}function BW(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VW(e){var n=FN(),r=(0,t.useMemo)(()=>{var{children:t}=e;return BW(e,LW)},[e]),a=qN(e=>FA(e,r.id)),i=r===a;return(0,t.useEffect)(()=>(n(NV(r)),()=>{n(_V(r))}),[r,n]),i?e.children:null}var qW=e=>{var{xAxisId:n,className:r}=e,a=qN(z_),i=U_(),o="xAxis",s=qN(e=>aM(e,o,n,i)),l=qN(e=>xM(e,o,n,i)),c=qN(e=>dM(e,n)),u=qN(e=>((e,t)=>{var n=R_(e),r=FA(e,t);if(null!=r){var a=hM(e,r.orientation,r.mirror)[t];return null==a?{x:n.left,y:0}:{x:n.left,y:a}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=BW(e,zW);return t.createElement(vW,UW({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Wt("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:l}))},WW=e=>{var n,r,a,i,o;return t.createElement(VW,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(qW,e))};class HW extends t.Component{render(){return t.createElement(WW,this.props)}}FW(HW,"displayName","XAxis"),FW(HW,"defaultProps",{allowDataOverflow:zA.allowDataOverflow,allowDecimals:zA.allowDecimals,allowDuplicatedCategory:zA.allowDuplicatedCategory,height:zA.height,hide:!1,mirror:zA.mirror,orientation:zA.orientation,padding:zA.padding,reversed:zA.reversed,scale:zA.scale,tickCount:zA.tickCount,type:zA.type,xAxisId:0});var KW=["dangerouslySetInnerHTML","ticks"];function YW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(){return GW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GW.apply(null,arguments)}function QW(e){var n=FN();return(0,t.useEffect)(()=>(n(EV(e)),()=>{n(OV(e))}),[e,n]),null}var JW=e=>{var n,{yAxisId:r,className:a,width:i,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=qN(z_),u=U_(),d=FN(),h="yAxis",f=qN(e=>aM(e,h,r,u)),p=qN(e=>pM(e,r)),m=qN(e=>((e,t)=>{var n=R_(e),r=BA(e,t);if(null!=r){var a=fM(e,r.orientation,r.mirror)[t];return null==a?{x:0,y:n.top}:{x:a,y:n.top}}})(e,r)),g=qN(e=>xM(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!EE(o)&&!(0,t.isValidElement)(o)){var n=s.current,a=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(a+i)+s+(n?r:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(DV({id:r,width:h}))}},[s,null===s||void 0===s||null===(n=s.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,o,r,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,KW);return t.createElement(vW,GW({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:Wt("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},XW=e=>{var n,r,a,i,o;return t.createElement(t.Fragment,null,t.createElement(QW,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(JW,e))},$W={allowDataOverflow:UA.allowDataOverflow,allowDecimals:UA.allowDecimals,allowDuplicatedCategory:UA.allowDuplicatedCategory,hide:!1,mirror:UA.mirror,orientation:UA.orientation,padding:UA.padding,reversed:UA.reversed,scale:UA.scale,tickCount:UA.tickCount,type:UA.type,width:UA.width,yAxisId:0};class ZW extends t.Component{render(){return t.createElement(XW,this.props)}}YW(ZW,"displayName","YAxis"),YW(ZW,"defaultProps",$W);var eH=n(7950);function tH(){return tH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tH.apply(null,arguments)}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(t){aH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){return Array.isArray(e)&&sj(e[0])&&sj(e[1])?e.join(" ~ "):e}var oH=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:i={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=rH({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=rH({margin:0},i),g=!mj(d),v=g?d:"",y=Wt("recharts-default-tooltip",c),b=Wt("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(v=h(d,o));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",tH({className:y,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(v)?v:"".concat(v)),(()=>{if(o&&o.length){var e=(l?e_()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||s||iH,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=rH({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},sj(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,sj(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},sH="recharts-tooltip-wrapper",lH={visibility:"hidden"};function cH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Wt(sH,{["".concat(sH,"-right")]:oj(n)&&t&&oj(t.x)&&n>=t.x,["".concat(sH,"-left")]:oj(n)&&t&&oj(t.x)&&n<t.x,["".concat(sH,"-bottom")]:oj(r)&&t&&oj(t.y)&&r>=t.y,["".concat(sH,"-top")]:oj(r)&&t&&oj(t.y)&&r<t.y})}function uH(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&oj(i[r]))return i[r];var u=n[r]-s-(a>0?a:0),d=n[r]+a;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function dH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dH(Object(n),!0).forEach(function(t){fH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class pH extends t.PureComponent{constructor(){super(...arguments),fH(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fH(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=uH({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=uH({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):lH,{cssProperties:t,cssClasses:cH({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=v?{}:hH(hH({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=hH(hH({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},i)}}var mH=n(4332),gH=n.n(mH);function vH(e,t,n){return!0===t?gH()(e,n):"function"===typeof t?gH()(e,t):e}function yH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}var bH=["x","y","top","left","width","height","className"];function xH(){return xH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xH.apply(null,arguments)}function wH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),jH=e=>{var{x:n=0,y:r=0,top:a=0,left:i=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,bH),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wH(Object(n),!0).forEach(function(t){kH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:i,width:o,height:s},c);return oj(n)&&oj(r)&&oj(o)&&oj(s)&&oj(a)&&oj(i)?t.createElement("path",xH({},Bj(u,!0),{className:Wt("recharts-cross",l),d:SH(n,r,o,s,a,i)})):null};var NH=n(4250),_H=n.n(NH),EH=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function OH(){return OH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OH.apply(null,arguments)}function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(n),!0).forEach(function(t){DH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class PH extends t.PureComponent{constructor(e,t){super(e,t),DH(this,"mounted",!1),DH(this,"manager",void 0),DH(this,"stopJSAnimation",null),DH(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:a,to:i,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:i}));if(a){if("function"===typeof o)return void(this.state={style:a});this.state={style:r?{[r]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:a,to:i,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(_H()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(TH(TH({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:i}:i};this.state&&s&&(r&&s[r]!==i||!r&&s!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:a,begin:i,onAnimationEnd:o,onAnimationStart:s}=e,l=BU(t,n,YU(a),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,i,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:a,easing:i,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=r?{[r]:a}:a,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,i);this.manager.start([o,t,TH(TH({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:i,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,EH),g=t.Children.count(n),v=this.state.style;if("function"===typeof n)return n(v);if(!s||0===g||a<=0)return n;var y=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,TH(TH({},m),{},{style:TH(TH({},n),v),className:r}))};return 1===g?y(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>y(e)))}}function AH(e){var n,r=XU(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(PH,OH({},e,{animationManager:r}))}function IH(){return IH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IH.apply(null,arguments)}DH(PH,"displayName","Animate"),DH(PH,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var MH=(e,t,n,r,a)=>{var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},RH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LH=e=>{var n=gU(e,RH),r=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var v=Wt("recharts-rectangle",d);return g?t.createElement(AH,{canBegin:a>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:o,x:s,y:l}=e;return t.createElement(AH,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",IH({},Bj(n,!0),{className:v,d:MH(s,l,i,o,u),ref:r})))}):t.createElement("path",IH({},Bj(n,!0),{className:v,d:MH(o,s,l,c,u)}))};function zH(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e;return{points:[DN(t,n,r,a),DN(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function FH(){return FH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FH.apply(null,arguments)}var UH=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/CN,d=l?a:a+i*u,h=l?a-i*u:a;return{center:DN(t,n,c,d),circleTangency:DN(t,n,r,d),lineTangency:DN(t,n,c*Math.cos(u*CN),h),theta:u}},BH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=((e,t)=>rj(t-e)*Math.min(Math.abs(t-e),359.999))(i,o),l=i+s,c=DN(t,n,a,i),u=DN(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=DN(t,n,r,i),f=DN(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},VH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qH=e=>{var n=gU(e,VH),{cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<i||u===d)return null;var f,p=Wt("recharts-sector",h),m=o-i,g=uj(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=rj(c-l),{circleTangency:d,lineTangency:h,theta:f}=UH({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=UH({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):BH({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=UH({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:k,lineTangency:S,theta:j}=UH({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-w-j;if(N<0&&0===i)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):BH({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",FH({},Bj(n,!0),{className:p,d:f}))};function WH(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return zH(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=DN(s,l,c,d),f=DN(s,l,u,d);r=h.x,a=h.y,i=f.x,o=f.y}return[{x:r,y:a},{x:i,y:o}]}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach(function(t){YH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GH=()=>{var e=qN(DA),t=qN(wF),n=qN(yF);return k_(KH(KH({},e),{},{scale:n}),t)};function QH(){return QH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QH.apply(null,arguments)}function JH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JH(Object(n),!0).forEach(function(t){$H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var n,r,{coordinate:a,payload:i,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=jH;else if("BarChart"===h)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),r=LH;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:b,endAngle:x}=zH(f);n={cx:g,cy:v,startAngle:b,endAngle:x,innerRadius:y,outerRadius:y},r=qH}else n={points:WH(c,f,s)},r=Dj;var w="object"===typeof u&&"className"in u?u.className:void 0,k=XH(XH(XH(XH({stroke:"#ccc",pointerEvents:"none"},s),n),Bj(u,!1)),{},{payload:p,payloadIndex:m,className:Wt("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,k):(0,t.createElement)(r,k)}function eK(e){var n=GH(),r=H_(),a=J_(),i=qN(kA);return t.createElement(ZH,QH({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:n,chartName:i}))}function tK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tK(Object(n),!0).forEach(function(t){rK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aK(e){return e.dataKey}var iK=[],oK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yj,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sK(e){var n=gU(e,oK),{active:r,allowEscapeViewBox:a,animationDuration:i,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:b,portal:x,axisId:w}=n,k=FN(),S="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{k(wz({shared:v,trigger:y,axisId:w,active:r,defaultIndex:S}))},[k,v,y,w,r,S]);var j=q_(),N=wq(),_=function(e){return qN(t=>OM(t,e))}(v),{activeIndex:E,isActive:O}=qN(e=>fV(e,_,y,S)),C=qN(e=>hV(e,_,y,S)),T=qN(e=>dV(e,_,y,S)),D=qN(e=>uV(e,_,y,S)),P=C,A=(0,t.useContext)(zq),I=null!==r&&void 0!==r?r:O,[M,R]=yH([P,I]),L="axis"===_?T:void 0;Lq(_,y,D,L,E,I);var z=null!==x&&void 0!==x?x:A;if(null==z)return null;var F=null!==P&&void 0!==P?P:iK;I||(F=iK),l&&F.length&&(F=vH(P.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,aK));var U=F.length>0,B=t.createElement(pH,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:c,active:I,coordinate:D,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:j,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(oH,n)}(s,nK(nK({},n),{},{payload:F,label:L,active:I,coordinate:D,accessibilityLayer:N})));return t.createElement(t.Fragment,null,(0,eH.createPortal)(B,z),I&&t.createElement(eK,{cursor:g,tooltipEventType:_,coordinate:D,payload:P,index:E}))}Math.abs,Math.atan2;const lK=Math.cos,cK=(Math.max,Math.min,Math.sin),uK=Math.sqrt,dK=Math.PI,hK=2*dK;const fK={draw(e,t){const n=uK(t/dK);e.moveTo(n,0),e.arc(0,0,n,0,hK)}},pK={draw(e,t){const n=uK(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mK=uK(1/3),gK=2*mK,vK={draw(e,t){const n=uK(t/gK),r=n*mK;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yK={draw(e,t){const n=uK(t),r=-n/2;e.rect(r,r,n,n)}},bK=cK(dK/10)/cK(7*dK/10),xK=cK(hK/10)*bK,wK=-lK(hK/10)*bK,kK={draw(e,t){const n=uK(.8908130915292852*t),r=xK*n,a=wK*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=hK*i/5,o=lK(t),s=cK(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},SK=uK(3),jK={draw(e,t){const n=-uK(t/(3*SK));e.moveTo(0,2*n),e.lineTo(-SK*n,-n),e.lineTo(SK*n,-n),e.closePath()}},NK=-.5,_K=uK(3)/2,EK=1/uK(12),OK=3*(EK/2+1),CK={draw(e,t){const n=uK(t/OK),r=n/2,a=n*EK,i=r,o=n*EK+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(NK*r-_K*a,_K*r+NK*a),e.lineTo(NK*i-_K*o,_K*i+NK*o),e.lineTo(NK*s-_K*l,_K*s+NK*l),e.lineTo(NK*r+_K*a,NK*a-_K*r),e.lineTo(NK*i+_K*o,NK*o-_K*i),e.lineTo(NK*s+_K*l,NK*l-_K*s),e.closePath()}};uK(3),uK(3);var TK=["type","size","sizeType"];function DK(){return DK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DK.apply(null,arguments)}function PK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PK(Object(n),!0).forEach(function(t){IK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MK={symbolCircle:fK,symbolCross:pK,symbolDiamond:vK,symbolSquare:yK,symbolStar:kK,symbolTriangle:jK,symbolWye:CK},RK=Math.PI/180,LK=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,TK),o=AK(AK({},i),{},{type:n,size:r,sizeType:a}),{className:s,cx:l,cy:c}=o,u=Bj(o,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",DK({},u,{className:Wt("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(gj(e));return MK[t]||fK})(n),t=function(e,t){let n=null,r=WS(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:RS(e||fK),t="function"===typeof t?t:RS(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:RS(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:RS(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*RK;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,n));return t()})()})):null};function zK(){return zK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zK.apply(null,arguments)}function FK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}LK.registerSymbol=(e,t)=>{MK["symbol".concat(gj(e))]=t};var BK=32;class VK extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=16,i=BK/6,o=BK/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:BK,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,"\n            H").concat(BK,"M").concat(2*o,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(BK,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FK(Object(n),!0).forEach(function(t){UK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(LK,{fill:s,cx:a,cy:a,size:BK,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:BK,height:BK},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||a,d=Wt({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",zK({className:d,style:l,key:"legend-item-".concat(r)},ej(this.props,e,r)),t.createElement(jq,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}UK(VK,"displayName","Legend"),UK(VK,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var qK=["contextPayload"];function WK(){return WK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WK.apply(null,arguments)}function HK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HK(Object(n),!0).forEach(function(t){YK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){return e.value}function QK(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,qK),a=vH(n,e.payloadUniqBy,GK),i=KK(KK({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(VK,i)}function JK(e){var n=FN();return(0,t.useEffect)(()=>{n(oU(e))},[n,e]),null}function XK(e){var n=FN();return(0,t.useEffect)(()=>(n(iU(e)),()=>{n(iU({width:0,height:0}))}),[n,e]),null}function $K(e){var n=qN(n_),r=(0,t.useContext)(Fq),a=(()=>{var e;return null!==(e=qN(e=>e.layout.margin))&&void 0!==e?e:G_})(),{width:i,height:o,wrapperStyle:s,portal:l}=e,[c,u]=yH([n]),d=K_(),h=Y_(),f=d-(a.left||0)-(a.right||0),p=ZK.getWidthOrHeight(e.layout,o,i,f),m=l?s:KK(KK({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,n,r,a,i){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),KK(KK({},o),s)}(s,e,a,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(JK,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(XK,{width:c.width,height:c.height}),t.createElement(QK,WK({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,eH.createPortal)(v,g)}class ZK extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&oj(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement($K,this.props)}}YK(ZK,"displayName","Legend"),YK(ZK,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});const eY=["children","onClick","className","variant","disabled","type"],tY=e=>{let{children:t,onClick:n,className:r="",variant:a="default",disabled:o=!1,type:s="button"}=e,c=i(e,eY);const u="".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"}[a]," ").concat("h-10 px-4 py-2"," ").concat(r);return(0,or.jsx)("button",l(l({type:s,className:u,onClick:n,disabled:o},c),{},{children:t}))};var nY=n(407),rY=n(5891),aY=n(6260);function iY(e,t){var n;(0,qk.A)(1,arguments);var r=e||{},a=(0,aY.default)(r.start),i=(0,aY.default)(r.end),o=a.getTime(),s=i.getTime();if(!(o<=s))throw new RangeError("Invalid interval");var l=[],c=a;c.setMinutes(0,0,0);var u=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=s;)l.push((0,aY.default)(c)),c=(0,rY.default)(c,u);return l}var oY=n(5780),sY=n(6087),lY=n(9993),cY=n(1010);const uY=e=>{let{orders:n,startDate:r,endDate:a,comparisonOrders:i=null,comparisonStartDate:o=null,comparisonEndDate:s=null}=e;const[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(["products","revenue"]),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)({totalProducts:0,totalRevenue:0,totalOrders:0,avgProductsPerDay:0,avgRevenuePerDay:0,avgProductsPerOrder:0,activeDays:0,activeDaysPercentage:0}),b=[{key:"products",label:"Quantit\xe0 Prodotti",color:"#3b82f6"},{key:"revenue",label:"Fatturato",color:"#10b981"},{key:"orders",label:"Numero Ordini",color:"#8b5cf6"},{key:"avgProductsPerOrder",label:"Media Articoli/Carrello",color:"#f59e0b"}];(0,t.useEffect)(()=>{if(!n||0===n.length||!r||!a)return u([]),void y({totalProducts:0,totalRevenue:0,totalOrders:0,avgProductsPerDay:0,avgRevenuePerDay:0,avgProductsPerOrder:0,activeDays:0,activeDaysPercentage:0});const e=(0,nY.default)(r,a);if(g(e),e){const e=iY({start:(0,oY.default)(r),end:(0,sY.default)(r)}),t={};if(e.forEach(e=>{const n=(0,lY.default)(e,"yyyy-MM-dd-HH");t[n]={date:n,hour:(0,lY.default)(e,"HH:00"),products:0,revenue:0,orders:0,avgProductsPerOrder:0,comparisonProducts:0,comparisonRevenue:0,comparisonOrders:0,comparisonAvgProductsPerOrder:0}}),n.forEach(e=>{const n=new Date(e.createdAt),r=(0,lY.default)(n,"yyyy-MM-dd-HH");if(t[r]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[r].products+=n,t[r].revenue+=e.totalPrice,t[r].orders+=1}}),i&&o&&s){const n=iY({start:(0,oY.default)(o),end:(0,sY.default)(o)}),r={},a=e.length,s=n.length;n.forEach((t,n)=>{const i=Math.floor(n/s*a);if(i<a){const n=e[i],a=(0,lY.default)(n,"yyyy-MM-dd-HH"),o=(0,lY.default)(t,"yyyy-MM-dd-HH");r[o]=a}}),i.forEach(e=>{const n=new Date(e.createdAt),a=(0,lY.default)(n,"yyyy-MM-dd-HH"),i=r[a];if(i&&t[i]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[i].comparisonProducts+=n,t[i].comparisonRevenue+=e.totalPrice,t[i].comparisonOrders+=1}})}Object.keys(t).forEach(e=>{const n=t[e];n.orders>0&&(n.avgProductsPerOrder=n.products/n.orders),n.comparisonOrders>0&&(n.comparisonAvgProductsPerOrder=n.comparisonProducts/n.comparisonOrders)});const a=Object.values(t).map(e=>l(l({},e),{},{date:e.hour}));u(a);const c=a.reduce((e,t)=>e+t.products,0),d=a.reduce((e,t)=>e+t.revenue,0),h=a.reduce((e,t)=>e+t.orders,0),f=a.filter(e=>e.products>0||e.revenue>0).length,p=a.length;y({totalProducts:c,totalRevenue:d,totalOrders:h,avgProductsPerDay:p>0?c/p:0,avgRevenuePerDay:p>0?d/p:0,avgProductsPerOrder:h>0?c/h:0,activeDays:f,activeDaysPercentage:p>0?f/p*100:0})}else{const e=(0,cY.default)({start:r,end:a}),t={};if(e.forEach(e=>{const n=(0,lY.default)(e,"yyyy-MM-dd");t[n]={date:n,products:0,revenue:0,orders:0,avgProductsPerOrder:0,comparisonProducts:0,comparisonRevenue:0,comparisonOrders:0,comparisonAvgProductsPerOrder:0}}),n.forEach(e=>{const n=new Date(e.createdAt),r=(0,lY.default)(n,"yyyy-MM-dd");if(t[r]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[r].products+=n,t[r].revenue+=e.totalPrice,t[r].orders+=1}}),i&&o&&s){const n=(0,cY.default)({start:o,end:s}),r={},a=e.length,l=n.length;n.forEach((t,n)=>{const i=Math.floor(n/l*a);if(i<a){const n=e[i],a=(0,lY.default)(n,"yyyy-MM-dd"),o=(0,lY.default)(t,"yyyy-MM-dd");r[o]=a}}),i.forEach(e=>{const n=new Date(e.createdAt),a=(0,lY.default)(n,"yyyy-MM-dd"),i=r[a];if(i&&t[i]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[i].comparisonProducts+=n,t[i].comparisonRevenue+=e.totalPrice,t[i].comparisonOrders+=1}})}Object.keys(t).forEach(e=>{const n=t[e];n.orders>0&&(n.avgProductsPerOrder=n.products/n.orders),n.comparisonOrders>0&&(n.comparisonAvgProductsPerOrder=n.comparisonProducts/n.comparisonOrders)});const c=Object.values(t).map(e=>l(l({},e),{},{date:(0,lY.default)(new Date(e.date),"dd/MM",{locale:eS})}));u(c);const d=c.reduce((e,t)=>e+t.products,0),h=c.reduce((e,t)=>e+t.revenue,0),f=c.reduce((e,t)=>e+t.orders,0),p=c.filter(e=>e.products>0||e.revenue>0).length,m=c.length;y({totalProducts:d,totalRevenue:h,totalOrders:f,avgProductsPerDay:m>0?d/m:0,avgRevenuePerDay:m>0?h/m:0,avgProductsPerOrder:f>0?d/f:0,activeDays:p,activeDaysPercentage:m>0?p/m*100:0})}},[n,r,a,i,o,s]);const x=t.useMemo(()=>{if(!i||!o||!s)return null;if((0,nY.default)(o,s)){const e=iY({start:(0,oY.default)(o),end:(0,sY.default)(o)}),t={};e.forEach(e=>{const n=(0,lY.default)(e,"yyyy-MM-dd-HH");t[n]={products:0,revenue:0,orders:0,avgProductsPerOrder:0}}),i.forEach(e=>{const n=new Date(e.createdAt),r=(0,lY.default)(n,"yyyy-MM-dd-HH");if(t[r]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[r].products+=n,t[r].revenue+=e.totalPrice,t[r].orders+=1}});const n=Object.values(t),r=n.reduce((e,t)=>e+t.products,0),a=n.reduce((e,t)=>e+t.revenue,0),s=n.reduce((e,t)=>e+t.orders,0);return{totalProducts:r,totalRevenue:a,totalOrders:s,avgProductsPerOrder:s>0?r/s:0}}{const e=(0,cY.default)({start:o,end:s}),t={};e.forEach(e=>{const n=(0,lY.default)(e,"yyyy-MM-dd");t[n]={products:0,revenue:0,orders:0,avgProductsPerOrder:0}}),i.forEach(e=>{const n=new Date(e.createdAt),r=(0,lY.default)(n,"yyyy-MM-dd");if(t[r]){const n=e.items.reduce((e,t)=>e+t.quantity,0);t[r].products+=n,t[r].revenue+=e.totalPrice,t[r].orders+=1}});const n=Object.values(t),r=n.reduce((e,t)=>e+t.products,0),a=n.reduce((e,t)=>e+t.revenue,0),l=n.reduce((e,t)=>e+t.orders,0);return{totalProducts:r,totalRevenue:a,totalOrders:l,avgProductsPerOrder:l>0?r/l:0}}},[i,o,s]),w=(e,t)=>0===t?e>0?100:0:(e-t)/t*100,k=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,or.jsxs)("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[(0,or.jsx)("p",{className:"font-medium",children:m?"Ora: ".concat(r):"Data: ".concat(r)}),(Array.isArray(n)?n:[]).map((e,t)=>(0,or.jsxs)("p",{style:{color:e.color},children:[e.name,": ","revenue"===e.dataKey||"comparisonRevenue"===e.dataKey?tr(e.value):er(e.value,"avgProductsPerOrder"===e.dataKey||"comparisonAvgProductsPerOrder"===e.dataKey?1:0)]},t))]}):null};return(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center justify-between",children:[(0,or.jsxs)("span",{children:["Grafico Vendite ",m?"(Per Ore)":"(Per Giorni)"]}),(0,or.jsx)("div",{className:"flex items-center gap-2",children:i&&(0,or.jsxs)(tY,{variant:f?"default":"outline",size:"sm",onClick:()=>p(!f),children:[f?"Nascondi":"Mostra"," Confronto"]})})]}),(0,or.jsx)(kk,{children:m?"Dettaglio vendite per ora del ".concat((0,lY.default)(r,"dd/MM/yyyy",{locale:eS})):"Andamento vendite dal ".concat((0,lY.default)(r,"dd/MM/yyyy",{locale:eS})," al ").concat((0,lY.default)(a,"dd/MM/yyyy",{locale:eS}))})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:(Array.isArray(b)?b:[]).map(e=>(0,or.jsx)(tY,{variant:d.includes(e.key)?"default":"outline",size:"sm",onClick:()=>{return t=e.key,void h(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},style:{backgroundColor:d.includes(e.key)?e.color:"transparent",borderColor:e.color,color:d.includes(e.key)?"white":e.color},children:e.label},e.key))}),(0,or.jsx)("div",{className:"h-80",children:(0,or.jsx)(CB,{width:"100%",height:"100%",children:(0,or.jsxs)(Zq,{data:c,children:[(0,or.jsx)(RW,{strokeDasharray:"3 3"}),(0,or.jsx)(HW,{dataKey:"date",tick:{fontSize:12},interval:m?2:0}),(0,or.jsx)(ZW,{tick:{fontSize:12}}),(0,or.jsx)(sK,{content:(0,or.jsx)(k,{})}),(0,or.jsx)(ZK,{}),(()=>{const e=[];return d.forEach(t=>{const n=b.find(e=>e.key===t);n&&e.push((0,or.jsx)(kB,{type:"monotone",dataKey:t,stroke:n.color,strokeWidth:2,dot:{fill:n.color,strokeWidth:2,r:4},activeDot:{r:6,stroke:n.color,strokeWidth:2},name:n.label},t))}),f&&i&&d.forEach(t=>{const n=b.find(e=>e.key===t);n&&e.push((0,or.jsx)(kB,{type:"monotone",dataKey:"comparison".concat(t.charAt(0).toUpperCase()+t.slice(1)),stroke:n.color,strokeWidth:2,strokeDasharray:"5 5",dot:{fill:n.color,strokeWidth:2,r:3},activeDot:{r:5,stroke:n.color,strokeWidth:2},name:"".concat(n.label," (Confronto)")},"comparison-".concat(t)))}),e})()]})})}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:er(v.totalProducts,0,"0")}),(0,or.jsx)("div",{className:"text-sm text-gray-600",children:"Prodotti Totali"}),x&&(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",er(x.totalProducts,0,"0")," (",er(w(v.totalProducts,x.totalProducts),1,"0.0"),"%)"]})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-600",children:tr(v.totalRevenue)}),(0,or.jsx)("div",{className:"text-sm text-gray-600",children:"Fatturato Totale"}),x&&(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",tr(x.totalRevenue)," (",er(w(v.totalRevenue,x.totalRevenue),1,"0.0"),"%)"]})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:v.totalOrders}),(0,or.jsx)("div",{className:"text-sm text-gray-600",children:"Ordini Totali"}),x&&(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",x.totalOrders," (",er(w(v.totalOrders,x.totalOrders),1,"0.0"),"%)"]})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:er(v.avgProductsPerOrder,1,"0.0")}),(0,or.jsx)("div",{className:"text-sm text-gray-600",children:"Media Articoli/Ordine"}),x&&(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:["vs ",er(x.avgProductsPerOrder,1,"0.0")," (",er(w(v.avgProductsPerOrder,x.avgProductsPerOrder),1,"0.0"),"%)"]})]})]})]})]})};var dY=n(7860),hY=n(9170),fY=n(7609),pY=n(3498),mY=n(4028),gY=n(812),vY=n(6802);const yY="supplier_orders",bY="bozza",xY="confermato",wY="in_transito",kY="ricevuto",SY="parziale",jY="pagato",NY=()=>{try{const e=localStorage.getItem(yY);return e?JSON.parse(e):[]}catch(e){return console.error("Errore nel caricare ordini fornitori:",e),[]}},_Y=(e,t)=>{try{const n=NY(),r=n.findIndex(t=>t.id===e);if(-1===r)throw new Error("Ordine non trovato");return n[r]=l(l({},n[r]),t),localStorage.setItem(yY,JSON.stringify(n)),n[r]}catch(n){throw console.error("Errore nell'aggiornare ordine:",n),n}},EY=e=>{try{return NY().find(t=>t.id===e)}catch(t){return console.error("Errore nel trovare ordine:",t),null}},OY=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0")+String(e.getMinutes()).padStart(2,"0");return"ORD-".concat(t).concat(n).concat(r,"-").concat(a)},CY=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[s,c]=(0,t.useState)([]),[u,d]=(0,t.useState)({totalOrders:0,totalRevenue:0,totalProducts:0,lowStockCount:0}),[h,f]=(0,t.useState)((0,oY.default)((0,dY.default)(new Date,-30))),[p,m]=(0,t.useState)((0,sY.default)(new Date)),[g,v]=(0,t.useState)("00:00"),[y,b]=(0,t.useState)("23:59"),[x,w]=(0,t.useState)("ultimi30"),[k,S]=(0,t.useState)(""),[j,N]=(0,t.useState)([]),[_,E]=(0,t.useState)({startDate:(0,oY.default)((0,dY.default)(new Date,-30)),endDate:(0,sY.default)(new Date),key:"selection"}),[O,C]=(0,t.useState)("00:00"),[T,D]=(0,t.useState)("23:59"),[P,A]=(0,t.useState)(!1),[I,M]=(0,t.useState)((0,oY.default)((0,hY.default)(new Date,14))),[R,L]=(0,t.useState)((0,sY.default)((0,hY.default)(new Date,7))),[z,F]=(0,t.useState)("periodoPrecedente"),[U,B]=(0,t.useState)(""),[V,q]=(0,t.useState)({startDate:(0,oY.default)((0,hY.default)(new Date,14)),endDate:(0,sY.default)((0,hY.default)(new Date,7)),key:"selection"}),[W,H]=(0,t.useState)("00:00"),[K,Y]=(0,t.useState)("23:59");(0,t.useEffect)(()=>{const e=async()=>{try{const e=localStorage.getItem("shopify_orders");if(e){const t=JSON.parse(e),r=Array.isArray(t)?t:[];n(r)}else n([])}catch(e){console.error("Errore nel caricare ordini:",e);const t=localStorage.getItem("shopify_orders");if(t){const e=JSON.parse(t),r=Array.isArray(e)?e:[];n(r)}else n([])}};window.__dashboardLoadOrders=e,e();const t=t=>{"shopify_orders"===t.key&&e()},r=()=>{e()};window.addEventListener("storage",t),window.addEventListener("dashboard-update",r);const a=setInterval(e,3e4);return()=>{window.removeEventListener("storage",t),window.removeEventListener("dashboard-update",r),clearInterval(a),delete window.__dashboardLoadOrders}},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=await Ck(),t=Array.isArray(e)?e:[];a(t);const n=Array.from(new Set(t.map(e=>e.tipologia).filter(Boolean)));N(n)}catch(e){console.error("Errore nel caricare tipologie:",e),a([]),N([])}})()},[]),(0,t.useEffect)(()=>{const e=new Date;let t,n;if("oggi"===x)t=(0,oY.default)(e),n=(0,sY.default)(e);else if("ultimi7"===x)t=(0,oY.default)((0,dY.default)(e,-7)),n=(0,sY.default)(e);else if("ultimi30"===x)t=(0,oY.default)((0,dY.default)(e,-30)),n=(0,sY.default)(e);else if("questoMese"===x)t=(0,oY.default)(new Date(e.getFullYear(),e.getMonth(),1)),n=(0,sY.default)(new Date(e.getFullYear(),e.getMonth()+1,0));else if("meseScorso"===x)t=(0,oY.default)(new Date(e.getFullYear(),e.getMonth()-1,1)),n=(0,sY.default)(new Date(e.getFullYear(),e.getMonth(),0));else if("primoTrimestre"===x)t=(0,oY.default)(new Date(e.getFullYear(),0,1)),n=(0,sY.default)(new Date(e.getFullYear(),2,31));else if("secondoTrimestre"===x)t=(0,oY.default)(new Date(e.getFullYear(),3,1)),n=(0,sY.default)(new Date(e.getFullYear(),5,30));else if("terzoTrimestre"===x)t=(0,oY.default)(new Date(e.getFullYear(),6,1)),n=(0,sY.default)(new Date(e.getFullYear(),8,30));else if("quartoTrimestre"===x)t=(0,oY.default)(new Date(e.getFullYear(),9,1)),n=(0,sY.default)(new Date(e.getFullYear(),11,31));else if("ultimoTrimestre"===x){const r=e.getMonth(),a=r-r%3;t=(0,oY.default)(new Date(e.getFullYear(),a,1)),n=(0,sY.default)(new Date(e.getFullYear(),a+3,0))}else if("tuttiTrimestri"===x)t=(0,oY.default)(new Date(e.getFullYear(),0,1)),n=(0,sY.default)(new Date(e.getFullYear(),11,31));else{if("questAnno"!==x)return;t=(0,oY.default)(new Date(e.getFullYear(),0,1)),n=(0,sY.default)(new Date(e.getFullYear(),11,31))}f(t),m(n),E({startDate:t,endDate:n,key:"selection"})},[x]),(0,t.useEffect)(()=>{P&&(e=>{const t=new Date,n=Math.ceil((p-h)/864e5);let r,a;switch(e){case"periodoPrecedente":r=(0,oY.default)((0,hY.default)(h,n)),a=(0,sY.default)((0,hY.default)(h,1));break;case"stessoPeriodoAnnoScorso":r=(0,oY.default)((0,fY.default)(h,1)),a=(0,sY.default)((0,fY.default)(p,1));break;case"stessoPeriodoMeseScorso":r=(0,oY.default)((0,pY.default)(h,1)),a=(0,sY.default)((0,pY.default)(p,1));break;case"ultimi7Giorni":r=(0,oY.default)((0,hY.default)(t,14)),a=(0,sY.default)((0,hY.default)(t,7));break;case"meseScorso":r=(0,oY.default)(new Date(t.getFullYear(),t.getMonth()-1,1)),a=(0,sY.default)(new Date(t.getFullYear(),t.getMonth(),0));break;case"trimestreScorso":const e=t.getMonth(),i=e-e%3;r=(0,oY.default)(new Date(t.getFullYear(),i-3,1)),a=(0,sY.default)(new Date(t.getFullYear(),i,0));break;default:return}M(r),L(a),q({startDate:r,endDate:a,key:"selection"})})(z)},[z,P]),(0,t.useEffect)(()=>{E({startDate:h,endDate:p,key:"selection"})},[h,p]);const G=()=>{try{const e=(Array.isArray(r)?r:[]).filter(e=>e.quantita<=he),t=new Map;return e.map(e=>{var n;return l(l({},e),{},{totalSold:(null===(n=t.get(e.sku))||void 0===n?void 0:n.totalSold)||0})}).sort((e,t)=>t.totalSold!==e.totalSold?t.totalSold-e.totalSold:e.quantita-t.quantita).slice(0,5)}catch(e){return console.error("Errore nel caricare prodotti scorte basse:",e),[]}},Q=()=>(Array.isArray(e)?e:[]).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5),J=(e,t)=>{const[n,r]=t.split(":").map(Number);return(0,mY.default)((0,gY.default)((0,vY.default)(e,n),r),0)},X=(()=>{const t=J(h,O),n=J(p,T);return e.filter(e=>{const r=new Date(e.createdAt);return!!(r>=t&&r<=n)&&(!k||e.items.some(e=>e.tipologia===k))})})(),$=(()=>{if(!P)return[];const t=J(I,W),n=J(R,K);return e.filter(e=>{const r=new Date(e.createdAt);return!!(r>=t&&r<=n)&&(!U||e.items.some(e=>e.tipologia===U))})})(),Z={orders:X.length,revenue:X.reduce((e,t)=>e+t.totalPrice,0),products:X.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),avgOrderValue:X.length>0?X.reduce((e,t)=>e+t.totalPrice,0)/X.length:0,paidShipping:X.filter(e=>e.shippingPrice>0).length,shippingRevenue:X.filter(e=>e.shippingPrice>0).reduce((e,t)=>e+t.shippingPrice,0)},ee={orders:$.length,revenue:$.reduce((e,t)=>e+t.totalPrice,0),products:$.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),avgOrderValue:$.length>0?$.reduce((e,t)=>e+t.totalPrice,0)/$.length:0,paidShipping:$.filter(e=>e.shippingPrice>0).length,shippingRevenue:$.filter(e=>e.shippingPrice>0).reduce((e,t)=>e+t.shippingPrice,0)},te=(e,t)=>0===t?e>0?100:0:(e-t)/t*100,ne=(e,t)=>{if(0===t)return e>0?"green":"red";const n=(e-t)/t*100;return Math.abs(n)<1?"orange":n>0?"green":"red"},re={orders:te(Z.orders,ee.orders),revenue:te(Z.revenue,ee.revenue),products:te(Z.products,ee.products),avgOrderValue:te(Z.avgOrderValue,ee.avgOrderValue),paidShipping:te(Z.paidShipping,ee.paidShipping),shippingRevenue:te(Z.shippingRevenue,ee.shippingRevenue)},ae=ne(Z.orders,ee.orders),ie=ne(Z.revenue,ee.revenue),oe=ne(Z.products,ee.products),se=ne(Z.avgOrderValue,ee.avgOrderValue),le=ne(Z.paidShipping,ee.paidShipping),ce=ne(Z.shippingRevenue,ee.shippingRevenue),[ue,de]=(0,t.useState)({totalOrders:0,totalValue:0,toPay:0,paid:0,inTransit:0,partial:0,received:0}),[he,fe]=(0,t.useState)(()=>{const e=localStorage.getItem("lowStockThreshold");return e?parseInt(e):5});(0,t.useEffect)(()=>{localStorage.setItem("lowStockThreshold",he.toString())},[he]);const[pe,me]=(0,t.useState)(()=>{const e=localStorage.getItem("productCategories");return e?JSON.parse(e):["Skincare","Profumo","Premium","Lusso","Eco-friendly"]});(0,t.useEffect)(()=>{localStorage.setItem("productCategories",JSON.stringify(pe))},[pe]);const[ge,ve]=(0,t.useState)("tutte"),[ye,be]=(0,t.useState)("decrescente");return(0,t.useEffect)(()=>{const e=NY(),t=e.length,n=e.reduce((e,t)=>e+t.totalValue,0),r=e.filter(e=>e.status===jY).length,a=e.filter(e=>e.status===SY||e.status===kY).length,i=e.filter(e=>e.status===wY).length,o=e.filter(e=>e.status===SY).length,s=e.filter(e=>e.status===kY).length;de({totalOrders:t,totalValue:n,toPay:a,paid:r,inTransit:i,partial:o,received:s})},[]),(0,or.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,or.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,or.jsx)("div",{children:(0,or.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"})}),(0,or.jsx)("div",{className:"flex items-center gap-2",children:(0,or.jsxs)("label",{className:"flex items-center gap-2",children:[(0,or.jsx)("input",{type:"checkbox",checked:P,onChange:e=>A(e.target.checked),className:"rounded"}),(0,or.jsx)(Pt,{className:"h-4 w-4"}),(0,or.jsx)("span",{className:"text-sm font-medium",children:"Confronto Periodi"})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Ak,{className:"h-5 w-5"}),"Periodo Principale"]}),(0,or.jsxs)(kk,{children:["Periodo selezionato: ",(0,lY.default)(h,"dd/MM/yyyy",{locale:eS})," - ",(0,lY.default)(p,"dd/MM/yyyy",{locale:eS})]})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("select",{className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:x,onChange:e=>w(e.target.value),children:[(0,or.jsx)("option",{value:"oggi",children:"Oggi"}),(0,or.jsx)("option",{value:"ultimi7",children:"Ultimi 7 giorni"}),(0,or.jsx)("option",{value:"ultimi30",children:"Ultimi 30 giorni"}),(0,or.jsx)("option",{value:"questoMese",children:"Questo mese"}),(0,or.jsx)("option",{value:"meseScorso",children:"Mese scorso"}),(0,or.jsx)("option",{value:"primoTrimestre",children:"Primo trimestre"}),(0,or.jsx)("option",{value:"secondoTrimestre",children:"Secondo trimestre"}),(0,or.jsx)("option",{value:"terzoTrimestre",children:"Terzo trimestre"}),(0,or.jsx)("option",{value:"quartoTrimestre",children:"Quarto trimestre"}),(0,or.jsx)("option",{value:"ultimoTrimestre",children:"Ultimo trimestre"}),(0,or.jsx)("option",{value:"tuttiTrimestri",children:"Tutti i trimestri"}),(0,or.jsx)("option",{value:"questAnno",children:"Quest'anno"})]}),(0,or.jsxs)("select",{className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",value:k,onChange:e=>S(e.target.value),children:[(0,or.jsx)("option",{value:"",children:"Tutte le tipologie"}),(Array.isArray(j)?j:[]).map(e=>(0,or.jsx)("option",{value:e,children:e},e))]}),(0,or.jsx)(tS,{range:_,onRangeChange:e=>{E(e),f(e.startDate),m(e.endDate)},startTime:O,endTime:T,onStartTimeChange:C,onEndTimeChange:D})]})})]}),P&&(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Pt,{className:"h-5 w-5"}),"Periodo di Confronto"]}),(0,or.jsxs)(kk,{children:["Confronto con: ",(0,lY.default)(I,"dd/MM/yyyy",{locale:eS})," - ",(0,lY.default)(R,"dd/MM/yyyy",{locale:eS})]})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("select",{className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400",value:z,onChange:e=>F(e.target.value),children:[(0,or.jsx)("option",{value:"periodoPrecedente",children:"Periodo precedente"}),(0,or.jsx)("option",{value:"stessoPeriodoAnnoScorso",children:"Stesso periodo anno scorso"}),(0,or.jsx)("option",{value:"stessoPeriodoMeseScorso",children:"Stesso periodo mese scorso"}),(0,or.jsx)("option",{value:"ultimi7Giorni",children:"Ultimi 7 giorni"}),(0,or.jsx)("option",{value:"meseScorso",children:"Mese scorso"}),(0,or.jsx)("option",{value:"trimestreScorso",children:"Trimestre scorso"})]}),(0,or.jsxs)("select",{className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400",value:U,onChange:e=>B(e.target.value),children:[(0,or.jsx)("option",{value:"",children:"Tutte le tipologie"}),(Array.isArray(j)?j:[]).map(e=>(0,or.jsx)("option",{value:e,children:e},e))]}),(0,or.jsx)(tS,{range:V,onRangeChange:e=>{q(e),M(e.startDate),L(e.endDate)},startTime:W,endTime:K,onStartTimeChange:H,onEndTimeChange:Y})]})})]}),(0,or.jsx)(uY,{orders:X,startDate:h,endDate:p,comparisonOrders:P?$:null,comparisonStartDate:P?I:null,comparisonEndDate:P?R:null}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Totale Ordini"}),(0,or.jsx)(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:Z.orders}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:["green"===ae?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===ae?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===ae?"text-green-600":"red"===ae?"text-red-600":"text-orange-600",children:[Math.abs(re.orders).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",ee.orders," ordini"]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Fatturato Totale"}),(0,or.jsx)(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:tr(Z.revenue)}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:["green"===ie?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===ie?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===ie?"text-green-600":"red"===ie?"text-red-600":"text-orange-600",children:[Math.abs(re.revenue).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",tr(ee.revenue)]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Prodotti Venduti"}),(0,or.jsx)(It,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:Z.products}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:["green"===oe?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===oe?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===oe?"text-green-600":"red"===oe?"text-red-600":"text-orange-600",children:[Math.abs(re.products).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",ee.products," prodotti"]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Valore Medio Ordine"}),(0,or.jsx)(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:tr(Z.avgOrderValue)}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:["green"===se?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===se?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===se?"text-green-600":"red"===se?"text-red-600":"text-orange-600",children:[Math.abs(re.avgOrderValue).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",tr(ee.avgOrderValue)]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Spedizioni Pagate"}),(0,or.jsx)(Rt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:Z.paidShipping}),(0,or.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"ordini con spedizione a pagamento"}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs mb-2",children:["green"===le?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===le?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===le?"text-green-600":"red"===le?"text-red-600":"text-orange-600",children:[Math.abs(re.paidShipping).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",ee.paidShipping," ordini"]})]}),(0,or.jsx)("div",{className:"text-lg font-semibold text-blue-700",children:tr(Z.shippingRevenue)}),(0,or.jsx)("div",{className:"text-xs text-muted-foreground",children:"totale incassato spedizioni"}),P&&(0,or.jsxs)("div",{className:"flex items-center gap-1 text-xs mt-1",children:["green"===ce?(0,or.jsx)(Ik,{className:"h-3 w-3 text-green-600"}):"red"===ce?(0,or.jsx)(Mk,{className:"h-3 w-3 text-red-600"}):(0,or.jsx)(Rk,{className:"h-3 w-3 text-orange-600"}),(0,or.jsxs)("span",{className:"green"===ce?"text-green-600":"red"===ce?"text-red-600":"text-orange-600",children:[Math.abs(re.shippingRevenue).toFixed(1),"%"]}),(0,or.jsxs)("span",{className:"text-muted-foreground",children:["vs ",tr(ee.shippingRevenue)]})]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Mt,{className:"h-5 w-5"}),"Ordini Fornitori"]}),(0,or.jsx)(kk,{children:"Totale valore ordini, pagati, da pagare, in transito, parziali, ricevuti"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Totale ordini"}),(0,or.jsx)("div",{className:"text-lg font-bold",children:ue.totalOrders})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Valore totale"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-700",children:tr(ue.totalValue)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Da pagare"}),(0,or.jsx)("div",{className:"text-lg font-bold text-yellow-700",children:ue.toPay})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Pagati"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-700",children:ue.paid})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"In transito"}),(0,or.jsx)("div",{className:"text-lg font-bold text-blue-700",children:ue.inTransit})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Parziali"}),(0,or.jsx)("div",{className:"text-lg font-bold text-orange-700",children:ue.partial})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Ricevuti"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-600",children:ue.received})]})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Rt,{className:"h-5 w-5"}),"Statistiche Spedizioni"]}),(0,or.jsx)(kk,{children:"Analisi dettagliata delle spedizioni e dei costi associati"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Ordini con spedizione"}),(0,or.jsx)("div",{className:"text-lg font-bold text-blue-700",children:Z.paidShipping}),(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:[Z.orders>0?(Z.paidShipping/Z.orders*100).toFixed(1):0,"% del totale"]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Ordini spedizione gratuita"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-700",children:Z.orders-Z.paidShipping}),(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:[Z.orders>0?((Z.orders-Z.paidShipping)/Z.orders*100).toFixed(1):0,"% del totale"]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Incasso spedizioni"}),(0,or.jsx)("div",{className:"text-lg font-bold text-blue-700",children:tr(Z.shippingRevenue)}),(0,or.jsxs)("div",{className:"text-xs text-gray-500",children:[Z.revenue>0?(Z.shippingRevenue/Z.revenue*100).toFixed(1):0,"% del fatturato"]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Media costo spedizione"}),(0,or.jsx)("div",{className:"text-lg font-bold text-orange-700",children:tr(Z.paidShipping>0?Z.shippingRevenue/Z.paidShipping:0)}),(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"per ordine con spedizione"})]})]}),(0,or.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,or.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"\ud83d\udca1 Insight Spedizioni:"}),(0,or.jsx)("div",{className:"text-xs text-blue-700",children:Z.orders>0&&(0,or.jsx)(or.Fragment,{children:Z.paidShipping>0?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("span",{className:"font-medium",children:[(Z.paidShipping/Z.orders*100).toFixed(1),"%"]})," degli ordini ha una spedizione a pagamento, generando ",(0,or.jsx)("span",{className:"font-medium",children:tr(Z.shippingRevenue)})," di ricavi aggiuntivi (",Z.revenue>0?(Z.shippingRevenue/Z.revenue*100).toFixed(1):0,"% del fatturato totale)."]}):(0,or.jsx)(or.Fragment,{children:"Tutti gli ordini hanno spedizione gratuita. Considera di implementare costi di spedizione per aumentare i ricavi."})})})]}),P&&(0,or.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,or.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Confronto con periodo precedente:"}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-gray-500",children:"Ordini con spedizione"}),(0,or.jsxs)("div",{className:"font-medium ".concat("green"===le?"text-green-600":"red"===le?"text-red-600":"text-orange-600"),children:[Z.paidShipping," vs ",ee.paidShipping," (",re.paidShipping>0?"+":"",re.paidShipping.toFixed(1),"%)"]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-gray-500",children:"Incasso spedizioni"}),(0,or.jsxs)("div",{className:"font-medium ".concat("green"===ce?"text-green-600":"red"===ce?"text-red-600":"text-orange-600"),children:[tr(Z.shippingRevenue)," vs ",tr(ee.shippingRevenue)," (",re.shippingRevenue>0?"+":"",re.shippingRevenue.toFixed(1),"%)"]})]})]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(Pt,{className:"h-5 w-5"}),(0,or.jsxs)("div",{children:[(0,or.jsx)(wk,{children:"Prodotti Pi\xf9 Venduti"}),(0,or.jsxs)(kk,{children:["Top 10 prodotti per quantit\xe0 venduta","decrescente"===ye?" (pi\xf9 venduti prima)":" (meno venduti prima)"]})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Categoria:"}),(0,or.jsxs)("select",{value:ge,onChange:e=>ve(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,or.jsx)("option",{value:"tutte",children:"Tutte le categorie"}),(Array.isArray(pe)?pe:[]).map(e=>(0,or.jsx)("option",{value:e,children:e},e))]}),(0,or.jsx)("button",{onClick:()=>{const e=prompt("Inserisci il nome della nuova categoria:");e&&!pe.includes(e)&&me([...pe,e])},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"+ Categoria"}),(0,or.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Ordine:"}),(0,or.jsx)("button",{onClick:()=>be("decrescente"),className:"text-xs px-2 py-1 rounded ".concat("decrescente"===ye?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"\u2193 Decrescente"}),(0,or.jsx)("button",{onClick:()=>be("crescente"),className:"text-xs px-2 py-1 rounded ".concat("crescente"===ye?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"\u2191 Crescente"})]})]})]})}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"space-y-4",children:(()=>{const e=new Map;X.forEach(t=>{t.items.forEach(n=>{if(n.sku){const r=e.get(n.sku)||{sku:n.sku,name:n.name,quantity:0,revenue:0,orders:new Set,category:localStorage.getItem("category_".concat(n.sku))||"Skincare"};r.quantity+=n.quantity,r.revenue+=n.price*n.quantity,r.orders.add(t.orderNumber),e.set(n.sku,r)}})});let t=Array.from(e.values()).map(e=>l(l({},e),{},{orders:Array.from(e.orders).length}));"tutte"!==ge&&(t=t.filter(e=>e.category===ge));const n=t.sort((e,t)=>"decrescente"===ye?t.quantity-e.quantity:e.quantity-t.quantity).slice(0,10);return n.length>0?n.map((e,t)=>(0,or.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold",children:"decrescente"===ye?t+1:n.length-t}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"font-medium",children:e.name}),(0,or.jsxs)("div",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded-full text-gray-700",children:e.category}),(0,or.jsx)("button",{onClick:()=>{const t=prompt("Cambia categoria per ".concat(e.name,":\n\nCategorie disponibili: ").concat(pe.join(", ")),e.category);t&&pe.includes(t)&&(localStorage.setItem("category_".concat(e.sku),t),window.dispatchEvent(new Event("dashboard-update")))},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Cambia"})]})]})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsxs)("div",{className:"font-bold text-lg",children:[e.quantity," pz"]}),(0,or.jsxs)("div",{className:"text-sm text-muted-foreground",children:[tr(e.revenue)," \u2022 ",e.orders," ordini"]})]})]},e.sku)):(0,or.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Nessun prodotto venduto ancora"})})()})})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(Lk,{className:"h-5 w-5 text-red-500"}),(0,or.jsxs)("div",{children:[(0,or.jsx)(wk,{children:"Scorte Basse"}),(0,or.jsxs)(kk,{children:["Prodotti con quantit\xe0 \u2264 ",he," pezzi"]})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Soglia:"}),(0,or.jsxs)("select",{value:he,onChange:e=>fe(parseInt(e.target.value)),className:"border rounded px-2 py-1 text-sm",children:[(0,or.jsx)("option",{value:3,children:"\u2264 3"}),(0,or.jsx)("option",{value:5,children:"\u2264 5"}),(0,or.jsx)("option",{value:10,children:"\u2264 10"}),(0,or.jsx)("option",{value:15,children:"\u2264 15"}),(0,or.jsx)("option",{value:20,children:"\u2264 20"})]})]})]})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-3",children:[(Array.isArray(G())?G():[]).map(e=>(0,or.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"font-medium",children:e.nome}),(0,or.jsxs)("div",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku]}),e.totalSold>0&&(0,or.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:["Venduti: ",e.totalSold," pz"]})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsxs)("div",{className:"font-bold ".concat(e.quantita<=2?"text-red-600":"text-orange-600"),children:[e.quantita," pz"]}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:tr(e.prezzo)})]})]},e.sku)),0===(Array.isArray(G())?G():[]).length&&(0,or.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Nessun prodotto con scorte basse"})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Ak,{className:"h-5 w-5"}),"Ultimi Ordini"]}),(0,or.jsx)(kk,{children:"Gli ultimi 5 ordini ricevuti"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-3",children:[(Array.isArray(Q())?Q():[]).map(e=>(0,or.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"font-medium",children:["#",e.orderNumber]}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("it-IT")})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsx)("div",{className:"font-bold",children:tr(e.totalPrice)}),(0,or.jsx)("div",{className:"text-sm px-2 py-1 rounded ".concat("paid"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"paid"===e.status?"Pagato":"pending"===e.status?"In attesa":e.status})]})]},e.orderNumber)),0===(Array.isArray(Q())?Q():[]).length&&(0,or.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Nessun ordine ancora"})]})})]})]})]})},TY=Dt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),DY=Dt("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),PY=Dt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),AY=Dt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);function IY(e){let{open:t,sku:n,oldPrice:r,newPrice:a,onDecision:i,nome:o}=e;if(!t)return null;const s=a-r,l=er(s/r*100,1,"0.0");let c="";return c=s>0?"Il nuovo prezzo \xe8 superiore di ".concat(l,"% rispetto al precedente."):s<0?"Il nuovo prezzo \xe8 inferiore di ".concat(Math.abs(l),"% rispetto al precedente."):"Il prezzo \xe8 invariato.",(0,or.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[(0,or.jsx)("h2",{className:"text-xl font-bold mb-3 text-center",children:"Suggerimento AI - Prezzo diverso"}),(0,or.jsxs)("div",{className:"mb-2 text-center",children:[(0,or.jsxs)("div",{className:"mb-1",children:["SKU: ",(0,or.jsx)("b",{children:n})]}),o&&(0,or.jsxs)("div",{className:"mb-1",children:["Prodotto: ",(0,or.jsx)("b",{children:o})]}),(0,or.jsxs)("div",{children:["Prezzo attuale: ",(0,or.jsx)("b",{children:tr(r)})]}),(0,or.jsxs)("div",{children:["Nuovo prezzo: ",(0,or.jsx)("b",{children:tr(a)})]})]}),(0,or.jsx)("p",{className:"mb-4 text-center text-sm text-muted-foreground",children:c}),(0,or.jsxs)("div",{className:"border-t pt-4 mt-4 flex flex-col sm:flex-row gap-2 w-full justify-center items-center",children:[(0,or.jsx)(tY,{variant:"outline",className:"px-4 py-2",onClick:()=>i("mantieni"),children:"Mantieni"}),(0,or.jsx)(tY,{variant:"outline",className:"px-4 py-2",onClick:()=>i("aggiorna"),children:"Aggiorna"}),(0,or.jsx)(tY,{variant:"destructive",className:"px-4 py-2",onClick:()=>i("ignora"),children:"Ignora"})]})]})})}const MY=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[s,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)({sku:"",nome:"",quantita:"",prezzo:""}),[y,b]=(0,t.useState)([{sku:"",nome:"",quantita:"",prezzo:""}]),x=(e,t)=>{const{name:n,value:r}=e.target;b(e=>e.map((e,a)=>a===t?l(l({},e),{},{[n]:r}):e))};return(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsx)("div",{className:"flex items-center justify-between",children:(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold",children:"Gestione Stock"}),(0,or.jsx)("p",{className:"text-muted-foreground",children:"Carica file CSV per aggiungere nuovi prodotti al magazzino"})]})}),(0,or.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,or.jsxs)(bk,{className:"bg-blue-50 border-blue-200 flex-1",children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-blue-900",children:[(0,or.jsx)(It,{className:"h-5 w-5"}),"Carica File Stock"]}),(0,or.jsxs)(kk,{className:"text-blue-800",children:["Seleziona un file CSV con intestazioni: ",(0,or.jsx)("b",{children:"SKU, Quantit\xe0, Prezzo"})," (puoi usare ; o , come separatore)"]})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsx)("div",{className:"flex items-center gap-4",children:(0,or.jsx)("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];if(!t)return;const r=new FileReader;r.onload=e=>{const t=e.target.result,r=t.includes(";")?";":",",a=t.split("\n").filter(e=>e.trim()),i=a[0].split(r).map(e=>e.trim()).map(e=>ir(e));if(!["sku","quantita","prezzo"].every(e=>i.includes(e)))return void c("Errore: Il file CSV deve contenere le intestazioni SKU, Quantit\xe0, Prezzo");const o=a.slice(1).map(e=>{const t=e.split(r).map(e=>e.trim());let n=t[2]||"";n=n.replace("\u20ac","").replace(" EUR","").replace("eur","").trim(),1===(n.match(/,/g)||[]).length?n=n.replace(",","."):(n.match(/,/g)||[]).length>1&&(n=n.replace(/\./g,"").replace(/,/,"."));const a=parseFloat(n);return{sku:t[0]||"",quantita:parseInt(t[1])||0,prezzo:isNaN(a)?0:a}}).filter(e=>e.sku&&e.quantita>0&&e.prezzo>0);n(o),c("Caricati ".concat(o.length," elementi stock dal file CSV"))},r.readAsText(t)},className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})}),s&&(0,or.jsx)("div",{className:"p-3 rounded-md ".concat(s.includes("Errore")?"bg-destructive/10 text-destructive border border-destructive/20":"bg-blue-100 text-blue-900 border border-blue-200"),children:s}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)(tY,{onClick:async()=>{if(0!==e.length){o(!0);try{const t=await Nk();let r=t.success?t.data:[],a=[...e];const i=async()=>{if(0===a.length){try{for(const e of r)await jk(e);Dk("magazzino_data",r),o(!1),c("Stock caricato e magazzino aggiornato su Firebase!"),n([])}catch(s){console.error("Errore nel salvare su Firebase:",s),c("Errore nel salvare i dati su Firebase"),o(!1)}return}const e=a.shift(),t=r.findIndex(t=>t.sku===e.sku);-1!==t&&r[t].prezzo!==e.prezzo?(m({sku:e.sku,nome:r[t].nome,oldPrice:r[t].prezzo,newPrice:e.prezzo,onDecision:n=>{"aggiorna"===n?(r[t].prezzo=e.prezzo,r[t].quantita+=e.quantita,e.anagrafica&&(r[t].anagrafica=e.anagrafica),e.tipologia&&(r[t].tipologia=e.tipologia),e.marca&&(r[t].marca=e.marca)):"mantieni"===n&&(r[t].quantita+=e.quantita,e.anagrafica&&(r[t].anagrafica=e.anagrafica),e.tipologia&&(r[t].tipologia=e.tipologia),e.marca&&(r[t].marca=e.marca)),f(!1),setTimeout(i,0)}}),f(!0)):-1!==t?(r[t].quantita+=e.quantita,e.anagrafica&&(r[t].anagrafica=e.anagrafica),e.tipologia&&(r[t].tipologia=e.tipologia),e.marca&&(r[t].marca=e.marca),setTimeout(i,0)):(r.push(l({},e)),setTimeout(i,0))};await i()}catch(t){console.error("Errore nel caricare magazzino:",t),c("Errore nel caricare i dati del magazzino"),o(!1)}}else c("Nessun dato da caricare")},disabled:0===e.length||i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white",children:[(0,or.jsx)(TY,{className:"h-4 w-4"}),i?"Caricamento...":"Carica su Magazzino"]}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{n([]),a([]),c(""),d("")},disabled:0===e.length,className:"flex items-center gap-2 border-blue-300 text-blue-700",children:[(0,or.jsx)(DY,{className:"h-4 w-4"}),"Reset"]}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{const e=[["SKU001","10","29,99"],["SKU002","5","15,50"]],t=[["SKU","Quantit\xe0","Prezzo"].join(";"),...(Array.isArray(e)?e:[]).map(e=>e.join(";"))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(n);r.setAttribute("href",a),r.setAttribute("download","template_stock_quantita.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"flex items-center gap-2 border-blue-300 text-blue-700",children:[(0,or.jsx)(PY,{className:"h-4 w-4"}),"Scarica Template Stock"]})]})]})]}),(0,or.jsxs)(bk,{className:"bg-yellow-50 border-yellow-200 flex-1",children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-yellow-900",children:[(0,or.jsx)(AY,{className:"h-5 w-5"}),"Carica File Anagrafica"]}),(0,or.jsxs)(kk,{className:"text-yellow-800",children:["Seleziona un file CSV con intestazioni: ",(0,or.jsx)("b",{children:"SKU, Nome"})," (Anagrafica, Tipologia, Marca sono opzionali)"]})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsx)("div",{className:"flex items-center gap-4",children:(0,or.jsx)("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const t=e.target.result,n=t.includes(";")?";":",",r=t.split("\n").filter(e=>e.trim()),i=r[0].split(n).map(e=>e.trim()).map(e=>ir(e));if(!["sku","nome"].every(e=>i.includes(e)))return void d("Errore: Il file CSV deve contenere le intestazioni SKU, Nome (Anagrafica, Tipologia, Marca sono opzionali)");const o=r.slice(1).map(e=>{const t=e.split(n).map(e=>e.trim());return{sku:t[0]||"",nome:t[1]||"",anagrafica:t[2]||"",tipologia:t[3]||"",marca:t[4]||""}}).filter(e=>e.sku&&e.nome);a(o),d("Caricati ".concat(o.length," elementi anagrafica dal file CSV"))},n.readAsText(t)},className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-white hover:file:bg-yellow-600"})}),u&&(0,or.jsx)("div",{className:"p-3 rounded-md ".concat(u.includes("Errore")?"bg-destructive/10 text-destructive border border-destructive/20":"bg-yellow-100 text-yellow-900 border border-yellow-200"),children:u}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)(tY,{onClick:async()=>{if(0!==r.length){o(!0);try{const e=await Nk();let t=e.success?e.data:[],n=0,i=0;r.forEach(e=>{const r=t.findIndex(t=>t.sku===e.sku);-1!==r?(t[r].nome=e.nome,e.anagrafica&&(t[r].anagrafica=e.anagrafica),e.tipologia&&(t[r].tipologia=e.tipologia),e.marca&&(t[r].marca=e.marca),n++):(t.push({sku:e.sku,nome:e.nome,quantita:0,prezzo:0,anagrafica:e.anagrafica||"",tipologia:e.tipologia||"",marca:e.marca||""}),i++)});for(const r of t)await jk(r);Dk("magazzino_data",t),a([]),o(!1),d("Anagrafica caricata su Firebase: ".concat(n," aggiornati, ").concat(i," nuovi prodotti"))}catch(e){console.error("Errore nel salvare anagrafica su Firebase:",e),d("Errore nel salvare i dati anagrafica su Firebase"),o(!1)}}else d("Nessun dato anagrafica da caricare")},disabled:0===r.length||i,className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 text-white",children:[(0,or.jsx)(AY,{className:"h-4 w-4"}),i?"Caricamento...":"Carica Anagrafica"]}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{const e=[["SKU001","Prodotto Esempio","Anagrafica Esempio","Tipologia Esempio","Marca Esempio"],["SKU002","Altro Prodotto","Anagrafica 2","Tipologia 2","Marca 2"]],t=[["SKU","Nome","Anagrafica","Tipologia","Marca"].join(";"),...(Array.isArray(e)?e:[]).map(e=>e.join(";"))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(n);r.setAttribute("href",a),r.setAttribute("download","template_anagrafica.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"flex items-center gap-2 border-yellow-300 text-yellow-700",children:[(0,or.jsx)(PY,{className:"h-4 w-4"}),"Scarica Template Anagrafica"]})]})]})]})]}),(0,or.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=y.filter(e=>e.sku&&e.quantita&&e.prezzo);if(0!==t.length)try{const e=await Nk();let n=e.success?e.data:[],r=!1,a="";if(t.forEach(e=>{const t={sku:e.sku.trim(),nome:e.nome.trim()||"Prodotto senza nome",quantita:parseInt(e.quantita),prezzo:parseFloat(e.prezzo.replace(",","."))},i=n.findIndex(e=>e.sku===t.sku);if(-1!==i)n[i].quantita+=t.quantita,n[i].prezzo=t.prezzo,e.nome.trim()&&(n[i].nome=t.nome);else{if(!e.nome.trim())return r=!0,void(a="Il nome \xe8 obbligatorio per il nuovo prodotto con SKU: ".concat(t.sku));n.push(t)}}),r)return void c(a);for(const t of n)await jk(t);Dk("magazzino_data",n),b([{sku:"",nome:"",quantita:"",prezzo:""}]),c("".concat(t.length," prodotto/i aggiunto/i manualmente su Firebase!"))}catch(n){console.error("Errore nel salvare su Firebase:",n),c("Errore nel salvare i dati su Firebase")}else c("Compila almeno SKU, quantit\xe0 e prezzo per aggiungere un prodotto")},className:"mt-8 p-4 border rounded bg-muted/30 space-y-2",children:[(0,or.jsx)("h3",{className:"font-semibold mb-2",children:"Aggiungi prodotti manualmente"}),(Array.isArray(y)?y:[]).map((e,t)=>(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[(0,or.jsx)("input",{name:"sku",value:e.sku,onChange:e=>x(e,t),placeholder:"SKU",className:"flex-1 px-2 py-1 border rounded"}),(0,or.jsx)("input",{name:"nome",value:e.nome,onChange:e=>x(e,t),placeholder:"Nome",className:"flex-1 px-2 py-1 border rounded"}),(0,or.jsx)("input",{name:"quantita",value:e.quantita,onChange:e=>x(e,t),placeholder:"Quantit\xe0",type:"number",min:1,className:"w-24 px-2 py-1 border rounded"}),(0,or.jsx)("input",{name:"prezzo",value:e.prezzo,onChange:e=>x(e,t),placeholder:"Prezzo",type:"text",className:"w-24 px-2 py-1 border rounded"}),(Array.isArray(y)?y:[]).length>1&&(0,or.jsx)("button",{type:"button",onClick:()=>(e=>{y.length>1&&b(t=>t.filter((t,n)=>n!==e))})(t),className:"bg-destructive text-destructive-foreground px-2 py-1 rounded",children:"\xd7"})]},t)),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("button",{type:"button",onClick:()=>{b(e=>[...e,{sku:"",nome:"",quantita:"",prezzo:""}])},className:"bg-secondary text-secondary-foreground px-4 py-1 rounded font-semibold",children:"+ Aggiungi riga"}),(0,or.jsx)("button",{type:"submit",className:"bg-primary text-primary-foreground px-4 py-1 rounded font-semibold",children:"Salva tutti"})]})]}),e.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Anteprima Dati Stock"}),(0,or.jsxs)(kk,{children:[e.length," elementi pronti per il caricamento"]})]}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"overflow-x-auto",children:(0,or.jsxs)("table",{className:"w-full border-collapse border border-border",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{className:"bg-muted/50",children:[(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"SKU"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Quantit\xe0"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Prezzo"})]})}),(0,or.jsx)("tbody",{children:(Array.isArray(e)?e:[]).map((e,t)=>(0,or.jsxs)("tr",{className:"hover:bg-muted/30",children:[(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.sku}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.quantita}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:tr(e.prezzo)})]},t))})]})})})]}),(Array.isArray(r)?r:[]).length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Anteprima Dati Anagrafica"}),(0,or.jsxs)(kk,{children:[(Array.isArray(r)?r:[]).length," elementi pronti per il caricamento"]})]}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"overflow-x-auto",children:(0,or.jsxs)("table",{className:"w-full border-collapse border border-border",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{className:"bg-muted/50",children:[(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"SKU"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Nome"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Anagrafica"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Tipologia"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Marca"})]})}),(0,or.jsx)("tbody",{children:(Array.isArray(r)?r:[]).map((e,t)=>(0,or.jsxs)("tr",{className:"hover:bg-muted/30",children:[(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.sku}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.nome}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.anagrafica||"-"}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.tipologia||"-"}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.marca||"-"})]},t))})]})})})]}),(0,or.jsx)(IY,{open:h,sku:null===p||void 0===p?void 0:p.sku,nome:null===p||void 0===p?void 0:p.nome,oldPrice:null===p||void 0===p?void 0:p.oldPrice,newPrice:null===p||void 0===p?void 0:p.newPrice,onDecision:null===p||void 0===p?void 0:p.onDecision})]})},RY=Dt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),LY=Dt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),zY=["className","type"],FY=t.forwardRef((e,t)=>{let{className:n,type:r}=e,a=i(e,zY);return(0,or.jsx)("input",l({type:r,className:Zn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},a))});FY.displayName="Input";const UY=Dt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),BY=e=>{let{sku:n,nome:r,onSave:a,onCancel:i}=e;const[o,s]=(0,t.useState)(localStorage.getItem("tipologia_".concat(n))||""),[l,c]=(0,t.useState)(localStorage.getItem("marca_".concat(n))||""),[u,d]=(0,t.useState)(!1),h=localStorage.getItem("tipologia_".concat(n))||"",f=localStorage.getItem("marca_".concat(n))||"";return(0,or.jsxs)(bk,{className:"w-full",children:[(0,or.jsxs)(xk,{className:"pb-3",children:[(0,or.jsxs)(wk,{className:"text-lg flex items-center gap-2",children:[(0,or.jsx)(It,{className:"h-5 w-5"}),"Anagrafica Prodotto"]}),(0,or.jsxs)(kk,{children:["Gestisci tipologia e marca per ",r," (SKU: ",n,")"]})]}),(0,or.jsx)(Sk,{children:u?(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipologia"}),(0,or.jsx)(FY,{type:"text",placeholder:"Es. Abbigliamento, Accessori, Calzature...",value:o,onChange:e=>s(e.target.value)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),(0,or.jsx)(FY,{type:"text",placeholder:"Es. Nike, Adidas, Zara...",value:l,onChange:e=>c(e.target.value)})]})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)(tY,{onClick:()=>{localStorage.setItem("tipologia_".concat(n),o),localStorage.setItem("marca_".concat(n),l),a&&a({sku:n,tipologia:o,marca:l}),d(!1)},className:"flex-1",disabled:!o.trim()&&!l.trim(),children:[(0,or.jsx)(UY,{className:"h-4 w-4 mr-2"}),"Salva"]}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{s(localStorage.getItem("tipologia_".concat(n))||""),c(localStorage.getItem("marca_".concat(n))||""),d(!1),i&&i()},className:"flex-1",children:[(0,or.jsx)(cr,{className:"h-4 w-4 mr-2"}),"Annulla"]})]})]}):(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(RY,{className:"h-4 w-4 text-muted-foreground"}),(0,or.jsx)("span",{className:"font-medium",children:"Tipologia:"}),(0,or.jsx)("span",{className:h?"text-green-600":"text-muted-foreground",children:h||"Non impostata"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{className:"font-medium",children:"Marca:"}),(0,or.jsx)("span",{className:f?"text-green-600":"text-muted-foreground",children:f||"Non impostata"})]})]}),(0,or.jsx)(tY,{onClick:()=>d(!0),className:"w-full",children:"Modifica Anagrafica"})]})})]})},VY=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[s,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)({sku:"",nome:"",quantita:"",prezzo:"",anagrafica:"",tipologia:"",marca:""}),[x,w]=(0,t.useState)(""),[k,S]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[_,E]=(0,t.useState)(!1),[O,C]=(0,t.useState)([]),[T,D]=(0,t.useState)({}),P=fe();(0,t.useEffect)(()=>{(async()=>{try{const e=await Nk();if(e.success&&e.data&&e.data.length>0)n(e.data),a(e.data);else{const e=Pk("magazzino_data",[]),t=Array.isArray(e)?e:[];n(t),a(t)}}catch(e){console.error("Errore nel caricare i dati da Firebase:",e);const t=Pk("magazzino_data",[]),r=Array.isArray(t)?t:[];n(r),a(r)}c(!1)})()},[]),(0,t.useEffect)(()=>{let t=(Array.isArray(e)?e:[]).filter(e=>ar(e.sku,i)||ar(e.nome,i));a(t)},[i,e]);const A=(e,t,n)=>{_&&(d(e),m(t),f(n||""))},I=async(t,r,i)=>{if(!_)return;let o;if("nome"===r){if(!i.trim())return;o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{nome:i.trim()}):e)}else if("sku"===r){if(!i.trim())return;if((Array.isArray(e)?e:[]).find(e=>e.sku===i.trim()&&e.sku!==t))return void alert("SKU gi\xe0 esistente!");o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{sku:i.trim()}):e)}else if("quantita"===r){const n=parseInt(i);if(isNaN(n)||n<0)return;o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{quantita:n}):e)}else if("prezzo"===r){let n=i.replace(",",".");const r=parseFloat(n);if(isNaN(r)||r<0)return;o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{prezzo:r}):e)}else"anagrafica"===r?o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{anagrafica:i}):e):"tipologia"===r?o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{tipologia:i}):e):"marca"===r&&(o=(Array.isArray(e)?e:[]).map(e=>e.sku===t?l(l({},e),{},{marca:i}):e));o&&(D(e=>l(l({},e),{},{[t]:l(l({},e[t]),{},{[r]:i})})),n(o),a(o),d(null),m(null),f(""))},M=()=>{S(!1),N(null)};if(s)return(0,or.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),(0,or.jsx)("span",{children:"Caricamento..."})]})});const R=(()=>{const t=Array.isArray(e)?e:[];return{totalValue:t.reduce((e,t)=>e+t.prezzo*t.quantita,0),totalQuantity:t.reduce((e,t)=>e+t.quantita,0),lowStockItems:t.filter(e=>e.quantita<=5).length,outOfStockItems:t.filter(e=>0===e.quantita).length,totalProducts:t.length}})();return(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold",children:"Magazzino"}),(0,or.jsx)("p",{className:"text-muted-foreground",children:"Gestione inventario e controllo scorte"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,or.jsx)(It,{className:"h-4 w-4"}),(0,or.jsxs)("span",{children:[e.length," prodotti"]}),(0,or.jsx)(tY,{className:"ml-4",onClick:()=>v(!0),children:"+ Aggiungi prodotto"})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,or.jsx)(bk,{children:(0,or.jsx)(Sk,{className:"p-4",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Valore Totale"}),(0,or.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20ac",R.totalValue.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,or.jsx)("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,or.jsx)(RY,{className:"h-4 w-4 text-green-600"})})]})})}),(0,or.jsx)(bk,{children:(0,or.jsx)(Sk,{className:"p-4",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Quantit\xe0 Totale"}),(0,or.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:R.totalQuantity.toLocaleString("it-IT")})]}),(0,or.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,or.jsx)(It,{className:"h-4 w-4 text-blue-600"})})]})})}),(0,or.jsx)(bk,{children:(0,or.jsx)(Sk,{className:"p-4",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Scorte Basse"}),(0,or.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:R.lowStockItems})]}),(0,or.jsx)("div",{className:"h-8 w-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,or.jsx)(Ut,{className:"h-4 w-4 text-orange-600"})})]})})}),(0,or.jsx)(bk,{children:(0,or.jsx)(Sk,{className:"p-4",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Esauriti"}),(0,or.jsx)("p",{className:"text-2xl font-bold text-red-600",children:R.outOfStockItems})]}),(0,or.jsx)("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,or.jsx)(It,{className:"h-4 w-4 text-red-600"})})]})})})]}),g&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[(0,or.jsx)("h2",{className:"text-xl font-bold mb-3 text-center",children:"Aggiungi nuovo prodotto"}),(0,or.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{if(!y.sku||!y.nome||!y.quantita||!y.prezzo)return void w("Tutti i campi obbligatori devono essere compilati");const t=parseInt(y.quantita),r=parseFloat(y.prezzo.replace(",","."));if(isNaN(t)||isNaN(r)||t<0||r<0)return void w("Quantit\xe0 e prezzo devono essere numeri validi");const i={sku:y.sku,nome:y.nome,quantita:t,prezzo:r,anagrafica:y.anagrafica,tipologia:y.tipologia,marca:y.marca};console.log("\ud83d\udd04 Tentativo di salvataggio prodotto:",i);try{const t=await jk(i);if(console.log("\ud83d\udce1 Risposta Firebase:",t),t.success){const r=l(l({},i),{},{id:t.id}),o=[...e,r];n(o),a(o),Dk("magazzino_data",o),b({sku:"",nome:"",quantita:"",prezzo:"",anagrafica:"",tipologia:"",marca:""}),w("");const s=document.createElement("div");s.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",s.textContent='Prodotto "'.concat(i.nome,'" aggiunto con successo!'),document.body.appendChild(s),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},3e3)}else console.error("\u274c Errore Firebase:",t.error),w("Errore nel salvataggio: "+t.error)}catch(o){console.error("\u274c Errore nel salvataggio:",o),w("Errore nel salvataggio: "+o.message)}})()},className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1",placeholder:"SKU*",value:y.sku,onChange:e=>b(t=>l(l({},t),{},{sku:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1",placeholder:"Nome*",value:y.nome,onChange:e=>b(t=>l(l({},t),{},{nome:e.target.value}))})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 w-24",placeholder:"Quantit\xe0*",type:"number",min:"0",value:y.quantita,onChange:e=>b(t=>l(l({},t),{},{quantita:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 w-24",placeholder:"Prezzo*",type:"text",value:y.prezzo,onChange:e=>b(t=>l(l({},t),{},{prezzo:e.target.value}))})]}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Anagrafica",value:y.anagrafica,onChange:e=>b(t=>l(l({},t),{},{anagrafica:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Tipologia",value:y.tipologia,onChange:e=>b(t=>l(l({},t),{},{tipologia:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Marca",value:y.marca,onChange:e=>b(t=>l(l({},t),{},{marca:e.target.value}))})]}),x&&(0,or.jsx)("div",{className:"text-red-600 text-sm",children:x}),(0,or.jsxs)("div",{className:"flex gap-2 justify-end mt-2",children:[(0,or.jsx)(tY,{type:"button",variant:"outline",onClick:()=>{v(!1)},children:"Annulla"}),(0,or.jsx)(tY,{type:"submit",children:"Salva"})]})]})]})}),(0,or.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:_?"\ud83d\udd27 Modalit\xe0 Modifica Attiva":"\ud83d\udccb Visualizzazione Prodotti"}),_&&(0,or.jsxs)("span",{className:"text-sm text-blue-600 bg-blue-100 px-3 py-1 rounded-full",children:[Object.keys(T).length," modifiche in sospeso"]})]}),(0,or.jsx)("div",{className:"flex space-x-3",children:_?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("button",{onClick:async()=>{try{const t=Object.entries(T).map(async t=>{let[n,r]=t;const a=e.find(e=>e.sku===n);if(a){const e=l(l({},a),r);return await jk(e)}}),n=await Promise.all(t);if(n.every(e=>e&&e.success)){Dk("magazzino_data",e),E(!1),D({}),C([]);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.textContent="Tutte le modifiche salvate con successo!",document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},3e3)}else alert("Errore nel salvare alcune modifiche")}catch(t){console.error("Errore nel salvare le modifiche:",t),alert("Errore nel salvare: ".concat(t.message))}},disabled:0===Object.keys(T).length,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center space-x-2",children:"\ud83d\udcbe Salva Modifiche"}),(0,or.jsx)("button",{onClick:()=>{n(O),a(O),D({}),E(!1),d(null),m(null),f("")},className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center space-x-2",children:"\u274c Annulla Modifiche"})]}):(0,or.jsx)("button",{onClick:()=>{C([...e]),D({}),E(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center space-x-2",children:"\u270f\ufe0f Modifica Prodotti"})})]}),_&&(0,or.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,or.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udca1 ",(0,or.jsx)("strong",{children:"Istruzioni:"}),' Clicca sui campi che vuoi modificare. Le modifiche verranno salvate solo quando clicchi "Salva Modifiche". Puoi annullare tutte le modifiche con "Annulla Modifiche".']})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Ricerca Prodotti"}),(0,or.jsx)(kk,{children:"Cerca per SKU o nome prodotto"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(LY,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,or.jsx)(FY,{type:"text",placeholder:"Cerca SKU o nome prodotto...",value:i,onChange:e=>o(e.target.value),className:"pl-10"})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Prodotti"}),(0,or.jsx)(kk,{children:"Lista completa dei prodotti in magazzino"})]}),(0,or.jsx)(Sk,{children:0===r.length?(0,or.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:i?"Nessun prodotto trovato per la ricerca":"Nessun prodotto disponibile"}):(0,or.jsx)("div",{className:"overflow-x-auto",children:(0,or.jsxs)("table",{className:"w-full border-collapse",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Nome"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"SKU"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Quantit\xe0"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Prezzo"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Anagrafica"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Tipologia"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Marca"}),(0,or.jsx)("th",{className:"text-left p-3 font-medium",children:"Azioni"})]})}),(0,or.jsx)("tbody",{children:(Array.isArray(r)?r:[]).map((t,r)=>(0,or.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u===t.sku&&"nome"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"nome",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"nome",h),className:"w-40 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"nome",t.nome),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded text-blue-600 hover:text-blue-800 hover:underline",title:"Clicca per modificare o per vedere i dettagli",children:t.nome})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"sku"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"sku",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"sku",h),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs cursor-pointer hover:bg-gray-200 text-blue-600 hover:text-blue-800",onClick:()=>P("/magazzino/".concat(t.sku)),title:"Clicca per vedere i dettagli del prodotto",children:t.sku})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"quantita"===p?(0,or.jsx)("input",{type:"number",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"quantita",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"quantita",h),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"quantita",t.quantita.toString()),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",children:t.quantita})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"prezzo"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"prezzo",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"prezzo",h),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"prezzo",er(t.prezzo,2).replace(".",",")),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",children:tr(t.prezzo)})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"anagrafica"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"anagrafica",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"anagrafica",h),className:"w-32 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"anagrafica",t.anagrafica||""),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",children:t.anagrafica||"-"})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"tipologia"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"tipologia",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"tipologia",h),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"tipologia",t.tipologia||""),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",children:t.tipologia||"-"})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u===t.sku&&"marca"===p?(0,or.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),onBlur:()=>I(t.sku,"marca",h),onKeyPress:e=>"Enter"===e.key&&I(t.sku,"marca",h),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}):(0,or.jsx)("span",{onClick:()=>A(t.sku,"tipologia",t.marca||""),className:"cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",children:t.marca||"-"})}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,or.jsxs)("div",{className:"flex space-x-2",children:[(0,or.jsx)("button",{onClick:()=>P("/magazzino/".concat(t.sku)),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200",title:"Vedi dettagli e variazioni prezzo",children:"\ud83d\udc41\ufe0f Dettagli"}),(0,or.jsx)("button",{onClick:()=>(async t=>{if(window.confirm('Sei sicuro di voler eliminare il prodotto "'.concat(t,'"?')))try{const r=e.find(e=>e.sku===t);r&&r.id&&(await jv(Ig(dk,"magazzino",r.id)),console.log("\u2705 Prodotto eliminato da Firebase"));const i=e.filter(e=>e.sku!==t);n(i),a(i),Dk("magazzino_data",i),alert('Prodotto "'.concat(t,'" eliminato con successo!'))}catch(r){console.error("\u274c Errore nell'eliminazione del prodotto:",r),alert("Errore nell'eliminazione: ".concat(r.message))}})(t.sku),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200",title:"Elimina prodotto",children:"\ud83d\uddd1\ufe0f Cancella"})]})})]},r))})]})})})]}),k&&j&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,or.jsx)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,or.jsx)(BY,{sku:j.sku,nome:j.nome,onSave:e=>{Object.keys(e).forEach(t=>{e[t]&&localStorage.setItem("".concat(t,"_").concat(j.sku),e[t])}),M()},onCancel:M})})})]})},qY=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const i=(()=>{const e=localStorage.getItem("shopify_config");if(!e)throw new Error("Credenziali Shopify non configurate. Vai su Impostazioni per configurarle.");return JSON.parse(e)})();let o=[],s=null,l=!0,c=1;for(console.log("\ud83d\udd04 Inizio scaricamento ordini Shopify (limite: ".concat(e,", status: ").concat(t,", daysBack: ").concat(r,")"));l;){console.log("\ud83d\udcc4 Scaricamento pagina ".concat(c,"..."));const r={shopDomain:i.shopDomain,accessToken:i.accessToken,apiVersion:i.apiVersion,testType:"orders",limit:e};if(t&&"any"!==t&&(r.status=t),s&&(r.pageInfo=s),o.length>0){const e=o[o.length-1];e&&e.id&&(r.lastOrderId=e.id,console.log("\ud83d\udd0d DEBUG - Aggiunto lastOrderId come fallback: ".concat(e.id)))}console.log("\ud83d\udd0d DEBUG - Request body inviato:",JSON.stringify(r,null,2));const u=await fetch("/.netlify/functions/shopify-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!u.ok){const e=await u.json();throw new Error("Errore API Shopify: ".concat(e.error||u.statusText))}const d=await u.json();if(d.success&&d.data.orders&&d.data.orders.length>0){const t=new Set(o.map(e=>e.id)),r=d.data.orders.filter(e=>!t.has(e.id));if(o=o.concat(r),n&&n(o.length,c),console.log("[SYNC] Scaricati ".concat(o.length," ordini totali dopo pagina ").concat(c)),console.log("\ud83d\udcca Ordini in questa pagina: ".concat(d.data.orders.length,"/").concat(e)),console.log("\ud83d\udcc8 Totale ordini scaricati finora: ".concat(o.length)),d.data.orders.length<e)console.log("\u2705 Ultima pagina raggiunta (".concat(d.data.orders.length," ordini < ").concat(e,")")),l=!1;else{const e=d.data.linkHeader;if(console.log("\ud83d\udd17 Link header ricevuto: ".concat(e)),e&&e.includes('rel="next"')){const t=e.match(/<[^>]*page_info=([^&>]+)[^>]*>;\s*rel="next"/);if(t)s=t[1],console.log("\ud83d\udcc4 Prossima pagina trovata: ".concat(s)),c++;else{const t=e.match(/<([^>]+)>;\s*rel="next"/);if(t){const e=t[0].match(/<([^>]+)>/)[1];console.log("\ud83d\udd17 URL estratto: ".concat(e));try{const t=new URL(e);s=t.searchParams.get("page_info"),s?(console.log("\ud83d\udcc4 Prossima pagina estratta da URL: ".concat(s)),c++):(console.log("\u26a0\ufe0f Link header trovato ma page_info non estraibile"),console.log("\ud83d\udd0d Parametri URL:",Array.from(t.searchParams.entries())),l=!1)}catch(a){console.log("\u274c Errore nel parsing URL:",a),l=!1}}else console.log("\u26a0\ufe0f Link header trovato ma formato non riconosciuto"),console.log("\ud83d\udd0d Pattern non trovato in:",e),l=!1}}else console.log("\u2705 Nessun link per la prossima pagina trovato"),console.log("\ud83d\udd0d Link header completo:",e),l=!1}}else console.log("\u26a0\ufe0f Pagina ".concat(c," non ha ordini o errore")),l=!1;if(c>200&&(console.log("\u26a0\ufe0f Raggiunto limite massimo di pagine (200) - potrebbe esserci un problema di paginazione"),l=!1),l){const e=1===c?500:1e3;console.log("\u23f3 Pausa di ".concat(e,"ms prima della prossima richiesta...")),await new Promise(t=>setTimeout(t,e))}}return console.log("\ud83c\udf89 Scaricamento completato! Totale ordini: ".concat(o.length)),o}catch(i){if("TypeError"===i.name&&i.message.includes("Failed to fetch"))throw new Error("Errore di connessione alle Netlify Functions. Verifica la connessione internet.");throw i}},WY=e=>{var t,n,r,a,i,o,s,l,c,u,d,h,f,p;let m=0,g="Standard",v="N/A";if(e.shipping_lines&&e.shipping_lines.length>0){m=e.shipping_lines.reduce((e,t)=>e+parseFloat(t.price||0),0);const t=e.shipping_lines[0];t&&(g=t.title||"Standard",v=t.carrier_identifier||t.code||"N/A")}var y;0===m&&e.total_shipping_price_set&&(m=parseFloat((null===(y=e.total_shipping_price_set.shop_money)||void 0===y?void 0:y.amount)||"0"));const b=(null===(t=e.customer)||void 0===t?void 0:t.email)||(null===(n=e.shipping_address)||void 0===n?void 0:n.email)||(null===(r=e.billing_address)||void 0===r?void 0:r.email),x=(null===(a=e.customer)||void 0===a?void 0:a.first_name)||(null===(i=e.shipping_address)||void 0===i?void 0:i.first_name)||"",w=(null===(o=e.customer)||void 0===o?void 0:o.last_name)||(null===(s=e.shipping_address)||void 0===s?void 0:s.last_name)||"",k=(null===(l=e.shipping_address)||void 0===l?void 0:l.name)||(x&&w?"".concat(x," ").concat(w).trim():"")||e.name,S=(null===(c=e.customer)||void 0===c?void 0:c.phone)||(null===(u=e.shipping_address)||void 0===u?void 0:u.phone)||(null===(d=e.billing_address)||void 0===d?void 0:d.phone),j=e.shipping_address?{name:e.shipping_address.name||k,first_name:e.shipping_address.first_name||x,last_name:e.shipping_address.last_name||w,email:e.shipping_address.email||b,phone:e.shipping_address.phone||S,address1:e.shipping_address.address1||"",address2:e.shipping_address.address2||"",city:e.shipping_address.city||"",province:e.shipping_address.province||"",zip:e.shipping_address.zip||"",country:e.shipping_address.country||""}:null,N=e.billing_address?{name:e.billing_address.name||k,first_name:e.billing_address.first_name||x,last_name:e.billing_address.last_name||w,email:e.billing_address.email||b,phone:e.billing_address.phone||S,address1:e.billing_address.address1||"",address2:e.billing_address.address2||"",city:e.billing_address.city||"",province:e.billing_address.province||"",zip:e.billing_address.zip||"",country:e.billing_address.country||""}:null;return{id:e.id,orderNumber:e.order_number,customerName:k,customerEmail:b,customerPhone:S,customerFirstName:x,customerLastName:w,createdAt:e.created_at,status:e.financial_status,fulfillmentStatus:e.fulfillment_status,totalPrice:parseFloat(e.total_price),currency:e.currency,shippingPrice:m,shippingType:g,shippingCarrier:v,taxPrice:parseFloat((null===(h=e.total_tax_set)||void 0===h||null===(f=h.shop_money)||void 0===f?void 0:f.amount)||"0"),shippingAddress:j,billingAddress:N,shippingLines:e.shipping_lines,note:e.note,items:(null===(p=e.line_items)||void 0===p?void 0:p.map(e=>{var t;return{sku:e.sku||(null===(t=e.variant_id)||void 0===t?void 0:t.toString()),name:e.name,quantity:e.quantity,price:parseFloat(e.price)}}))||[]}};class HY extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class KY extends HY{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class YY extends HY{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class GY extends HY{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var QY;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(QY||(QY={}));var JY=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class XY{constructor(e){let{headers:t={},customFetch:r,region:a=QY.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return JY(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:i}=t;let o={},{region:s}=t;s||(s=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;s&&"any"!==s&&(o["x-region"]=s,l.searchParams.set("forceFunctionRegion",s)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):"string"===typeof i?(o["Content-Type"]="text/plain",c=i):"undefined"!==typeof FormData&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch(e=>{throw new KY(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new YY(u);if(!u.ok)throw new GY(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof GY||r instanceof YY?r.context:void 0}}})}}var $Y=n(7980);const{PostgrestClient:ZY,PostgrestQueryBuilder:eG,PostgrestFilterBuilder:tG,PostgrestTransformBuilder:nG,PostgrestBuilder:rG,PostgrestError:aG}=$Y;const iG=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},oG="realtime-js/".concat("2.15.1"),sG=1e4;var lG,cG,uG,dG,hG,fG;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(lG||(lG={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(cG||(cG={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(uG||(uG={})),function(e){e.websocket="websocket"}(dG||(dG={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(hG||(hG={}));class pG{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class mG{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(fG||(fG={}));const gG=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=vG(a,e,t,r),n),{})},vG=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?yG(i,o):bG(o)},yG=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return SG(t,n)}switch(e){case fG.bool:return xG(t);case fG.float4:case fG.float8:case fG.int2:case fG.int4:case fG.int8:case fG.numeric:case fG.oid:return wG(t);case fG.json:case fG.jsonb:return kG(t);case fG.timestamp:return jG(t);case fG.abstime:case fG.date:case fG.daterange:case fG.int4range:case fG.int8range:case fG.money:case fG.reltime:case fG.text:case fG.time:case fG.timestamptz:case fG.timetz:case fG.tsrange:case fG.tstzrange:default:return bG(t)}},bG=e=>e,xG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wG=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kG=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},SG=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>yG(t,e))}return e},jG=e=>"string"===typeof e?e.replace(" ","T"):e,NG=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class _G{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sG;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var EG,OG,CG,TG;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(EG||(EG={}));class DG{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=DG.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=DG.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=DG.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(OG||(OG={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(CG||(CG={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(TG||(TG={}));class PG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=cG.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new _G(this,uG.join,this.params,this.timeout),this.rejoinTimer=new mG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cG.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=cG.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=cG.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=cG.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=cG.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uG.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new DG(this),this.broadcastEndpointURL=NG(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==cG.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,s=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[CG.PRESENCE]&&this.bindings[CG.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:l}),postgres_changes:s,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(TG.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(TG.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==o||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=cG.errored,void(null===e||void 0===e||e(TG.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(TG.SUBSCRIBED))}null===e||void 0===e||e(TG.SUBSCRIBED)}).receive("error",t=>{this.state=cG.errored,null===e||void 0===e||e(TG.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(TG.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===cG.joined&&e===CG.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=cG.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(uG.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new _G(this,uG.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cG.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new _G(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=uG;if(n&&[o,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===cG.closed}_isJoined(){return this.state===cG.joined}_isJoining(){return this.state===cG.joining}_isLeaving(){return this.state===cG.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&PG.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(uG.close,{},e)}_onError(e){this._on(uG.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cG.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=gG(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=gG(e.columns,e.old_record)),t}}const AG=()=>{},IG=25e3,MG=10,RG=100,LG=[1e3,2e3,5e3,1e4];class zG{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sG,this.transport=null,this.heartbeatIntervalMs=IG,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AG,this.ref=0,this.reconnectTimer=null,this.logger=AG,this.conn=null,this.sendBuffer=[],this.serializer=new pG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(dG.websocket),this.httpEndpoint=NG(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iG.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case lG.connecting:return hG.Connecting;case lG.open:return hG.Open;case lG.closing:return hG.Closing;default:return hG.Closed}}isConnected(){return this.connectionState()===hG.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new PG("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},RG);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(i).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(uG.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:oG};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(uG.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(iZ){this.log("error","error in ".concat(e," callback"),iZ)}})}catch(iZ){this.log("error","error triggering ".concat(e," callbacks"),iZ)}}_setupReconnectionTimer(){this.reconnectTimer=new mG(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},MG)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,o,s,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:sG,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:IG,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>LG[e-1]||1e4,this.encode=null!==(s=null===e||void 0===e?void 0:e.encode)&&void 0!==s?s:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class FG extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function UG(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class BG extends FG{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VG extends FG{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var qG=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const WG=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},HG=e=>{if(Array.isArray(e))return e.map(e=>HG(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=HG(r)}),t};var KG=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const YG=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GG=(e,t,r)=>KG(void 0,void 0,void 0,function*(){const a=yield qG(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,4630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new BG(YG(n),r,a))}).catch(e=>{t(new VG(YG(e),e))}):t(new VG(YG(e),e))}),QG=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function JG(e,t,n,r,a,i){return KG(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,QG(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>GG(e,s,r))})})}function XG(e,t,n,r){return KG(this,void 0,void 0,function*(){return JG(e,"GET",t,n,r)})}function $G(e,t,n,r,a){return KG(this,void 0,void 0,function*(){return JG(e,"POST",t,r,a,n)})}function ZG(e,t,n,r,a){return KG(this,void 0,void 0,function*(){return JG(e,"PUT",t,r,a,n)})}function eQ(e,t,n,r,a){return KG(this,void 0,void 0,function*(){return JG(e,"DELETE",t,r,a,n)})}var tQ=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const nQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rQ={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=WG(r)}uploadOrUpdate(e,t,n,r){return tQ(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},rQ),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?ZG:$G)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(UG(a))return{data:null,error:a};throw a}})}upload(e,t,n){return tQ(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return tQ(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:rQ.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield ZG(this.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(s){if(UG(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return tQ(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield $G(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new FG("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(UG(n))return{data:null,error:n};throw n}})}update(e,t,n){return tQ(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return tQ(this,void 0,void 0,function*(){try{return{data:yield $G(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(UG(r))return{data:null,error:r};throw r}})}copy(e,t,n){return tQ(this,void 0,void 0,function*(){try{return{data:{path:(yield $G(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(UG(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return tQ(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield $G(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(i))},{data:a,error:null}}catch(r){if(UG(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return tQ(this,void 0,void 0,function*(){try{const r=yield $G(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(UG(r))return{data:null,error:r};throw r}})}download(e,t){return tQ(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield XG(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(UG(i))return{data:null,error:i};throw i}})}info(e){return tQ(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield XG(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:HG(e),error:null}}catch(n){if(UG(n))return{data:null,error:n};throw n}})}exists(e){return tQ(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return KG(this,void 0,void 0,function*(){return JG(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(UG(n)&&n instanceof VG){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}remove(e){return tQ(this,void 0,void 0,function*(){try{return{data:yield eQ(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(UG(t))return{data:null,error:t};throw t}})}list(e,t,n){return tQ(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},nQ),t),{prefix:e||""});return{data:yield $G(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(UG(r))return{data:null,error:r};throw r}})}listV2(e,t){return tQ(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield $G(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(UG(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const iQ={"X-Client-Info":"storage-js/".concat("2.11.0")};var oQ=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class sQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},iQ),t),this.fetch=WG(n)}listBuckets(){return oQ(this,void 0,void 0,function*(){try{return{data:yield XG(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(UG(e))return{data:null,error:e};throw e}})}getBucket(e){return oQ(this,void 0,void 0,function*(){try{return{data:yield XG(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(UG(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return oQ(this,void 0,void 0,function*(){try{return{data:yield $G(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(UG(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return oQ(this,void 0,void 0,function*(){try{return{data:yield ZG(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(UG(n))return{data:null,error:n};throw n}})}emptyBucket(e){return oQ(this,void 0,void 0,function*(){try{return{data:yield $G(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(UG(t))return{data:null,error:t};throw t}})}deleteBucket(e){return oQ(this,void 0,void 0,function*(){try{return{data:yield eQ(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(UG(t))return{data:null,error:t};throw t}})}}class lQ extends sQ{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new aQ(this.url,this.headers,e,this.fetch)}}let cQ="";cQ="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const uQ={headers:{"X-Client-Info":"supabase-js-".concat(cQ,"/").concat("2.55.0")}},dQ={schema:"public"},hQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fQ={};var pQ=n(4630),mQ=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const gQ=e=>{let t;return t=e||("undefined"===typeof fetch?pQ.default:fetch),function(){return t(...arguments)}},vQ=(e,t,n)=>{const r=gQ(n),a="undefined"===typeof Headers?pQ.Headers:Headers;return(n,i)=>mQ(void 0,void 0,void 0,function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var yQ=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};const bQ="2.71.1",xQ=3e4,wQ=9e4,kQ={"X-Client-Info":"gotrue-js/".concat(bQ)},SQ="X-Supabase-Api-Version",jQ={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},NQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class _Q extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function EQ(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class OQ extends _Q{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class CQ extends _Q{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class TQ extends _Q{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class DQ extends TQ{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class PQ extends TQ{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AQ extends TQ{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class IQ extends TQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class MQ extends TQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class RQ extends TQ{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function LQ(e){return EQ(e)&&"AuthRetryableFetchError"===e.name}class zQ extends TQ{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class FQ extends TQ{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const UQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BQ=" \t\n\r=".split(""),VQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BQ.length;t+=1)e[BQ[t].charCodeAt(0)]=-2;for(let t=0;t<UQ.length;t+=1)e[UQ[t].charCodeAt(0)]=t;return e})();function qQ(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(UQ[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(UQ[e]),t.queuedBits-=6}}function WQ(e,t,n){const r=VQ[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function HQ(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)WQ(e.charCodeAt(o),a,i);return t.join("")}function KQ(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function YQ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}KQ(r,t)}}function GQ(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)WQ(e.charCodeAt(a),n,r);return new Uint8Array(t)}function QQ(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>qQ(e,n,r)),qQ(null,n,r),t.join("")}const JQ=()=>"undefined"!==typeof window&&"undefined"!==typeof document,XQ={tested:!1,writable:!1},$Q=()=>{if(!JQ())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(iZ){return!1}if(XQ.tested)return XQ.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),XQ.tested=!0,XQ.writable=!0}catch(iZ){XQ.tested=!0,XQ.writable=!1}return XQ.writable};const ZQ=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,4630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},eJ=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},tJ=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},nJ=async(e,t)=>{await e.removeItem(t)};class rJ{constructor(){this.promise=new rJ.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function aJ(e){const t=e.split(".");if(3!==t.length)throw new FQ("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NQ.test(t[n]))throw new FQ("JWT not in base64url format");return{header:JSON.parse(HQ(t[0])),payload:JSON.parse(HQ(t[1])),signature:GQ(t[2]),raw:{header:t[0],payload:t[1]}}}function iJ(e){return("0"+e.toString(16)).substr(-2)}async function oJ(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,iJ).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await eJ(e,"".concat(t,"-code-verifier"),a);const i=await oJ(r);return[i,r===i?"plain":"s256"]}rJ.promiseConstructor=Promise;const lJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const cJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uJ(e){if(!cJ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dJ(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function hJ(e){return JSON.parse(JSON.stringify(e))}var fJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const pJ=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mJ=[502,503,504];async function gJ(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new RQ(pJ(e),0);if(mJ.includes(e.status))throw new RQ(pJ(e),e.status);let r,a;try{r=await e.json()}catch(iZ){throw new CQ(pJ(iZ),iZ)}const i=function(e){const t=e.headers.get(SQ);if(!t)return null;if(!t.match(lJ))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(iZ){return null}}(e);if(i&&i.getTime()>=jQ.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new zQ(pJ(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new DQ}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new zQ(pJ(r),e.status,r.weak_password.reasons);throw new OQ(pJ(r),e.status||500,a)}async function vJ(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[SQ]||(i[SQ]=jQ.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(iZ){throw console.error(iZ),new RQ(pJ(iZ),0)}s.ok||await gJ(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(iZ){await gJ(iZ)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yJ(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bJ(e){const t=yJ(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function xJ(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function wJ(e){return{data:e,error:null}}function kJ(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=fJ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function SJ(e){return e}const jJ=["global","local","others"];var NJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class _J{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=ZQ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jJ[0];if(jJ.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(jJ.join(", ")));try{return await vJ(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(EQ(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vJ(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xJ})}catch(n){if(EQ(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=NJ(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await vJ(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:kJ,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(EQ(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vJ(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:xJ})}catch(t){if(EQ(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await vJ(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:SJ});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(EQ(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){uJ(e);try{return await vJ(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:xJ})}catch(t){if(EQ(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){uJ(e);try{return await vJ(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:xJ})}catch(n){if(EQ(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];uJ(e);try{return await vJ(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:xJ})}catch(n){if(EQ(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){uJ(e.userId);try{const{data:t,error:n}=await vJ(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(EQ(t))return{data:null,error:t};throw t}}async _deleteFactor(e){uJ(e.userId),uJ(e.id);try{return{data:await vJ(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(EQ(t))return{data:null,error:t};throw t}}}function EJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const OJ=!!(globalThis&&$Q()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class CJ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TJ extends CJ{}async function DJ(e,t,n){OJ&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),OJ&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw OJ&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TJ('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(OJ)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(iZ){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",iZ)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}OJ&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{OJ&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(iZ){"undefined"!==typeof self&&(self.globalThis=self)}}();const PJ={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function AJ(e,t,n){return await n()}const IJ={};class MJ{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=MJ.nextInstanceID,MJ.nextInstanceID+=1,this.instanceID>0&&JQ()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},PJ),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new _J({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ZQ(r.fetch),this.lock=r.lock||AJ,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:JQ()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=DJ:this.lock=AJ,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:$Q()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EJ(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=EJ(this.memoryStorage)),JQ()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(iZ){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",iZ)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=IJ[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){IJ[this.storageKey]=Object.assign(Object.assign({},IJ[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=IJ[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){IJ[this.storageKey]=Object.assign(Object.assign({},IJ[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(bQ,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(iZ){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),JQ()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return EQ(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return EQ(t)?{error:t}:{error:new CQ("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await vJ(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yJ}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(EQ(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await sJ(this.storage,this.storageKey)),a=await vJ(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:yJ})}else{if(!("phone"in e))throw new AQ("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await vJ(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:yJ})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(EQ(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bJ})}else{if(!("phone"in e))throw new AQ("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:bJ})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new PQ}}catch(t){if(EQ(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,i,o,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(JQ())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:QQ(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:yJ});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new PQ}}catch(m){if(EQ(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await tJ(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yJ});if(await nJ(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new PQ}}catch(a){if(EQ(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yJ}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new PQ}}catch(t){if(EQ(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await sJ(this.storage,this.storageKey));const{error:s}=await vJ(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await vJ(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new AQ("You must provide either an email or phone number.")}catch(o){if(EQ(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await vJ(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:yJ});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(EQ(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await sJ(this.storage,this.storageKey)),await vJ(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:wJ})}catch(a){if(EQ(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new DQ;const{error:r}=await vJ(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(EQ(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await vJ(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await vJ(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new AQ("You must provide either an email or phone number and a type")}catch(t){if(EQ(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(iZ){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(iZ){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await tJ(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<wQ;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await tJ(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=dJ()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await vJ(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:xJ}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vJ(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:xJ}):{data:{user:null},error:new DQ}})}catch(t){if(EQ(t))return function(e){return EQ(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await nJ(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new DQ;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await sJ(this.storage,this.storageKey));const{data:l,error:c}=await vJ(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:xJ});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(EQ(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new DQ;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=aJ(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(EQ(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new DQ;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(EQ(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!JQ())throw new IQ("No browser detected.");if(e.error||e.error_description||e.error_code)throw new IQ(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new MQ("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new IQ("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new MQ("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new IQ("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=xQ&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(EQ(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await tJ(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return EQ(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await nJ(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await sJ(this.storage,this.storageKey,!0));try{return await vJ(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(EQ(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(EQ(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await vJ(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return JQ()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(EQ(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await vJ(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(EQ(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await function(e,t){return new Promise((n,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await e(a);if(!t(a,null,r))return void n(r)}catch(iZ){if(!t(a,iZ))return void r(iZ)}})()})}(async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await vJ(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:yJ})),(e,t)=>{const r=200*Math.pow(2,e);return t&&LQ(t)&&Date.now()+r-n<xQ})}catch(n){if(this._debug(t,"error",n),EQ(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),JQ()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await tJ(this.storage,this.storageKey);if(a&&this.userStorage){let t=await tJ(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await eJ(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:dJ()}else if(a&&!a.user&&!a.user){const e=await tJ(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await nJ(this.storage,this.storageKey+"-user"),await eJ(this.storage,this.storageKey,a)):a.user=dJ()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<wQ;if(this._debug(n,"session has".concat(i?"":" not"," expired with margin of ").concat(wQ,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),LQ(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new DQ;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new rJ;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new DQ;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),EQ(a)){const e={session:null,error:a};return LQ(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(iZ){r.push(iZ)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await eJ(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=hJ(e);await eJ(this.storage,this.storageKey,r)}else{const e=hJ(t);await eJ(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await nJ(this.storage,this.storageKey),await nJ(this.storage,this.storageKey+"-code-verifier"),await nJ(this.storage,this.storageKey+"-user"),this.userStorage&&await nJ(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&JQ()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(iZ){console.error("removing visibilitychange callback failed",iZ)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xQ);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/xQ);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(xQ,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(iZ){console.error("Auto refresh tick failed with error. This is likely a transient error.",iZ)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(iZ){if(!(iZ.isAcquireTimeout||iZ instanceof CJ))throw iZ;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!JQ()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await sJ(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vJ(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(EQ(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await vJ(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(EQ(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await vJ(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(EQ(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await vJ(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(EQ(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=aJ(r.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await vJ(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=aJ(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return YQ(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new FQ("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(EQ(n))return{data:null,error:n};throw n}}}MJ.nextInstanceID=0;const RJ=MJ;class LJ extends RJ{constructor(e){super(e)}}var zJ=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(iZ){i(iZ)}}function s(e){try{l(r.throw(e))}catch(iZ){i(iZ)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})};class FJ{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>yQ(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:dQ,realtime:fQ,auth:Object.assign(Object.assign({},hQ),{storageKey:c}),global:uQ});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=vQ(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ZY(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new lQ(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new XY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,storageKey:s,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new LJ({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:s,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zG(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UJ={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL,BJ={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY;UJ&&BJ&&"https://your-project.supabase.co"!==UJ&&"your-anon-key"!==BJ||(console.warn("\u26a0\ufe0f Variabili d'ambiente Supabase non configurate correttamente!"),console.warn("Configura REACT_APP_SUPABASE_URL e REACT_APP_SUPABASE_ANON_KEY nel file .env"));const VJ=((e,t,n)=>new FJ(e,t,n))(UJ||"https://placeholder.supabase.co",BJ||"placeholder-key"),qJ=async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ)return console.log("Usando localStorage come fallback per magazzino"),localStorage.setItem("magazzino",JSON.stringify(e)),e;const{data:t,error:n}=await VJ.from("magazzino").upsert(e,{onConflict:"sku"});if(n)throw n;return console.log("Magazzino salvato:",t),t}catch(t){return console.error("Errore nel salvare magazzino:",t),localStorage.setItem("magazzino",JSON.stringify(e)),e}},WJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per magazzino");const e=localStorage.getItem("magazzino");return e?JSON.parse(e):[]}const{data:e,error:t}=await VJ.from("magazzino").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log("Magazzino caricato:",e),e||[]}catch(e){console.error("Errore nel caricare magazzino:",e);const t=localStorage.getItem("magazzino");return t?JSON.parse(t):[]}},HJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per stock");const e=localStorage.getItem("stock");return e?JSON.parse(e):[]}const{data:e,error:t}=await VJ.from("stock").select("*").order("data_aggiornamento",{ascending:!1});if(t)throw t;return console.log("Stock caricato:",e),e||[]}catch(e){console.error("Errore nel caricare stock:",e);const t=localStorage.getItem("stock");return t?JSON.parse(t):[]}},KJ=async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per ordini");const t=JSON.parse(localStorage.getItem("ordini")||"[]"),n=t.findIndex(t=>t.numero_ordine===e.numero_ordine);return n>=0?t[n]=e:t.push(e),localStorage.setItem("ordini",JSON.stringify(t)),e}const{data:t,error:n}=await VJ.from("ordini").upsert(e,{onConflict:"numero_ordine"});if(n)throw n;return console.log("Ordine salvato:",t),t}catch(t){console.error("Errore nel salvare ordine:",t);const n=JSON.parse(localStorage.getItem("ordini")||"[]"),r=n.findIndex(t=>t.numero_ordine===e.numero_ordine);return r>=0?n[r]=e:n.push(e),localStorage.setItem("ordini",JSON.stringify(n)),e}},YJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per ordini");const e=localStorage.getItem("ordini");return e?JSON.parse(e):[]}const{data:e,error:t}=await VJ.from("ordini").select("*").order("data_ordine",{ascending:!1});if(t)throw t;return console.log("Ordini caricati:",e),e||[]}catch(e){console.error("Errore nel caricare ordini:",e);const t=localStorage.getItem("ordini");return t?JSON.parse(t):[]}},GJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per storico");const e=localStorage.getItem("storico");return e?JSON.parse(e):[]}const{data:e,error:t}=await VJ.from("storico").select("*").order("data",{ascending:!1});if(t)throw t;return console.log("Storico caricato:",e),e||[]}catch(e){console.error("Errore nel caricare storico:",e);const t=localStorage.getItem("storico");return t?JSON.parse(t):[]}},QJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per impostazioni");const e=localStorage.getItem("settings");return e?JSON.parse(e):{}}const{data:e,error:t}=await VJ.from("settings").select("*").single();if(t)throw t;return console.log("Impostazioni caricate:",e),e||{}}catch(e){console.error("Errore nel caricare impostazioni:",e);const t=localStorage.getItem("settings");return t?JSON.parse(t):{}}},JJ=async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per ordini fornitori");const t=JSON.parse(localStorage.getItem("supplier_orders")||"[]"),n=t.findIndex(t=>t.numero_ordine===e.numero_ordine);return n>=0?t[n]=e:t.push(e),localStorage.setItem("supplier_orders",JSON.stringify(t)),e}const{data:t,error:n}=await VJ.from("supplier_orders").upsert(e,{onConflict:"numero_ordine"});if(n)throw n;return console.log("Ordine fornitore salvato:",t),t}catch(t){console.error("Errore nel salvare ordine fornitore:",t);const n=JSON.parse(localStorage.getItem("supplier_orders")||"[]"),r=n.findIndex(t=>t.numero_ordine===e.numero_ordine);return r>=0?n[r]=e:n.push(e),localStorage.setItem("supplier_orders",JSON.stringify(n)),e}},XJ=async()=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per ordini fornitori");const e=localStorage.getItem("supplier_orders");return e?JSON.parse(e):[]}const{data:e,error:t}=await VJ.from("supplier_orders").select("*").order("data_ordine",{ascending:!1});if(t)throw t;return console.log("Ordini fornitori caricati:",e),e||[]}catch(e){console.error("Errore nel caricare ordini fornitori:",e);const t=localStorage.getItem("supplier_orders");return t?JSON.parse(t):[]}};const $J=new class{constructor(){this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{const e=await QJ();e&&0!==Object.keys(e).length||await(async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ)return console.log("Usando localStorage come fallback per impostazioni"),localStorage.setItem("settings",JSON.stringify(e)),e;const{data:t,error:n}=await VJ.from("settings").upsert(e,{onConflict:"id"});if(n)throw n;return console.log("Impostazioni salvate:",t),t}catch(t){return console.error("Errore nel salvare impostazioni:",t),localStorage.setItem("settings",JSON.stringify(e)),e}})({low_stock_threshold:10,currency:"EUR",date_format:"DD/MM/YYYY",company_name:"La Tua Azienda"}),this.isInitialized=!0,console.log("\u2705 DataManager inizializzato")}catch(e){console.error("\u274c Errore nell'inizializzazione del DataManager:",e)}}async saveProduct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modifica";try{await this.initialize();const n=await WJ(),r=Array.isArray(n)?n:[],a=r.findIndex(t=>t.sku===e.sku);let i=null;return a>=0?(i=l({},r[a]),r[a]=e,t="modifica"):(r.push(e),t="aggiunta"),await qJ(r),await this.addToStorico({tipo_azione:"aggiunta"===t?"aggiunta_prodotto":"modifica_prodotto",descrizione:"".concat("aggiunta"===t?"Aggiunto":"Modificato"," prodotto ").concat(e.sku," - ").concat(e.nome),dati_azione:{sku:e.sku,nome:e.nome,quantita:e.quantita,prezzo:e.prezzo,azione:t,prodotto_precedente:i,prodotto_nuovo:e}}),console.log("\u2705 Prodotto ".concat("aggiunta"===t?"aggiunto":"modificato",":"),e.sku),r}catch(n){throw console.error("\u274c Errore nel salvare prodotto:",n),n}}async deleteProduct(e){try{await this.initialize();const t=await WJ(),n=Array.isArray(t)?t:[],r=n.find(t=>t.sku===e);if(!r)throw new Error("Prodotto con SKU ".concat(e," non trovato"));const a=n.filter(t=>t.sku!==e);return await qJ(a),await this.addToStorico({tipo_azione:"eliminazione_prodotto",descrizione:"Eliminato prodotto ".concat(e," - ").concat(r.nome),dati_azione:{sku:e,nome:r.nome,prodotto_eliminato:r}}),console.log("\u2705 Prodotto eliminato:",e),a}catch(t){throw console.error("\u274c Errore nell'eliminare prodotto:",t),t}}async updateProductQuantity(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"aggiornamento manuale";try{await this.initialize();const r=await WJ(),a=Array.isArray(r)?r:[],i=a.findIndex(t=>t.sku===e);if(-1===i)throw new Error("Prodotto con SKU ".concat(e," non trovato"));const o=l({},a[i]).quantita;return a[i].quantita=t,await qJ(a),await this.addStockMovement({sku:e,tipo_movimento:t>o?"entrata":"uscita",quantita:Math.abs(t-o),quantita_precedente:o,quantita_attuale:t,motivo:n}),await this.addToStorico({tipo_azione:"aggiornamento_quantita",descrizione:"Aggiornata quantit\xe0 prodotto ".concat(e," da ").concat(o," a ").concat(t),dati_azione:{sku:e,quantita_precedente:o,quantita_nuova:t,differenza:t-o,motivo:n}}),console.log("\u2705 Quantit\xe0 aggiornata per ".concat(e,": ").concat(o," \u2192 ").concat(t)),a}catch(r){throw console.error("\u274c Errore nell'aggiornare quantit\xe0:",r),r}}async addStockMovement(e){try{await this.initialize();const t=await HJ(),n=Array.isArray(t)?t:[],r=l(l({},e),{},{data_aggiornamento:(new Date).toISOString()});return n.push(r),await(async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ)return console.log("Usando localStorage come fallback per stock"),localStorage.setItem("stock",JSON.stringify(e)),e;const{data:t,error:n}=await VJ.from("stock").upsert(e,{onConflict:"sku"});if(n)throw n;return console.log("Stock salvato:",t),t}catch(t){return console.error("Errore nel salvare stock:",t),localStorage.setItem("stock",JSON.stringify(e)),e}})(n),console.log("\u2705 Movimento stock registrato:",e.sku),n}catch(t){throw console.error("\u274c Errore nel registrare movimento stock:",t),t}}async addToStorico(e){try{await this.initialize();const t=await GJ(),n=Array.isArray(t)?t:[],r=l(l({},e),{},{data:(new Date).toISOString(),utente:"sistema"});return n.push(r),await(async e=>{try{if(!UJ||"https://your-project.supabase.co"===UJ){console.log("Usando localStorage come fallback per storico");const t=JSON.parse(localStorage.getItem("storico")||"[]");return t.push(e),localStorage.setItem("storico",JSON.stringify(t)),e}const{data:t,error:n}=await VJ.from("storico").insert(e);if(n)throw n;return console.log("Storico salvato:",t),t}catch(t){console.error("Errore nel salvare storico:",t);const n=JSON.parse(localStorage.getItem("storico")||"[]");return n.push(e),localStorage.setItem("storico",JSON.stringify(n)),e}})(n),console.log("\u2705 Voce storico registrata:",e.tipo_azione),n}catch(t){throw console.error("\u274c Errore nel registrare storico:",t),t}}async saveOrder(e){try{await this.initialize();const t=await YJ(),n=Array.isArray(t)?t:[],r=n.findIndex(t=>t.numero_ordine===e.numero_ordine);let a=null;return r>=0?(a=l({},n[r]),n[r]=e):n.push(e),await KJ(e),await this.addToStorico({tipo_azione:r>=0?"modifica_ordine":"nuovo_ordine",descrizione:"".concat(r>=0?"Modificato":"Creato"," ordine ").concat(e.numero_ordine),dati_azione:{numero_ordine:e.numero_ordine,cliente:e.cliente,totale:e.totale,ordine_precedente:a,ordine_nuovo:e}}),console.log("\u2705 Ordine ".concat(r>=0?"modificato":"creato",":"),e.numero_ordine),n}catch(t){throw console.error("\u274c Errore nel salvare ordine:",t),t}}async saveSupplierOrder(e){try{await this.initialize();const t=await XJ(),n=Array.isArray(t)?t:[],r=n.findIndex(t=>t.numero_ordine===e.numero_ordine);let a=null;return r>=0?(a=l({},n[r]),n[r]=e):n.push(e),await JJ(e),await this.addToStorico({tipo_azione:r>=0?"modifica_ordine_fornitore":"nuovo_ordine_fornitore",descrizione:"".concat(r>=0?"Modificato":"Creato"," ordine fornitore ").concat(e.numero_ordine),dati_azione:{numero_ordine:e.numero_ordine,fornitore:e.fornitore,totale:e.totale,ordine_precedente:a,ordine_nuovo:e}}),console.log("\u2705 Ordine fornitore ".concat(r>=0?"modificato":"creato",":"),e.numero_ordine),n}catch(t){throw console.error("\u274c Errore nel salvare ordine fornitore:",t),t}}async loadAllData(){try{await this.initialize();const[e,t,n,r,a,i]=await Promise.all([WJ(),HJ(),YJ(),GJ(),QJ(),XJ()]);return{magazzino:Array.isArray(e)?e:[],stock:Array.isArray(t)?t:[],ordini:Array.isArray(n)?n:[],storico:Array.isArray(r)?r:[],settings:a||{},supplierOrders:Array.isArray(i)?i:[]}}catch(e){throw console.error("\u274c Errore nel caricare tutti i dati:",e),e}}async getSystemStats(){try{const e=await this.loadAllData(),t=e.magazzino.length,n=e.magazzino.reduce((e,t)=>e+t.prezzo*t.quantita,0),r=e.magazzino.reduce((e,t)=>e+t.quantita,0),a=e.magazzino.filter(t=>t.quantita<=(e.settings.low_stock_threshold||10)).length,i=e.magazzino.filter(e=>0===e.quantita).length,o=e.ordini.length,s=e.supplierOrders.length,l=e.stock.length;return{totalProducts:t,totalValue:n,totalQuantity:r,lowStockItems:a,outOfStockItems:i,totalOrders:o,totalSupplierOrders:s,totalMovements:l,totalHistoryEntries:e.storico.length}}catch(e){throw console.error("\u274c Errore nel calcolare statistiche:",e),e}}async saveLargeData(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;try{await this.initialize();const r=JSON.stringify(t);if(r.length<5e6)return void localStorage.setItem(e,r);const a=[];for(let e=0;e<t.length;e+=n)a.push(t.slice(e,e+n));localStorage.setItem("".concat(e,"_chunks"),JSON.stringify(a.length)),a.forEach((t,n)=>{localStorage.setItem("".concat(e,"_chunk_").concat(n),JSON.stringify(t))}),localStorage.setItem("".concat(e,"_metadata"),JSON.stringify({totalItems:t.length,chunkCount:a.length,chunkSize:n,lastUpdated:(new Date).toISOString()})),console.log("\u2705 Dati salvati in ".concat(a.length," chunk per ").concat(e))}catch(r){throw console.error("\u274c Errore nel salvare dati grandi:",r),r}}async loadLargeData(e){try{await this.initialize();const t=localStorage.getItem(e);if(t)return JSON.parse(t);const n=localStorage.getItem("".concat(e,"_metadata"));if(!n)return[];const r=JSON.parse(n).chunkCount,a=[];for(let i=0;i<r;i++){const t=localStorage.getItem("".concat(e,"_chunk_").concat(i));if(t){const e=JSON.parse(t);a.push(...e)}}return console.log("\u2705 Dati caricati da ".concat(r," chunk per ").concat(e)),a}catch(t){return console.error("\u274c Errore nel caricare dati grandi:",t),[]}}async cleanupOldData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{await this.initialize();const n=localStorage.getItem("".concat(e,"_metadata"));if(!n)return;const r=JSON.parse(n),a=new Date(r.lastUpdated);if((new Date-a)/864e5>t){for(let t=0;t<r.chunkCount;t++)localStorage.removeItem("".concat(e,"_chunk_").concat(t));localStorage.removeItem("".concat(e,"_chunks")),localStorage.removeItem("".concat(e,"_metadata")),console.log("\u2705 Dati vecchi rimossi per ".concat(e))}}catch(n){console.error("\u274c Errore nella pulizia dati:",n)}}},ZJ=Dt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eX=Dt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tX=Dt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),nX=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),[u,d]=(0,t.useState)({count:0,page:1,active:!1}),[h,f]=(0,t.useState)("date"),[p,m]=(0,t.useState)({startDate:(0,oY.default)((0,dY.default)(new Date,-30)),endDate:(0,sY.default)(new Date),key:"selection"}),[g,v]=(0,t.useState)("00:00"),[y,b]=(0,t.useState)("23:59"),[x,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(""),[j,N]=(0,t.useState)("all"),[_,E]=(0,t.useState)("all"),[O,C]=(0,t.useState)("all"),[T,D]=(0,t.useState)([]),[P,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const t=await(e="shopify_orders",$J.loadLargeData(e));n(t),console.log("\u2705 Caricati ".concat(t.length," ordini da localStorage")),0===t.length?(console.log("\ud83d\udd04 Nessun ordine in locale, avvio sincronizzazione automatica..."),await M(!0)):(console.log("\ud83d\udd04 Ordini presenti in locale, sincronizzazione incrementale..."),await M(!1)),await((e,t)=>$J.cleanupOldData(e,t))("shopify_orders",30)}catch(i){console.error("Errore nel caricare ordini:",i),n([]);try{console.log("\ud83d\udd04 Tentativo di sincronizzazione dopo errore..."),await M(!0)}catch(t){console.error("Errore anche nella sincronizzazione:",t),o("Errore nel caricamento ordini. Verifica la configurazione Shopify.")}}var e})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=await q();D(e)}catch(i){console.error("Errore nel caricare tipologie:",i),D([])}})()},[]);const I=async e=>{try{await((e,t,n)=>$J.saveLargeData(e,t,n))("shopify_orders",e,500)}catch(i){console.error("Errore nel salvare ordini nel database:",i)}n(e),window.dispatchEvent(new CustomEvent("dashboard-update"))},M=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(!0),o(""),c(""),d({count:0,page:1,active:!0});try{const n=0===e.length,r=n||t?null:7,a=await qY(50,"open",(e,t)=>{d({count:e,page:t,active:!0})},r),i=(Array.isArray(a)?a:[]).map(WY),o=e,s=i.filter(e=>!o.some(t=>t.id===e.id)),l=i.filter(e=>{const t=o.find(t=>t.id===e.id);return t&&JSON.stringify(t)!==JSON.stringify(e)}),u=[...o.filter(e=>!i.some(t=>t.id===e.id)),...i];I(u);let h="";h=t?"Sincronizzazione completa completata! Scaricati ".concat(i.length," ordini totali."):n?"Prima sincronizzazione completata! Scaricati ".concat(i.length," ordini totali."):s.length>0&&l.length>0?"Sincronizzati ".concat(s.length," nuovi ordini e aggiornati ").concat(l.length," ordini esistenti!"):s.length>0?"Sincronizzati ".concat(s.length," nuovi ordini da Shopify!"):l.length>0?"Aggiornati ".concat(l.length," ordini esistenti!"):"Nessun nuovo ordine trovato negli ultimi 7 giorni.",c(h)}catch(n){o(n.message)}finally{a(!1),d({count:0,page:1,active:!1})}},R=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),L=(e,t)=>{const[n,r]=t.split(":").map(Number);return(0,mY.default)((0,gY.default)((0,vY.default)(e,n),r),0)},z=async()=>{let t=e;"all"!==_&&(t=t.filter(e=>e.status===_));const n=L(p.startDate,g),r=L(p.endDate,y);if(t=t.filter(e=>{const t=new Date(e.createdAt);return t>=n&&t<=r}),k&&(t=t.filter(e=>{var t;return!!ar(null===(t=e.orderNumber)||void 0===t?void 0:t.toString(),k)||e.items.some(e=>e.sku&&ar(e.sku,k))})),"all"!==j)try{const e=await Nk();t=t.filter(t=>t.items.some(t=>{if(!e.find(e=>e.sku===t.sku))return!1;return(localStorage.getItem("tipologia_".concat(t.sku))||"")===j}))}catch(i){console.error("Errore nel caricare magazzino per filtri:",i)}return"all"!==O&&(t=t.filter(e=>e.items.some(e=>ar(e.name,O)))),t.sort((e,t)=>{switch(h){case"date":return new Date(t.createdAt)-new Date(e.createdAt);case"amount":return t.totalPrice-e.totalPrice;case"status":return e.status.localeCompare(t.status);default:return 0}}),t},[F,U]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{const e=await z();U(e)})()},[e,_,p,g,y,k,j,O,h]);const B=e=>{switch(e){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=e=>{switch(e){case"paid":return"Pagato";case"pending":return"In attesa";case"refunded":return"Rimborsato";default:return e}},q=async()=>{const e=new Set;try{const t=await Nk();(Array.isArray(t)?t:[]).forEach(t=>{const n=localStorage.getItem("tipologia_".concat(t.sku));n&&e.add(n)})}catch(i){console.error("Errore nel caricare magazzino per tipologie:",i)}return Array.from(e).sort()},W=()=>{if(!k){const e=F.filter(e=>e.shippingPrice>0),t=e.reduce((e,t)=>e+t.shippingPrice,0);return{totalOrders:F.length,totalValue:F.reduce((e,t)=>e+t.totalPrice,0),totalProducts:F.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),totalInvoices:F.length,paidOrders:F.filter(e=>"paid"===e.status).length,pendingOrders:F.filter(e=>"pending"===e.status).length,paidShippingOrders:e.length,shippingRevenue:t,freeShippingOrders:F.filter(e=>0===e.shippingPrice).length,avgShippingCost:e.length>0?t/e.length:0}}const e=(Array.isArray(F)?F:[]).flatMap(e=>e.items.filter(t=>{var n;return!!ar(null===(n=e.orderNumber)||void 0===n?void 0:n.toString(),k)||t.sku&&ar(t.sku,k)}).map(t=>l(l({},t),{},{orderNumber:e.orderNumber,orderDate:e.createdAt,orderStatus:e.status,orderTotal:e.totalPrice,shippingPrice:e.shippingPrice}))),t={};(Array.isArray(e)?e:[]).forEach(e=>{t[e.sku]||(t[e.sku]={sku:e.sku,name:e.name,totalQuantity:0,totalValue:0,orders:new Set,orderStatuses:new Set}),t[e.sku].totalQuantity+=e.quantity,t[e.sku].totalValue+=e.price*e.quantity,t[e.sku].orders.add(e.orderNumber),t[e.sku].orderStatuses.add(e.orderStatus)});const n=Object.values(t),r=new Set((Array.isArray(e)?e:[]).map(e=>e.orderNumber)).size,a=n.reduce((e,t)=>e+t.totalValue,0),i=n.reduce((e,t)=>e+t.totalQuantity,0),o=(Array.isArray(e)?e:[]).filter(e=>"paid"===e.orderStatus).length,s=(Array.isArray(e)?e:[]).filter(e=>"pending"===e.orderStatus).length,c=(Array.isArray(F)?F:[]).filter(e=>{var t;return ar(null===(t=e.orderNumber)||void 0===t?void 0:t.toString(),k)||e.items.some(e=>e.sku&&ar(e.sku,k))}),u=c.filter(e=>e.shippingPrice>0),d=u.reduce((e,t)=>e+t.shippingPrice,0);return{totalOrders:r,totalValue:a,totalProducts:i,totalInvoices:r,paidOrders:o,pendingOrders:s,paidShippingOrders:u.length,shippingRevenue:d,freeShippingOrders:c.filter(e=>0===e.shippingPrice).length,avgShippingCost:u.length>0?d/u.length:0}};return(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-2xl font-bold",children:"Ordini"}),(0,or.jsx)("p",{className:"text-muted-foreground",children:"Gestisci e visualizza tutti gli ordini da Shopify"})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)(tY,{onClick:()=>M(!0),disabled:r,className:"bg-blue-600 hover:bg-blue-700",children:[(0,or.jsx)(ZJ,{className:"w-4 h-4 mr-2 ".concat(r?"animate-spin":"")}),r?"Sincronizzazione...":"Risincronizza Tutti"]}),(0,or.jsxs)(tY,{onClick:()=>M(!1),disabled:r,variant:"outline",children:[(0,or.jsx)(PY,{className:"w-4 h-4 mr-2"}),r?"Sincronizzazione...":"Sincronizza Ultimi 7 giorni"]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Sincronizzazione Shopify"}),(0,or.jsx)(kk,{children:"Importa automaticamente gli ordini dal tuo store Shopify"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)("button",{onClick:()=>M(!1),disabled:r,className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded font-semibold disabled:opacity-50",children:[r?(0,or.jsx)(ZJ,{className:"h-4 w-4 animate-spin"}):(0,or.jsx)(PY,{className:"h-4 w-4"}),r?"Sincronizzazione...":"Sincronizza Recenti"]}),(0,or.jsxs)("button",{onClick:()=>{window.confirm("Sicuro di voler scaricare tutti gli ordini? Questo pu\xf2 richiedere molto tempo.")&&M(!0)},disabled:r,className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded font-semibold disabled:opacity-50",children:[(0,or.jsx)(PY,{className:"h-4 w-4"}),"Sincronizza Tutto"]})]}),u.active&&(0,or.jsxs)("div",{className:"mt-2 text-blue-600 font-medium",children:["Scaricati ",u.count," ordini... (pagina ",u.page,")"]}),s&&(0,or.jsx)("div",{className:"mt-2 text-green-600 font-medium",children:s}),i&&(0,or.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-red-600",children:[(0,or.jsx)(eX,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:i})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(tX,{className:"h-5 w-5"}),"Filtri"]}),(0,or.jsx)(kk,{children:"Filtra ordini per data, status, tipologia e profumo"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Intervallo date:"}),(0,or.jsxs)("button",{className:"px-3 py-2 border rounded bg-white hover:bg-gray-50",onClick:()=>A(!P),children:[p.startDate.toLocaleDateString("it-IT")," \u2192 ",p.endDate.toLocaleDateString("it-IT")]}),P&&(0,or.jsxs)("div",{className:"absolute z-50 mt-2 shadow-lg bg-white border rounded-lg p-4",children:[(0,or.jsx)(zk.ad,{editableDateInputs:!0,onChange:e=>m(e.selection),moveRangeOnFirstSelection:!1,ranges:[p],maxDate:new Date,locale:eS,months:1,direction:"horizontal"}),(0,or.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(ur,{className:"h-4 w-4"}),(0,or.jsx)("label",{className:"text-sm",children:"Ora inizio:"}),(0,or.jsx)("input",{type:"time",value:g,onChange:e=>v(e.target.value),className:"px-2 py-1 border rounded text-sm"})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm",children:"Ora fine:"}),(0,or.jsx)("input",{type:"time",value:y,onChange:e=>b(e.target.value),className:"px-2 py-1 border rounded text-sm"})]})]}),(0,or.jsx)("button",{className:"mt-2 px-4 py-2 bg-primary text-primary-foreground rounded",onClick:()=>A(!1),children:"Applica"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Status:"}),(0,or.jsxs)("select",{value:_,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border rounded",children:[(0,or.jsx)("option",{value:"all",children:"Tutti"}),(0,or.jsx)("option",{value:"paid",children:"Pagati"}),(0,or.jsx)("option",{value:"pending",children:"In attesa"}),(0,or.jsx)("option",{value:"refunded",children:"Rimborsati"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tipologia:"}),(0,or.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border rounded",children:[(0,or.jsx)("option",{value:"all",children:"Tutte"}),T.map(e=>(0,or.jsx)("option",{value:e,children:e},e))]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Profumo:"}),(0,or.jsxs)("select",{value:O,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border rounded",children:[(0,or.jsx)("option",{value:"all",children:"Tutti"}),(0,or.jsx)("option",{value:"vanilla",children:"Vanilla"}),(0,or.jsx)("option",{value:"rose",children:"Rose"}),(0,or.jsx)("option",{value:"lavender",children:"Lavender"}),(0,or.jsx)("option",{value:"musk",children:"Musk"}),(0,or.jsx)("option",{value:"citrus",children:"Citrus"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ordina per:"}),(0,or.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border rounded",children:[(0,or.jsx)("option",{value:"date",children:"Data"}),(0,or.jsx)("option",{value:"amount",children:"Importo"}),(0,or.jsx)("option",{value:"status",children:"Status"})]})]})]}),(0,or.jsxs)("div",{className:"mt-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ricerca:"}),(0,or.jsx)("input",{type:"text",placeholder:"Cerca per numero ordine o SKU...",value:k,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border rounded"}),(0,or.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Cerca per numero ordine (es: #1001) o codice SKU del prodotto"})]})]})]}),e.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Lt,{className:"h-5 w-5"}),"Statistiche Generali",k&&(0,or.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:['(filtrate per: "',k,'")']})]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:W().totalOrders}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Totale Ordini"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R(W().totalValue)}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Valore Totale"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:W().totalProducts}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Totale Prodotti"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W().paidOrders}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pagati"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:W().pendingOrders}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"In Attesa"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:W().paidShippingOrders}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Con Spedizione"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-700",children:W().freeShippingOrders}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Spedizione Gratuita"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:R(W().shippingRevenue)}),(0,or.jsx)("div",{className:"text-sm text-muted-foreground",children:"Incasso Spedizioni"})]})]}),(0,or.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,or.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"\ud83d\udce6 Riepilogo Spedizioni:"}),(0,or.jsx)("div",{className:"text-xs text-blue-700",children:W().totalOrders>0&&(0,or.jsx)(or.Fragment,{children:W().paidShippingOrders>0?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("span",{className:"font-medium",children:[(W().paidShippingOrders/W().totalOrders*100).toFixed(1),"%"]})," degli ordini ha una spedizione a pagamento, generando ",(0,or.jsx)("span",{className:"font-medium",children:R(W().shippingRevenue)})," di ricavi aggiuntivi (",W().totalValue>0?(W().shippingRevenue/W().totalValue*100).toFixed(1):0,"% del valore totale).",W().paidShippingOrders>0&&(0,or.jsxs)(or.Fragment,{children:[" Media costo spedizione: ",(0,or.jsx)("span",{className:"font-medium",children:R(W().avgShippingCost)})]})]}):(0,or.jsx)(or.Fragment,{children:"Tutti gli ordini hanno spedizione gratuita. Considera di implementare costi di spedizione per aumentare i ricavi."})})})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Lista Ordini"}),(0,or.jsxs)(kk,{children:[F.length," ordini trovati tra ",p.startDate.toLocaleDateString("it-IT")," ",g," e ",p.endDate.toLocaleDateString("it-IT")," ",y]})]}),(0,or.jsx)(Sk,{children:0===F.length?(0,or.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Nessun ordine trovato per il periodo selezionato."}):(0,or.jsx)("div",{className:"space-y-4",children:(Array.isArray(F)?F:[]).map(e=>{return(0,or.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h3",{className:"font-semibold text-blue-600 hover:text-blue-800 cursor-pointer transition-colors",onClick:()=>window.location.href="/ordini/".concat(e.id),title:"Clicca per vedere i dettagli dell'ordine",children:["Ordine #",e.orderNumber]}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Cliente: ",e.customerName]})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsx)("p",{className:"font-semibold",children:R(e.totalPrice)}),(0,or.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(B(e.status)),children:V(e.status)})]})]}),(0,or.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Data: ",(t=e.createdAt,new Date(t).toLocaleDateString("it-IT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),(0,or.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,or.jsxs)("div",{className:"text-muted-foreground",children:["Spedizione: ",e.shippingType||"Standard"]}),(0,or.jsx)("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(e.shippingPrice>0?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:e.shippingPrice>0?"\ud83d\udcb0 ".concat(e.shippingPrice.toFixed(2)," ").concat(e.currency):"\ud83c\udd93 Gratuita"})]}),(Array.isArray(e.items)?e.items:[]).length>0&&(0,or.jsxs)("div",{className:"border-t pt-3",children:[(0,or.jsx)("h4",{className:"font-medium mb-2",children:"Prodotti:"}),(0,or.jsx)("div",{className:"space-y-1",children:(Array.isArray(e.items)?e.items:[]).map((e,t)=>(0,or.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,or.jsxs)("span",{children:[e.name," (SKU: ",e.sku||"N/A",")"]}),(0,or.jsxs)("span",{children:[e.quantity,"x ",R(e.price)]})]},t))})]})]},e.id);var t})})})]}),k&&F.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{children:"Prodotti Venduti"}),(0,or.jsxs)(kk,{children:['Prodotti trovati per la ricerca: "',k,'"']})]}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"space-y-2",children:(()=>{const e={};return(Array.isArray(F)?F:[]).flatMap(e=>e.items.filter(t=>{var n;return!!ar(null===(n=e.orderNumber)||void 0===n?void 0:n.toString(),k)||t.sku&&ar(t.sku,k)}).map(t=>l(l({},t),{},{orderNumber:e.orderNumber,orderDate:e.createdAt,orderStatus:e.status}))).forEach(t=>{e[t.sku]||(e[t.sku]={sku:t.sku,name:t.name,totalQuantity:0,totalValue:0,orders:new Set,orderStatuses:new Set}),e[t.sku].totalQuantity+=t.quantity,e[t.sku].totalValue+=t.price*t.quantity,e[t.sku].orders.add(t.orderNumber),e[t.sku].orderStatuses.add(t.orderStatus)}),Object.values(e).map((e,t)=>(0,or.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"font-medium",children:e.name}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku," | ",e.orders.size," ordini"]})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsxs)("p",{className:"font-semibold",children:[e.totalQuantity,"x ",R(e.totalValue/e.totalQuantity)]}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Totale: ",R(e.totalValue)]})]})]},t))})()})})]})]})},rX=Dt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),aX=()=>{const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)("");(0,t.useEffect)(()=>{(()=>{try{const e=window.location.pathname.split("/"),t=e[e.length-1];console.log("OrderDetailPage - URL pathname:",window.location.pathname),console.log("OrderDetailPage - Extracted orderId:",t);const r=localStorage.getItem("shopify_orders");if(!r)return o("Nessun ordine trovato"),void a(!1);const i=JSON.parse(r);console.log("OrderDetailPage - Total orders in localStorage:",i.length),console.log("OrderDetailPage - First few orders:",i.slice(0,3));const s=parseInt(t,10);console.log("OrderDetailPage - Looking for order with ID:",s);let l=i.find(e=>e.id===s);if(l||(console.log("OrderDetailPage - Order not found by ID, trying orderNumber..."),l=i.find(e=>e.orderNumber.toString()===t)),!l)return console.log("OrderDetailPage - Order not found. Available IDs:",i.map(e=>e.id).slice(0,10)),console.log("OrderDetailPage - Available orderNumbers:",i.map(e=>e.orderNumber).slice(0,10)),o("Ordine non trovato"),void a(!1);console.log("OrderDetailPage - Found order:",l),n(l)}catch(e){console.error("OrderDetailPage - Error loading order:",e),o("Errore nel caricamento dell'ordine")}finally{a(!1)}})()},[]);const s=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return r?(0,or.jsx)("div",{className:"container mx-auto p-6",children:(0,or.jsxs)("div",{className:"text-center py-8",children:[(0,or.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,or.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Caricamento ordine..."})]})}):i?(0,or.jsx)("div",{className:"container mx-auto p-6",children:(0,or.jsxs)("div",{className:"text-center py-8",children:[(0,or.jsx)("p",{className:"text-red-600",children:i}),(0,or.jsxs)(tY,{onClick:()=>window.history.back(),className:"mt-4",variant:"outline",children:[(0,or.jsx)(rX,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]})]})}):e?(0,or.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsxs)(tY,{onClick:()=>window.history.back(),variant:"outline",size:"sm",children:[(0,or.jsx)(rX,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]}),(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-2xl font-bold",children:["Ordine #",e.orderNumber]}),(0,or.jsxs)("p",{className:"text-muted-foreground",children:["Creato il ",(l=e.createdAt,(0,lY.default)(new Date(l),"dd MMMM yyyy HH:mm",{locale:eS}))]})]})]}),(0,or.jsx)("div",{className:"flex gap-2",children:(0,or.jsxs)(tY,{variant:"outline",size:"sm",children:[(0,or.jsx)(PY,{className:"w-4 h-4 mr-2"}),"Esporta"]})})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,or.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(It,{className:"w-5 h-5"}),"Stato Ordine"]})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stato Pagamento"}),(0,or.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}})(e.status)),children:(e=>{switch(e){case"paid":return"Pagato";case"pending":return"In Attesa";case"cancelled":return"Cancellato";case"refunded":return"Rimborsato";default:return e}})(e.status)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Stato Spedizione"}),(0,or.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"fulfilled":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unfulfilled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.fulfillmentStatus)),children:(e=>{switch(e){case"fulfilled":return"Spedito";case"partial":return"Parzialmente Spedito";case"unfulfilled":return"Non Spedito";default:return e||"Non Spedito"}})(e.fulfillmentStatus)})]})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(dr,{className:"w-5 h-5"}),"Informazioni Cliente"]})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nome Completo"}),(0,or.jsx)("p",{className:"font-medium",children:e.customerName||"Non specificato"})]}),e.customerEmail&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,or.jsx)("p",{className:"font-medium",children:e.customerEmail})]}),e.customerPhone&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Telefono"}),(0,or.jsx)("p",{className:"font-medium",children:e.customerPhone})]}),e.customerFirstName&&e.customerLastName&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nome e Cognome"}),(0,or.jsxs)("p",{className:"font-medium",children:[e.customerFirstName," ",e.customerLastName]})]})]}),e.shippingAddress&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Indirizzo di Spedizione Completo"}),(0,or.jsxs)("div",{className:"bg-gray-50 p-3 rounded border text-sm space-y-1",children:[e.shippingAddress.name&&(0,or.jsxs)("p",{className:"font-medium",children:["\ud83d\udccb ",e.shippingAddress.name]}),e.shippingAddress.address1&&(0,or.jsxs)("p",{children:["\ud83d\udccd ",e.shippingAddress.address1]}),e.shippingAddress.address2&&(0,or.jsxs)("p",{children:["\ud83d\udccd ",e.shippingAddress.address2]}),(e.shippingAddress.city||e.shippingAddress.province||e.shippingAddress.zip)&&(0,or.jsxs)("p",{children:["\ud83c\udfd9\ufe0f ",e.shippingAddress.city||""," ",e.shippingAddress.province||""," ",e.shippingAddress.zip||""]}),e.shippingAddress.country&&(0,or.jsxs)("p",{children:["\ud83c\udf0d ",e.shippingAddress.country]}),e.shippingAddress.phone&&(0,or.jsxs)("p",{children:["\ud83d\udcde ",e.shippingAddress.phone]}),e.shippingAddress.email&&(0,or.jsxs)("p",{children:["\ud83d\udce7 ",e.shippingAddress.email]})]})]}),e.billingAddress&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Indirizzo di Fatturazione"}),(0,or.jsxs)("div",{className:"bg-blue-50 p-3 rounded border text-sm space-y-1",children:[e.billingAddress.name&&(0,or.jsxs)("p",{className:"font-medium",children:["\ud83d\udccb ",e.billingAddress.name]}),e.billingAddress.address1&&(0,or.jsxs)("p",{children:["\ud83d\udccd ",e.billingAddress.address1]}),e.billingAddress.address2&&(0,or.jsxs)("p",{children:["\ud83d\udccd ",e.billingAddress.address2]}),(e.billingAddress.city||e.billingAddress.province||e.billingAddress.zip)&&(0,or.jsxs)("p",{children:["\ud83c\udfd9\ufe0f ",e.billingAddress.city||""," ",e.billingAddress.province||""," ",e.billingAddress.zip||""]}),e.billingAddress.country&&(0,or.jsxs)("p",{children:["\ud83c\udf0d ",e.billingAddress.country]}),e.billingAddress.phone&&(0,or.jsxs)("p",{children:["\ud83d\udcde ",e.billingAddress.phone]}),e.billingAddress.email&&(0,or.jsxs)("p",{children:["\ud83d\udce7 ",e.billingAddress.email]})]})]})]})})]}),(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,or.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,or.jsx)(Rt,{className:"w-5 h-5 mr-2"}),"Informazioni di Spedizione"]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo di Spedizione"}),(0,or.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded border",children:e.shippingType||"Standard"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Corriere"}),(0,or.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded border",children:e.shippingCarrier||"N/A"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Costo Spedizione"}),(0,or.jsx)("div",{className:"text-sm px-3 py-2 rounded border ".concat(e.shippingPrice>0?"text-gray-900 bg-gray-50":"text-green-700 bg-green-50 border-green-200"),children:e.shippingPrice>0?"".concat(e.shippingPrice.toFixed(2)," ").concat(e.currency):"\ud83c\udd93 Gratuita"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stato Pagamento"}),(0,or.jsx)("div",{className:"text-sm px-3 py-2 rounded border ".concat("paid"===e.status?"text-green-700 bg-green-50 border-green-200":"pending"===e.status?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-900 bg-gray-50"),children:"paid"===e.status?"\u2705 Pagato":"pending"===e.status?"\u23f3 In attesa":"refunded"===e.status?"\ud83d\udd04 Rimborsato":e.status})]})]}),e.note&&(0,or.jsxs)("div",{className:"mt-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note dell'Ordine"}),(0,or.jsx)("div",{className:"bg-yellow-50 p-3 rounded border text-sm",children:(0,or.jsx)("div",{className:"text-gray-800",children:e.note})})]}),e.shippingLines&&(Array.isArray(e.shippingLines)?e.shippingLines:[]).length>0&&(0,or.jsxs)("div",{className:"mt-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dettagli Spedizione"}),(0,or.jsx)("div",{className:"space-y-2",children:(Array.isArray(e.shippingLines)?e.shippingLines:[]).map((t,n)=>(0,or.jsxs)("div",{className:"bg-gray-50 p-3 rounded border text-sm",children:[(0,or.jsx)("div",{className:"font-medium",children:t.title}),(0,or.jsxs)("div",{className:"text-gray-600",children:["Prezzo: ",parseFloat(t.price||0).toFixed(2)," ",e.currency]}),t.carrier_identifier&&(0,or.jsxs)("div",{className:"text-gray-600",children:["Corriere: ",t.carrier_identifier]}),t.code&&(0,or.jsxs)("div",{className:"text-gray-600",children:["Codice: ",t.code]})]},n))})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(It,{className:"w-5 h-5"}),"Prodotti (",e.items.length,")"]})}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"space-y-4",children:(Array.isArray(e.items)?e.items:[]).map((e,t)=>(0,or.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,or.jsx)("div",{className:"flex-1",children:(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,or.jsx)(It,{className:"w-6 h-6 text-gray-500"})}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium",children:e.name}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku||"N/A"]}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Quantit\xe0: ",e.quantity]})]})]})}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsx)("p",{className:"font-semibold",children:s(e.price)}),(0,or.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Totale: ",s(e.price*e.quantity)]})]})]},t))})})]}),(0,or.jsx)("div",{className:"mt-8",children:(0,or.jsxs)("details",{children:[(0,or.jsx)("summary",{className:"cursor-pointer font-mono text-xs text-gray-500 mb-2",children:"Mostra dati JSON grezzi dell'ordine"}),(0,or.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-x-auto border mt-2",style:{maxHeight:400},children:JSON.stringify(e._rawShopifyOrder||e.rawShopifyOrder||e,null,2)})]})})]}),(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Riepilogo"})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{children:"Subtotale Prodotti"}),(0,or.jsx)("span",{children:s(e.totalPrice-e.shippingPrice-e.taxPrice)})]}),e.shippingPrice>0&&(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{children:"Spedizione"}),(0,or.jsx)("span",{children:s(e.shippingPrice)})]}),e.taxPrice>0&&(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{children:"Tasse"}),(0,or.jsx)("span",{children:s(e.taxPrice)})]}),(0,or.jsx)("div",{className:"border-t pt-3",children:(0,or.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,or.jsx)("span",{children:"Totale"}),(0,or.jsx)("span",{children:s(e.totalPrice)})]})})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Informazioni Aggiuntive"})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"ID Ordine Shopify"}),(0,or.jsx)("p",{className:"font-mono text-sm",children:e.id})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nome Ordine"}),(0,or.jsx)("p",{className:"font-medium",children:e.name})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Valuta"}),(0,or.jsx)("p",{className:"font-medium",children:e.currency})]}),e.note&&(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-muted-foreground",children:"Note"}),(0,or.jsx)("p",{className:"text-sm",children:e.note})]})]})})]})]})]})]}):(0,or.jsx)("div",{className:"container mx-auto p-6",children:(0,or.jsxs)("div",{className:"text-center py-8",children:[(0,or.jsx)("p",{className:"text-muted-foreground",children:"Ordine non trovato"}),(0,or.jsxs)(tY,{onClick:()=>window.history.back(),className:"mt-4",variant:"outline",children:[(0,or.jsx)(rX,{className:"w-4 h-4 mr-2"}),"Torna Indietro"]})]})});var l},iX=Dt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),oX=Dt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),sX=Dt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lX=Dt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cX=()=>{const e=fe(),[n,r]=(0,t.useState)(null),[a,i]=(0,t.useState)({supplier:"",purchaseDate:"",invoiceNumber:"",paymentDate:""}),[o,s]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),f=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e);return(0,or.jsxs)("div",{className:"container mx-auto p-6",children:[(0,or.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuovo Ordine Fornitore"}),(0,or.jsx)("p",{className:"text-gray-600 mt-2",children:"Crea un nuovo ordine ai fornitori"})]}),(0,or.jsxs)(tY,{onClick:()=>e("/ordini-fornitori"),variant:"outline",children:[(0,or.jsx)(rX,{className:"w-4 h-4 mr-2"}),"Torna alla Lista"]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,or.jsxs)(bk,{className:"bg-blue-50 border-blue-200",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-blue-800",children:[(0,or.jsx)(iX,{className:"w-5 h-5"}),"Carica Prodotti"]})}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"File CSV Prodotti"}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)(FY,{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{try{const t=e.target.result.split("\n"),n=t[0].split(";").map(e=>e.trim()),a=["SKU","Quantit\xe0","Prezzo Unitario"].filter(e=>!n.includes(e));if(a.length>0)return void h("Headers mancanti: ".concat(a.join(", ")));const i=t.slice(1).filter(e=>e.trim()).map((e,t)=>{const n=e.split(";").map(e=>e.trim()),r=n[2]||"0",a=parseFloat(r.replace(",","."))||0;return{sku:n[0],quantity:parseInt(n[1])||0,price:a}}).filter(e=>e.sku&&e.quantity>0);r(i),h("")}catch(d){h("Errore nel leggere il file CSV"),console.error(d)}},n.readAsText(t)},className:"flex-1"}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{const e=new Blob(["SKU;Quantit\xe0;Prezzo Unitario\nABC123;10;25.50\nDEF456;5;15.75"],{type:"text/csv"}),t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="template_ordine_fornitore.csv",n.click(),window.URL.revokeObjectURL(t)},className:"bg-white",children:[(0,or.jsx)(PY,{className:"w-4 h-4 mr-2"}),"Template"]})]})]}),n&&(0,or.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,or.jsx)(oX,{className:"w-4 h-4"}),(0,or.jsxs)("span",{className:"font-medium",children:[n.length," prodotti caricati"]})]}),(0,or.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Totale: ",f(n.reduce((e,t)=>e+t.quantity*t.price,0))]})]})]})]}),(0,or.jsxs)(bk,{className:"bg-yellow-50 border-yellow-200",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-yellow-800",children:[(0,or.jsx)(sX,{className:"w-5 h-5"}),"Dati Fornitore"]})}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fornitore *"}),(0,or.jsx)(FY,{value:a.supplier,onChange:e=>i(t=>l(l({},t),{},{supplier:e.target.value})),placeholder:"Nome fornitore"})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data Acquisto *"}),(0,or.jsx)(FY,{type:"date",value:a.purchaseDate,onChange:e=>i(t=>l(l({},t),{},{purchaseDate:e.target.value}))})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Numero Fattura"}),(0,or.jsx)(FY,{value:a.invoiceNumber,onChange:e=>i(t=>l(l({},t),{},{invoiceNumber:e.target.value})),placeholder:"Numero fattura"})]}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data Pagamento"}),(0,or.jsx)(FY,{type:"date",value:a.paymentDate,onChange:e=>i(t=>l(l({},t),{},{paymentDate:e.target.value}))})]})]})]})]}),d&&(0,or.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,or.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,or.jsx)(eX,{className:"w-4 h-4"}),(0,or.jsx)("span",{className:"font-medium",children:d})]})}),n&&a.supplier&&(0,or.jsxs)(bk,{className:"mt-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(lX,{className:"w-5 h-5"}),"Preview Ordine"]})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fornitore"}),(0,or.jsx)("p",{className:"text-lg font-semibold",children:a.supplier})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data Acquisto"}),(0,or.jsx)("p",{className:"text-lg font-semibold",children:a.purchaseDate})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Prodotti"}),(0,or.jsx)("p",{className:"text-lg font-semibold",children:n.length})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Valore Totale"}),(0,or.jsx)("p",{className:"text-lg font-semibold text-green-600",children:f(n.reduce((e,t)=>e+t.quantity*t.price,0))})]})]}),(0,or.jsx)("div",{className:"space-y-2",children:(0,or.jsxs)(tY,{onClick:()=>{if(!n||0===n.length)return void h("Carica prima un file CSV");if(!a.supplier||!a.purchaseDate)return void h("Compila tutti i campi obbligatori");const e=n.reduce((e,t)=>e+t.quantity*t.price,0);s({orderNumber:OY(),supplier:a.supplier,purchaseDate:a.purchaseDate,invoiceNumber:a.invoiceNumber,paymentDate:a.paymentDate,products:n,totalValue:e})},className:"w-full bg-blue-600 hover:bg-blue-700",children:[(0,or.jsx)(lX,{className:"w-4 h-4 mr-2"}),"Anteprima Completa"]})})]})})]}),o&&(0,or.jsxs)(bk,{className:"mt-6 border-2 border-green-200",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-green-800",children:[(0,or.jsx)(oX,{className:"w-5 h-5"}),"Conferma Ordine"]})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Numero Ordine"}),(0,or.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:o.orderNumber})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fornitore"}),(0,or.jsx)("p",{className:"text-lg font-semibold",children:o.supplier})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data Acquisto"}),(0,or.jsx)("p",{className:"text-lg font-semibold",children:o.purchaseDate})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Valore Totale"}),(0,or.jsx)("p",{className:"text-lg font-semibold text-green-600",children:f(o.totalValue)})]})]}),(0,or.jsx)("div",{className:"overflow-x-auto",children:(0,or.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,or.jsx)("thead",{className:"bg-gray-50",children:(0,or.jsxs)("tr",{children:[(0,or.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,or.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantit\xe0"}),(0,or.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prezzo Unitario"}),(0,or.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Totale"})]})}),(0,or.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(Array.isArray(o.products)?o.products:[]).map((e,t)=>(0,or.jsxs)("tr",{children:[(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sku}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(e.price)}),(0,or.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:f(e.quantity*e.price)})]},t))})]})}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)(tY,{onClick:async()=>{if(o){u(!0);try{const t={orderNumber:o.orderNumber,supplier:o.supplier,purchaseDate:o.purchaseDate,invoiceNumber:o.invoiceNumber,paymentDate:o.paymentDate,products:o.products,totalValue:o.totalValue};await _k(t);try{await _k(t)}catch(d){console.error("Errore nel salvare ordine fornitore nel database:",d)}r(null),i({supplier:"",purchaseDate:"",invoiceNumber:"",paymentDate:""}),s(null),h(""),alert("Ordine creato con successo!"),setTimeout(()=>{e("/ordini-fornitori")},2e3)}catch(d){h("Errore nel salvare l'ordine"),console.error(d)}finally{u(!1)}}},disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700",children:c?"Salvando...":"Conferma Ordine"}),(0,or.jsx)(tY,{variant:"outline",onClick:()=>s(null),className:"flex-1",children:"Annulla"})]})]})})]})]})};var uX=n(1899),dX=n.n(uX);const hX=e=>{let{value:t,onChange:n,label:r,className:a=""}=e;return(0,or.jsxs)("div",{className:"flex flex-col ".concat(a),children:[r&&(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:r}),(0,or.jsx)("input",{type:"time",value:t,onChange:e=>{n(e.target.value)},className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]})},fX=e=>{let{startDate:t,endDate:n,onDateChange:r,startTime:a="00:00",endTime:i="23:59",onStartTimeChange:o,onEndTimeChange:s,className:l=""}=e;const c=t&&n&&t.toDateString()===n.toDateString();return(0,or.jsxs)("div",{className:"flex flex-col gap-3 ".concat(l),children:[(0,or.jsx)("div",{className:"flex items-center gap-2",children:(0,or.jsx)(dX(),{selectsRange:!0,startDate:t,endDate:n,onChange:r,locale:eS,dateFormat:"dd/MM/yyyy",isClearable:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",calendarClassName:"shadow-lg border rounded-lg"})}),c&&(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)(hX,{value:a,onChange:o,label:"Ora inizio",className:"flex-1"}),(0,or.jsx)(hX,{value:i,onChange:s,label:"Ora fine",className:"flex-1"})]})]})},pX={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_EASYPOST_API_KEY||"",mX={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TRACKING_API_KEY||"",gX=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n,r,a,i,o,s;if(!pX)return vX(e);const l=await fetch("https://api.easypost.com/v2/trackers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(btoa(pX+":"))},body:JSON.stringify({tracking_code:e,carrier:t||"auto"})});if(!l.ok)throw new Error("Errore API EasyPost");const c=await l.json();return{status:(null===(n=c.tracking_details)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.status)||"In transito",location:(null===(a=c.tracking_details)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.location)||"Posizione sconosciuta",lastUpdate:(null===(o=c.tracking_details)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.datetime)||(new Date).toISOString(),carrier:c.carrier||"Sconosciuto",estimatedDelivery:c.est_delivery_date||null}}catch(l){return console.error("Errore tracking EasyPost:",l),vX(e)}}(e,t)}catch(n){try{return await(async e=>{try{if(!mX)return vX(e);const t=await fetch("https://api.17track.net/v2/track?number=".concat(e),{headers:{Authorization:"Bearer ".concat(mX)}});if(!t.ok)throw new Error("Errore API 17track");const n=await t.json();if(n.data&&n.data.length>0){const e=n.data[0];return{status:e.status||"In transito",location:e.location||"Posizione sconosciuta",lastUpdate:e.time||(new Date).toISOString(),carrier:e.carrier||"Sconosciuto",estimatedDelivery:e.estimated_delivery||null}}return vX(e)}catch(n){return console.error("Errore tracking 17track:",n),vX(e)}})(e)}catch(n){try{return await(async e=>{try{const t=await fetch("https://api.trackingmore.com/v2/trackings/realtime",{method:"POST",headers:{"Content-Type":"application/json","Trackingmore-Api-Key":"your_api_key_here"},body:JSON.stringify({tracking_number:e,carrier_code:"auto"})});if(!t.ok)throw new Error("Errore API tracking");const n=await t.json();if(n.data&&n.data.length>0){const e=n.data[0];return{status:e.status||"In transito",location:e.location||"Posizione sconosciuta",lastUpdate:e.time||(new Date).toISOString(),carrier:e.carrier||"Sconosciuto",estimatedDelivery:e.estimated_delivery||null}}return vX(e)}catch(n){return console.error("Errore tracking pubblico:",n),vX(e)}})(e)}catch(n){return vX(e)}}}},vX=e=>({status:"API non configurata",location:"Richiede API key per tracking reale",lastUpdate:(new Date).toISOString(),carrier:"Configura API key",estimatedDelivery:null,message:"Per tracking reale, configura REACT_APP_EASYPOST_API_KEY o REACT_APP_TRACKING_API_KEY nel file .env"}),yX=e=>new Date(e).toLocaleString("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),bX=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[s,c]=(0,t.useState)("all"),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)([null,null]),[p,m]=(0,t.useState)([null,null]),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)({type:"all",min:"",max:""}),[x,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)("recent"),[j,N]=(0,t.useState)("purchaseDate"),[_,E]=(0,t.useState)("decrescente"),[O,C]=(0,t.useState)({totalOrders:0,totalValue:0,toPay:0,paid:0,inTransit:0,partial:0,received:0,paidValue:0,toPayValue:0,dueLast5Days:0});(0,t.useEffect)(()=>{T()},[]),(0,t.useEffect)(()=>{const e=NY(),t=e.length,n=e.reduce((e,t)=>e+t.totalValue,0),r=e.filter(e=>e.status===jY).length,a=e.filter(e=>e.status===SY||e.status===kY).length,i=e.filter(e=>e.status===wY).length,o=e.filter(e=>e.status===SY).length,s=e.filter(e=>e.status===kY).length,l=e.filter(e=>e.status===jY).reduce((e,t)=>t.receivedItems&&t.products?e+t.receivedItems.reduce((e,n)=>{const r=t.products.find(e=>e.sku===n.sku);return e+(r?r.price*n.quantity:0)},0):e,0),c=e.filter(e=>e.status===SY||e.status===kY).reduce((e,t)=>t.receivedItems&&t.products?e+t.receivedItems.reduce((e,n)=>{const r=t.products.find(e=>e.sku===n.sku);return e+(r?r.price*n.quantity:0)},0):e,0),u=new Date,d=new Date(u.getTime()-432e6),h=e.filter(e=>e.paymentDate&&new Date(e.paymentDate)>=d&&new Date(e.paymentDate)<=u).length;C({totalOrders:t,totalValue:n,toPay:a,paid:r,inTransit:i,partial:o,received:s,paidValue:l,toPayValue:c,dueLast5Days:h})},[]);const T=()=>{const e=NY();n(e),a(e)};(0,t.useEffect)(()=>{let t=e;i&&(t=t.filter(e=>ar(e.orderNumber,i)||ar(e.supplier,i)||e.products.some(e=>ar(e.sku,i)))),"all"!==s&&(t=t.filter(e=>e.status===s)),h[0]&&h[1]&&(t=t.filter(e=>{const t=new Date(e.purchaseDate);return t>=h[0]&&t<=h[1]})),p[0]&&p[1]&&(t=t.filter(e=>{if(!e.paymentDate)return!1;const t=new Date(e.paymentDate);return t>=p[0]&&t<=p[1]})),g&&(t=t.filter(e=>{if(!e.paymentDate)return!1;const t=new Date,n=new Date(e.paymentDate).setHours(0,0,0,0)-t.setHours(0,0,0,0),r=Math.ceil(n/864e5);return r<=5&&r>=0})),"all"!==y.type&&(t=t.filter(e=>{const t=e.totalValue;return"min"===y.type&&y.min?t>=parseFloat(y.min):"max"===y.type&&y.max?t<=parseFloat(y.max):"range"!==y.type||!y.min||!y.max||t>=parseFloat(y.min)&&t<=parseFloat(y.max)})),x&&(t=t.filter(e=>{const t=e.products.reduce((e,t)=>e+t.quantity,0);return e.receivedItems.reduce((e,t)=>e+t.quantity,0)<t})),a(t)},[e,i,s,h,p,g,y,x]);const D=async(e,t)=>{d(!0);try{await _Y(e,{status:t}),T()}catch(n){console.error("Errore nel cambiare stato:",n)}finally{d(!1)}},P=async(t,n)=>{const r=e.find(e=>e.id===t);if(!r)return;if(r.status===kY||r.status===jY)return void alert("Non \xe8 possibile cancellare un ordine gi\xe0 ricevuto o pagato.");if(window.confirm("Sei sicuro di voler cancellare l'ordine ".concat(n,"?\n\n")+"Questa azione non pu\xf2 essere annullata.")){d(!0);try{await(e=>{try{const t=EY(e);if(!t)throw new Error("Ordine non trovato");if(t.status===kY||t.status===jY)throw new Error("Non \xe8 possibile eliminare ordini ricevuti o pagati");const n=NY().filter(t=>t.id!==e);return localStorage.setItem(yY,JSON.stringify(n)),!0}catch(t){throw console.error("Errore nell'eliminare ordine:",t),t}})(t),T(),alert("Ordine cancellato con successo.")}catch(a){console.error("Errore nella cancellazione dell'ordine:",a),alert("Errore durante la cancellazione dell'ordine.")}finally{d(!1)}}},A=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e),I=e=>new Date(e).toLocaleDateString("it-IT"),M=e=>{const t={[bY]:{color:"bg-gray-100 text-gray-800",icon:ur,label:"Bozza"},[xY]:{color:"bg-blue-100 text-blue-800",icon:Rt,label:"Confermato"},[wY]:{color:"bg-yellow-100 text-yellow-800",icon:Rt,label:"In Transito"},[kY]:{color:"bg-green-100 text-green-800",icon:oX,label:"Ricevuto"},[SY]:{color:"bg-orange-100 text-orange-800",icon:eX,label:"Parziale"},[jY]:{color:"bg-purple-100 text-purple-800",icon:oX,label:"Pagato"}},n=t[e]||t[bY],r=n.icon;return(0,or.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(n.color),children:[(0,or.jsx)(r,{className:"w-3 h-3 mr-1"}),n.label]})},R=e=>{let t=e.totalValue,n=0;e.status===SY&&(t=e.receivedItems.reduce((t,n)=>{const r=e.products.find(e=>e.sku===n.sku);return t+(r?r.price*n.quantity:0)},0)),e.status===jY&&(n=t);return{paid:n,total:t,percentage:t>0?Math.round(n/t*100):0}},L=(e=>{const t=[...e];let n,r;switch(j){case"purchaseDate":t.sort((e,t)=>(n=new Date(e.purchaseDate),r=new Date(t.purchaseDate),"crescente"===_?n-r:r-n));break;case"totalValue":t.sort((e,t)=>(n=e.totalValue,r=t.totalValue,"crescente"===_?n-r:r-n));break;case"supplier":t.sort((e,t)=>(n=rr(e.supplier,""),r=rr(t.supplier,""),"crescente"===_?n.localeCompare(r):r.localeCompare(n)));break;case"status":t.sort((e,t)=>(n=e.status,r=t.status,"crescente"===_?n.localeCompare(r):r.localeCompare(n)));break;case"paymentDate":t.sort((e,t)=>e.paymentDate||t.paymentDate?e.paymentDate?t.paymentDate?(n=new Date(e.paymentDate),r=new Date(t.paymentDate),"crescente"===_?n-r:r-n):-1:1:0);break;default:t.sort((e,t)=>new Date(t.purchaseDate)-new Date(e.purchaseDate))}return t})(r);return(0,or.jsxs)("div",{className:"container mx-auto p-6",children:[(0,or.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Storico Ordini Fornitori"}),(0,or.jsx)("p",{className:"text-gray-600 mt-2",children:"Gestisci e monitora gli ordini ai fornitori"})]}),(0,or.jsxs)(tY,{onClick:()=>window.location.href="/ordini-fornitori/nuovo",className:"bg-blue-600 hover:bg-blue-700",children:[(0,or.jsx)(sX,{className:"w-4 h-4 mr-2"}),"Nuovo Ordine"]})]}),(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Mt,{className:"h-5 w-5"}),"Statistiche Ordini Fornitori"]}),(0,or.jsx)(kk,{children:"Totale valore ordini, pagati, da pagare, rapporto pagato/da pagare, scadenze ultimi 5 giorni"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Totale ordini"}),(0,or.jsx)("div",{className:"text-lg font-bold",children:O.totalOrders})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Valore totale"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-700",children:A(O.totalValue)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Valore pagato"}),(0,or.jsx)("div",{className:"text-lg font-bold text-blue-700",children:A(O.paidValue)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Valore da pagare"}),(0,or.jsx)("div",{className:"text-lg font-bold text-yellow-700",children:A(O.toPayValue)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Pagato / Da pagare"}),(0,or.jsxs)("div",{className:"text-lg font-bold",children:[(0,or.jsx)("span",{className:"text-blue-700",children:A(O.paidValue)}),(0,or.jsx)("span",{className:"text-gray-400",children:" / "}),(0,or.jsx)("span",{className:"text-yellow-700",children:A(O.toPayValue)})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Scadenze ultimi 5 giorni"}),(0,or.jsx)("div",{className:"text-lg font-bold text-red-600",children:O.dueLast5Days})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"In transito"}),(0,or.jsx)("div",{className:"text-lg font-bold text-blue-700",children:O.inTransit})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Parziali"}),(0,or.jsx)("div",{className:"text-lg font-bold text-orange-700",children:O.partial})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Ricevuti"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-600",children:O.received})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Pagati"}),(0,or.jsx)("div",{className:"text-lg font-bold text-green-700",children:O.paid})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("div",{className:"text-xs text-gray-500",children:"Da pagare"}),(0,or.jsx)("div",{className:"text-lg font-bold text-yellow-700",children:O.toPay})]})]})})]}),(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(tX,{className:"w-5 h-5"}),"Filtri"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cerca"}),(0,or.jsxs)("div",{className:"relative",children:[(0,or.jsx)(LY,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,or.jsx)(FY,{placeholder:"Numero ordine, fornitore, SKU...",value:i,onChange:e=>o(e.target.value),className:"pl-10"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stato"}),(0,or.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"all",children:"Tutti gli stati"}),(0,or.jsx)("option",{value:bY,children:"Bozza"}),(0,or.jsx)("option",{value:xY,children:"Confermato"}),(0,or.jsx)("option",{value:wY,children:"In Transito"}),(0,or.jsx)("option",{value:kY,children:"Ricevuto"}),(0,or.jsx)("option",{value:SY,children:"Parziale"}),(0,or.jsx)("option",{value:jY,children:"Pagato"})]})]}),(0,or.jsx)("div",{className:"flex items-end",children:(0,or.jsx)(tY,{onClick:()=>{o(""),c("all"),f([null,null]),m([null,null]),v(!1),b({type:"all",min:"",max:""}),w(!1)},variant:"outline",className:"w-full",children:"Reset Filtri"})})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Creazione Ordine"}),(0,or.jsx)(fX,{value:h,onChange:f})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Scadenza Pagamento"}),(0,or.jsx)(fX,{value:p,onChange:m})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-6",children:[(0,or.jsx)("input",{type:"checkbox",id:"onlyDueSoon",checked:g,onChange:e=>v(e.target.checked)}),(0,or.jsx)("label",{htmlFor:"onlyDueSoon",className:"text-sm",children:"Solo scadenze entro 5 giorni"})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grandezza Ordine (\u20ac)"}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsxs)("select",{value:y.type,onChange:e=>b(t=>l(l({},t),{},{type:e.target.value})),className:"border rounded px-2 py-1",children:[(0,or.jsx)("option",{value:"all",children:"Tutti"}),(0,or.jsx)("option",{value:"min",children:"Maggiore di"}),(0,or.jsx)("option",{value:"max",children:"Minore di"}),(0,or.jsx)("option",{value:"range",children:"Tra"})]}),(0,or.jsx)(FY,{type:"number",placeholder:"Min",value:y.min,onChange:e=>b(t=>l(l({},t),{},{min:e.target.value})),disabled:"all"===y.type||"max"===y.type,className:"w-20"}),(0,or.jsx)(FY,{type:"number",placeholder:"Max",value:y.max,onChange:e=>b(t=>l(l({},t),{},{max:e.target.value})),disabled:"all"===y.type||"min"===y.type,className:"w-20"})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-6",children:[(0,or.jsx)("input",{type:"checkbox",id:"onlyToReceive",checked:x,onChange:e=>w(e.target.checked)}),(0,or.jsx)("label",{htmlFor:"onlyToReceive",className:"text-sm",children:"Solo ordini da ricevere"})]})]})]})]}),(0,or.jsx)(bk,{className:"mb-4",children:(0,or.jsx)(Sk,{className:"p-4",children:(0,or.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-sm font-medium",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>{"purchaseDate"===j?E("crescente"===_?"decrescente":"crescente"):(N("purchaseDate"),E("decrescente"))},children:["Data Acquisto",(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("purchaseDate"===j&&"decrescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("purchaseDate"===j&&"crescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>{"supplier"===j?E("crescente"===_?"decrescente":"crescente"):(N("supplier"),E("crescente"))},children:["Fornitore",(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("supplier"===j&&"decrescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("supplier"===j&&"crescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>{"totalValue"===j?E("crescente"===_?"decrescente":"crescente"):(N("totalValue"),E("decrescente"))},children:["Valore Totale",(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("totalValue"===j&&"decrescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("totalValue"===j&&"crescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>{"status"===j?E("crescente"===_?"decrescente":"crescente"):(N("status"),E("crescente"))},children:["Stato",(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("status"===j&&"decrescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("status"===j&&"crescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>{"paymentDate"===j?E("crescente"===_?"decrescente":"crescente"):(N("paymentDate"),E("crescente"))},children:["Scadenza Pagamento",(0,or.jsxs)("div",{className:"flex flex-col",children:[(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("paymentDate"===j&&"decrescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),(0,or.jsx)("svg",{className:"w-3 h-3 ".concat("paymentDate"===j&&"crescente"===_?"text-blue-600":"text-gray-400"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,or.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]})})}),(0,or.jsxs)("div",{className:"space-y-4",children:[(Array.isArray(L)?L:[]).map(e=>{const t=(e=>{const t=e.products.reduce((e,t)=>e+t.quantity,0),n=e.receivedItems.reduce((e,t)=>e+t.quantity,0);return{received:n,total:t,percentage:t>0?Math.round(n/t*100):0}})(e);return(0,or.jsx)(bk,{className:"hover:shadow-md transition-shadow",children:(0,or.jsx)(Sk,{className:"p-6",children:(0,or.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-blue-600 hover:text-blue-800 cursor-pointer transition-colors",onClick:()=>window.location.href="/ordini-fornitori/".concat(e.id),title:"Clicca per vedere i dettagli dell'ordine",children:e.orderNumber}),M(e.status)]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Fornitore:"}),(0,or.jsx)("p",{className:"font-medium",children:e.supplier})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Data Acquisto:"}),(0,or.jsx)("p",{className:"font-medium",children:I(e.purchaseDate)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Prodotti:"}),(0,or.jsx)("p",{className:"font-medium",children:(()=>{const t=e.products.reduce((e,t)=>e+t.quantity,0),n=e.receivedItems.reduce((e,t)=>e+t.quantity,0),r=n===t;return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("span",{className:r?"text-green-600":"text-green-600 font-semibold",children:n}),(0,or.jsx)("span",{className:r?"text-green-600":"text-gray-400 font-normal",children:" / "+t})]})})()})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Valore Totale:"}),(0,or.jsx)("p",{className:"font-medium",children:(()=>{const t=e.receivedItems.reduce((t,n)=>{const r=e.products.find(e=>e.sku===n.sku);return t+(r?r.price*n.quantity:0)},0),n=t===e.totalValue;return(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("span",{className:n?"text-green-600":"text-green-600 font-semibold",children:A(t)}),(0,or.jsx)("span",{className:n?"text-green-600":"text-gray-400 font-normal",children:" / "+A(e.totalValue)})]})})()})]})]}),(e.status===xY||e.status===wY)&&(0,or.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"\ud83d\udce6 Ricezione"}),(0,or.jsxs)("span",{className:"font-medium text-blue-600",children:[t.received,"/",t.total," prodotti"]})]}),(0,or.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,or.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.percentage,"%")}})})]}),(()=>{const t=R(e);return(0,or.jsxs)("div",{children:[(0,or.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"\ud83d\udcb0 Pagamento"}),(0,or.jsxs)("span",{className:"font-medium text-green-600",children:[A(t.paid),"/",A(t.total)]})]}),(0,or.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,or.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.percentage,"%")}})})]})})()]}),(e.status===SY||e.status===kY||e.status===jY)&&e.paymentDate&&(0,or.jsx)("div",{className:"mt-3 flex flex-wrap gap-6 items-center",children:(0,or.jsxs)("div",{className:"flex flex-col items-center",children:[(0,or.jsx)("span",{className:"text-xs text-gray-500",children:"Scadenza Pagamento"}),(()=>{const t=new Date,n=new Date(e.paymentDate).setHours(0,0,0,0)-t.setHours(0,0,0,0),r=Math.ceil(n/864e5);let a="text-blue-700";return r<0?a="text-red-600 font-bold":r<=5&&(a="text-yellow-600 font-bold"),(0,or.jsx)("span",{className:"text-sm font-semibold ".concat(a),children:I(e.paymentDate)})})()]})}),e.trackingNumber&&(0,or.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(Rt,{className:"w-4 h-4 text-blue-600"}),(0,or.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Tracking: ",e.trackingNumber]})]}),(0,or.jsx)(tY,{onClick:()=>window.location.href="/ordini-fornitori/".concat(e.id),variant:"outline",size:"sm",className:"text-xs",children:"Vedi Dettagli"})]})}),e.status===SY&&e.partialReason&&(0,or.jsxs)("div",{className:"mt-2 p-2 bg-orange-50 border border-orange-200 rounded text-xs text-orange-900",children:[(0,or.jsx)("strong",{children:"Nota ordine parziale:"})," ",e.partialReason]}),e.status===SY&&(0,or.jsx)("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(eX,{className:"w-4 h-4 text-orange-600"}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-sm font-medium text-orange-900",children:"Ordine Parziale"}),(0,or.jsxs)("p",{className:"text-xs text-orange-700",children:["Valore da pagare: ",A(R(e).total)]})]})]}),(0,or.jsx)(tY,{onClick:()=>window.location.href="/ordini-fornitori/".concat(e.id),variant:"outline",size:"sm",className:"text-xs bg-orange-100 text-orange-700 border-orange-300",children:"Gestisci"})]})})]}),(0,or.jsxs)("div",{className:"flex flex-col gap-2 min-w-fit",children:[(0,or.jsxs)(tY,{onClick:()=>window.location.href="/ordini-fornitori/".concat(e.id),className:"w-full",children:[(0,or.jsx)(lX,{className:"w-4 h-4 mr-2"}),"Visualizza Dettaglio"]}),(e.status===bY||e.status===xY||e.status===wY)&&(0,or.jsxs)(tY,{onClick:()=>P(e.id,e.orderNumber),disabled:u,variant:"outline",className:"w-full bg-red-50 text-red-700 hover:bg-red-100 border-red-300",children:[(0,or.jsx)(DY,{className:"w-4 h-4 mr-2"}),"Cancella Ordine"]}),e.status===bY&&(0,or.jsxs)(tY,{onClick:()=>D(e.id,xY),disabled:u,variant:"outline",className:"w-full bg-blue-50 text-blue-700 hover:bg-blue-100",children:[(0,or.jsx)(Rt,{className:"w-4 h-4 mr-2"}),"Conferma Ordine"]}),e.status===xY&&(0,or.jsxs)(tY,{onClick:()=>D(e.id,wY),disabled:u,variant:"outline",className:"w-full bg-yellow-50 text-yellow-700 hover:bg-yellow-100",children:[(0,or.jsx)(Rt,{className:"w-4 h-4 mr-2"}),"In Transito"]}),e.status===SY&&(0,or.jsxs)(tY,{onClick:()=>D(e.id,kY),disabled:u,variant:"outline",className:"w-full bg-green-50 text-green-700 hover:bg-green-100",children:[(0,or.jsx)(oX,{className:"w-4 h-4 mr-2"}),"Chiudi Parziale"]}),e.status===kY&&(0,or.jsxs)(tY,{onClick:()=>D(e.id,jY),disabled:u,variant:"outline",className:"w-full bg-purple-50 text-purple-700 hover:bg-purple-100",children:[(0,or.jsx)(oX,{className:"w-4 h-4 mr-2"}),"Marca Pagato"]})]})]})})},e.id)}),")"]})]})},xX=Dt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),wX=()=>{const{orderId:e}=pe(),n=fe(),[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(""),[s,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[j,N]=(0,t.useState)({sku:"",nome:"",quantita:"",prezzo:"",anagrafica:"",tipologia:"",marca:""}),[_,E]=(0,t.useState)(!1),[O,C]=(0,t.useState)(null),[T,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{P()},[e]);const P=()=>{const t=EY(e);t?(a(t),t.trackingNumber&&A(t.trackingNumber)):n("/ordini-fornitori")},A=async e=>{try{const t=await gX(e);b(t)}catch(t){console.error("Errore nel caricamento tracking:",t)}},I=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e),M=e=>new Date(e).toLocaleDateString("it-IT"),R=e=>r.products.find(t=>rr(t.sku,"")===rr(e,"")),L=e=>r.receivedItems.find(t=>rr(t.sku,"")===rr(e,"")),z=async()=>{if(i.trim()){c(!0);try{const t=R(i);if(!t)return alert("SKU non trovato in questo ordine!"),void o("");const n=L(i),r=n?n.quantity:0;if(r>=t.quantity)return alert("Tutti i prodotti di questo SKU sono gi\xe0 stati ricevuti!"),void o("");await((e,t,n)=>{try{var r;const a=EY(e);if(!a)throw new Error("Ordine non trovato");const i=a.products.find(e=>e.sku===t);if(!i)throw new Error("Prodotto non trovato nell'ordine");const o=((null===(r=a.receivedItems.find(e=>e.sku===t))||void 0===r?void 0:r.quantity)||0)+n,s=a.receivedItems.filter(e=>e.sku!==t);o>0&&s.push({sku:t,quantity:o,receivedAt:(new Date).toISOString()});const l=s.reduce((e,t)=>e+t.quantity,0),c=s.reduce((e,t)=>{const n=a.products.find(e=>e.sku===t.sku);return e+t.quantity*n.price},0);let u=a.status;return l===a.products.reduce((e,t)=>e+t.quantity,0)?u=kY:l>0&&(u=SY),_Y(e,{receivedItems:s,totalReceived:l,totalSpent:c,status:u,lastReceivedAt:(new Date).toISOString()})}catch(a){throw console.error("Errore nella ricezione prodotto:",a),a}})(e,i,1),m({sku:t.sku,name:t.name||t.sku,quantity:r+1,totalQuantity:t.quantity}),P(),o(""),P()}catch(t){console.error("Errore nella scansione:",t),alert("Errore durante la scansione del prodotto")}finally{c(!1)}}},F=async()=>{if(r&&r.receivedItems&&0!==r.receivedItems.length)try{let t=await Ck(),n=0,a=0,i=[...r.receivedItems];const o=async()=>{if(0===i.length)return await Ok(t),{updatedCount:n,newCount:a};const s=i.shift(),l=R(s.sku);if(!l)return void setTimeout(o,0);const c=t.findIndex(e=>e.sku===s.sku);-1!==c&&t[c].prezzo!==l.price&&l.price>0?(C({sku:s.sku,nome:t[c].nome,oldPrice:t[c].prezzo,newPrice:l.price,onDecision:async a=>{"aggiorna"===a?(t[c].prezzo=l.price,t[c].quantita+=s.quantity):"mantieni"===a&&(t[c].quantita+=s.quantity),"ignora"!==a&&await Tk({sku:s.sku,data:(new Date).toISOString(),quantita:t[c].quantita,prezzo:t[c].prezzo,tipo:"ordine_fornitore",descrizione:"Ordine ".concat(r.orderNumber," - ").concat(r.supplier),dettagli:{orderId:e,orderNumber:r.orderNumber,supplier:r.supplier,quantityReceived:s.quantity}}),n++,E(!1),setTimeout(o,0)}}),E(!0)):-1!==c?(t[c].quantita+=s.quantity,l.price>0&&(t[c].prezzo=l.price),n++,await Tk({sku:s.sku,data:(new Date).toISOString(),quantita:t[c].quantita,prezzo:t[c].prezzo,tipo:"ordine_fornitore",descrizione:"Ordine ".concat(r.orderNumber," - ").concat(r.supplier),dettagli:{orderId:e,orderNumber:r.orderNumber,supplier:r.supplier,quantityReceived:s.quantity}}),setTimeout(o,0)):(t.push({sku:s.sku,nome:l.name||s.sku,quantita:s.quantity,prezzo:l.price||0,anagrafica:l.anagrafica||"",tipologia:l.tipologia||"",marca:l.marca||""}),a++,await Tk({sku:s.sku,data:(new Date).toISOString(),quantita:s.quantity,prezzo:l.price||0,tipo:"ordine_fornitore",descrizione:"Ordine ".concat(r.orderNumber," - ").concat(r.supplier),dettagli:{orderId:e,orderNumber:r.orderNumber,supplier:r.supplier,quantityReceived:s.quantity}}),setTimeout(o,0))};await o()}catch(t){console.error("Errore nell'aggiornamento del magazzino:",t)}},[U,B]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{try{const e=await Ck();B(e)}catch(e){console.error("Errore nel caricare magazzino:",e)}})()},[]),!r)return(0,or.jsx)("div",{className:"container mx-auto p-6",children:(0,or.jsx)("div",{className:"text-center",children:(0,or.jsx)("p",{children:"Caricamento ordine..."})})});const V=(()=>{if(!r)return{received:0,total:0,percentage:0};const e=r.products.reduce((e,t)=>e+t.quantity,0),t=r.receivedItems.reduce((e,t)=>e+t.quantity,0);return{received:t,total:e,percentage:e>0?Math.round(t/e*100):0}})(),q=r?r.receivedItems.reduce((e,t)=>{const n=R(t.sku);return e+(n?n.price*t.quantity:0)},0):0;return(0,or.jsxs)("div",{className:"container mx-auto p-6",children:[(0,or.jsxs)("div",{className:"mb-6",children:[(0,or.jsxs)(tY,{onClick:()=>n("/ordini-fornitori"),variant:"outline",className:"mb-4",children:[(0,or.jsx)(rX,{className:"w-4 h-4 mr-2"}),"Torna alla Lista"]}),(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Ordine ",r.orderNumber]}),(0,or.jsxs)("p",{className:"text-gray-600 mt-2",children:["Fornitore: ",r.supplier," \u2022 Data: ",M(r.purchaseDate)]})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-600",children:I(q)}),(0,or.jsx)("div",{className:"text-sm text-gray-500",children:"Totale ricevuto"})]})]})]}),(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Rt,{className:"w-5 h-5"}),"Progresso Ricezione"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Prodotti ricevuti"}),(0,or.jsxs)("span",{className:"font-medium",children:[V.received," di ",V.total," (",V.percentage,"%)"]})]}),(0,or.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,or.jsx)("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat(V.percentage,"%")}})})]}),V.received>0&&(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Valore ricevuto:"}),(0,or.jsx)("p",{className:"font-medium text-green-600",children:I(q)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Valore totale ordine:"}),(0,or.jsx)("p",{className:"font-medium",children:I(r.totalValue)})]})]})]})]}),r.status===SY&&(0,or.jsxs)(bk,{className:"mb-6 border-orange-200",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2 text-orange-700",children:[(0,or.jsx)(eX,{className:"w-5 h-5"}),"Ordine Parziale"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,or.jsx)("h4",{className:"font-medium text-orange-900 mb-2",children:"Valore da Pagare"}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:I(q)}),(0,or.jsx)("p",{className:"text-sm text-orange-700",children:"Solo per i prodotti ricevuti"})]})]}),(0,or.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,or.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Scadenza Pagamento"}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-semibold text-blue-600 mb-1",children:r.paymentDate?M(r.paymentDate):"Non specificata"}),(0,or.jsx)("p",{className:"text-sm text-blue-700",children:r.paymentDate?"Data scadenza pagamento":"Aggiungi data scadenza"})]})]})]}),r.partialReason&&(0,or.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,or.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:"Motivo Parziale:"}),(0,or.jsx)("p",{className:"text-sm text-gray-600",children:r.partialReason})]}),(0,or.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[(0,or.jsxs)(tY,{onClick:async()=>{c(!0);try{await _Y(e,{status:kY,partialClosedAt:(new Date).toISOString()});const t=F();let n="Ordine parziale chiuso! L'ordine \xe8 ora marcato come ricevuto.";t&&(n+="\n\nMagazzino aggiornato:\n- ".concat(t.updatedCount," prodotti aggiornati\n- ").concat(t.newCount," nuovi prodotti aggiunti")),alert(n),P()}catch(t){console.error("Errore nel chiudere ordine parziale:",t)}finally{c(!1)}},disabled:s,className:"w-full bg-green-600 hover:bg-green-700",children:[(0,or.jsx)(oX,{className:"w-4 h-4 mr-2"}),s?"Chiudendo...":"Chiudi Ordine Parziale"]}),(0,or.jsxs)(tY,{onClick:async()=>{c(!0);try{await _Y(e,{status:jY,paidAt:(new Date).toISOString()}),alert("Ordine marcato come pagato!"),P()}catch(t){console.error("Errore nel marcare come pagato:",t)}finally{c(!1)}},disabled:s,className:"w-full bg-purple-600 hover:bg-purple-700",children:[(0,or.jsx)(oX,{className:"w-4 h-4 mr-2"}),s?"Marcando...":"Marca come Pagato"]}),(0,or.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[(0,or.jsx)("strong",{children:"Chiudi Ordine:"})," Marca come ricevuto \u2022 ",(0,or.jsx)("strong",{children:"Marca Pagato:"})," Completa il pagamento"]})]})]})]}),r.status===wY&&(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Rt,{className:"w-5 h-5"}),"Tracciamento Spedizione"]})}),(0,or.jsx)(Sk,{children:r.trackingNumber?(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-sm text-gray-600",children:"Numero Tracking"}),(0,or.jsx)("p",{className:"font-medium",children:r.trackingNumber})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)(tY,{onClick:()=>A(r.trackingNumber),variant:"outline",size:"sm",children:"Aggiorna"}),(0,or.jsx)(tY,{onClick:()=>w(!0),variant:"outline",size:"sm",children:"Modifica"})]})]}),y&&(0,or.jsxs)("div",{className:"border rounded-lg p-4 ".concat("API non configurata"===y.status?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:[(0,or.jsx)("h4",{className:"font-medium mb-2 ".concat("API non configurata"===y.status?"text-yellow-900":"text-blue-900"),children:"Stato Spedizione"}),(0,or.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"API non configurata"===y.status?"text-yellow-700":"text-blue-700",children:"Stato:"}),(0,or.jsx)("span",{className:"font-medium ".concat((W=y.status,{Consegnato:"text-green-600","In consegna":"text-blue-600","In transito":"text-yellow-600","In elaborazione":"text-gray-600",Spedito:"text-purple-600","API non configurata":"text-yellow-600"}[W]||"text-gray-600")),children:y.status})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"API non configurata"===y.status?"text-yellow-700":"text-blue-700",children:"Ultima Posizione:"}),(0,or.jsx)("span",{className:"font-medium",children:y.location})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"API non configurata"===y.status?"text-yellow-700":"text-blue-700",children:"Ultimo Aggiornamento:"}),(0,or.jsx)("span",{className:"font-medium",children:yX(y.lastUpdate)})]}),y.carrier&&(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"API non configurata"===y.status?"text-yellow-700":"text-blue-700",children:"Corriere:"}),(0,or.jsx)("span",{className:"font-medium",children:y.carrier})]}),y.estimatedDelivery&&(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"API non configurata"===y.status?"text-yellow-700":"text-blue-700",children:"Consegna Stimata:"}),(0,or.jsx)("span",{className:"font-medium",children:yX(y.estimatedDelivery)})]}),y.message&&(0,or.jsxs)("div",{className:"mt-3 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-800",children:[(0,or.jsx)("strong",{children:"Nota:"})," ",y.message]})]})]})]}):(0,or.jsxs)("div",{className:"text-center py-4",children:[(0,or.jsx)("p",{className:"text-gray-600 mb-4",children:"Nessun numero di tracking configurato"}),(0,or.jsxs)(tY,{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,or.jsx)(Rt,{className:"w-4 h-4 mr-2"}),"Aggiungi Tracking"]})]})})]}),(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(Rt,{className:"w-5 h-5"}),"Informazioni di Spedizione"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Indirizzo di Destinazione"}),(0,or.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Nome:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingName||"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Indirizzo:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingAddress||"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Citt\xe0:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingCity||"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"CAP:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingZip||"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Telefono:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingPhone||"Non specificato"})]})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Dettagli Spedizione"}),(0,or.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Corriere:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingCarrier||"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Servizio:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingService||"Standard"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Costo spedizione:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingCost?I(r.shippingCost):"Non specificato"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Stato pagamento spedizione:"}),(0,or.jsx)("p",{className:"font-medium ".concat(r.shippingPaid?"text-green-600":"text-red-600"),children:r.shippingPaid?"Pagata":"Da pagare"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Data spedizione:"}),(0,or.jsx)("p",{className:"font-medium",children:r.shippingDate?M(r.shippingDate):"Non specificato"})]})]})]})]}),(0,or.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)(tY,{onClick:()=>D(!0),variant:"outline",size:"sm",children:"Modifica Info Spedizione"}),r.shippingCost&&!r.shippingPaid&&(0,or.jsx)(tY,{onClick:()=>{_Y(e,{shippingPaid:!0,shippingPaidAt:(new Date).toISOString()}),P()},size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Marca Spedizione Pagata"})]})})]})]}),(r.status===xY||r.status===wY||r.status===SY)&&(0,or.jsxs)(bk,{className:"mb-6",children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(xX,{className:"w-5 h-5"}),"Scansione Prodotti"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)(FY,{placeholder:"Scansiona codice a barre o inserisci SKU...",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&z(),className:"flex-1",autoFocus:!0}),(0,or.jsx)(tY,{onClick:z,disabled:s||!i.trim(),className:"px-6",children:s?"Scansionando...":"Conferma"})]}),p&&(0,or.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)(oX,{className:"w-5 h-5 text-green-600"}),(0,or.jsxs)("span",{className:"font-medium text-green-800",children:["Prodotto confermato: ",p.name]})]}),(0,or.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Ricevuti: ",p.quantity," di ",p.totalQuantity]})]}),V.received>0&&(0,or.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,or.jsxs)(tY,{onClick:()=>{if(V.received>=V.total){_Y(e,{status:kY});const t=F(),n=r.totalValue-q;let a=0===n?"Ordine completato! Tutti i prodotti sono stati ricevuti.":"Ordine completato! Tutti i prodotti sono stati ricevuti.\n\nRiepilogo:\n- Valore ordine: ".concat(I(r.totalValue),"\n- Valore ricevuto: ").concat(I(q),"\n- Differenza: ").concat(I(n));t&&(a+="\n\nMagazzino aggiornato:\n- ".concat(t.updatedCount," prodotti aggiornati\n- ").concat(t.newCount," nuovi prodotti aggiunti")),alert(a),P()}else d(!0)},className:"w-full bg-blue-600 hover:bg-blue-700",children:[(0,or.jsx)(oX,{className:"w-4 h-4 mr-2"}),"Conferma Ordine (",V.received," di ",V.total," prodotti)"]})})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Prodotti dell'Ordine"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)("div",{className:"space-y-3",children:(Array.isArray(r.products)?r.products:[]).map(e=>{const t=L(e.sku),n=t?t.quantity:0,r=n>=e.quantity,a=n>0&&n<e.quantity,i=U.find(t=>t.sku===e.sku),o=localStorage.getItem("foto_".concat(e.sku));return(0,or.jsx)("div",{className:"p-4 border rounded-lg ".concat(r?"bg-green-50 border-green-200":a?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"),children:(0,or.jsxs)("div",{className:"flex gap-4",children:[(0,or.jsx)("div",{className:"flex-shrink-0",children:o?(0,or.jsx)("img",{src:o,alt:"Foto ".concat(e.sku),className:"w-20 h-20 object-contain rounded border bg-white"}):(0,or.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded border flex items-center justify-center",children:(0,or.jsx)(xX,{className:"w-8 h-8 text-gray-400"})})}),(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,or.jsxs)("h3",{className:"font-medium",children:[e.sku,(0,or.jsx)("span",{className:i?"ml-2 text-gray-900":"ml-2 text-red-600 font-semibold",children:i?i.nome:"Prodotto non in magazzino"}),!i&&(0,or.jsx)(tY,{size:"xs",className:"ml-1 px-2 py-0.5 text-xs bg-red-100 text-red-700 border-red-300",onClick:()=>{N({sku:e.sku,nome:e.name||"",quantita:e.quantity,prezzo:e.price,anagrafica:"",tipologia:"",marca:""}),S(!0)},children:(0,or.jsx)(sX,{className:"w-3 h-3 inline"})})]}),r&&(0,or.jsx)(oX,{className:"w-4 h-4 text-green-600"}),a&&(0,or.jsx)(eX,{className:"w-4 h-4 text-yellow-600"})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Quantit\xe0 ordinata:"}),(0,or.jsx)("p",{className:"font-medium",children:e.quantity})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Quantit\xe0 ricevuta:"}),(0,or.jsx)("p",{className:"font-medium",children:n})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Prezzo unitario:"}),(0,or.jsx)("p",{className:"font-medium",children:I(e.price)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-500",children:"Valore totale:"}),(0,or.jsx)("p",{className:"font-medium",children:I(e.price*e.quantity)})]})]}),(0,or.jsx)("div",{className:"mt-2",children:(0,or.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs text-blue-600 hover:text-blue-700 cursor-pointer",children:[(0,or.jsx)(xX,{className:"w-3 h-3"}),(0,or.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{const n=t.target.files[0];if(n){const t=new FileReader;t.onload=t=>{localStorage.setItem("foto_".concat(e.sku),t.target.result),P()},t.readAsDataURL(n)}},className:"hidden"}),o?"Cambia foto":"Aggiungi foto"]})})]})]})},e.sku)})})})]}),x&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,or.jsx)(Rt,{className:"w-6 h-6 text-blue-600"}),(0,or.jsx)("h3",{className:"text-lg font-semibold",children:"Tracciamento Spedizione"})]}),(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numero Tracking"}),(0,or.jsx)(FY,{placeholder:"Inserisci il numero di tracking...",value:g,onChange:e=>v(e.target.value)})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Corriere (opzionale)"}),(0,or.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"",children:"Seleziona corriere..."}),(0,or.jsx)("option",{value:"fedex",children:"FedEx"}),(0,or.jsx)("option",{value:"ups",children:"UPS"}),(0,or.jsx)("option",{value:"dhl",children:"DHL"}),(0,or.jsx)("option",{value:"tnt",children:"TNT"}),(0,or.jsx)("option",{value:"poste",children:"Poste Italiane"}),(0,or.jsx)("option",{value:"bartolini",children:"Bartolini"}),(0,or.jsx)("option",{value:"gls",children:"GLS"}),(0,or.jsx)("option",{value:"sda",children:"SDA"})]})]})]}),(0,or.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,or.jsx)(tY,{onClick:()=>{g.trim()&&(_Y(e,{trackingNumber:g.trim(),trackingAddedAt:(new Date).toISOString()}),w(!1),v(""),P())},disabled:!g.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Salva Tracking"}),(0,or.jsx)(tY,{onClick:()=>{w(!1),v("")},variant:"outline",className:"flex-1",children:"Annulla"})]})]})}),u&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,or.jsx)(eX,{className:"w-6 h-6 text-orange-600"}),(0,or.jsx)("h3",{className:"text-lg font-semibold",children:"Ordine Parziale"})]}),(0,or.jsx)("p",{className:"text-gray-600 mb-4",children:"Non tutti i prodotti sono stati ricevuti. Vuoi chiudere l'ordine come parziale?"}),(0,or.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Riepilogo Valori"}),(0,or.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Valore totale ordine:"}),(0,or.jsx)("span",{className:"font-medium",children:I(r.totalValue)})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Valore prodotti ricevuti:"}),(0,or.jsx)("span",{className:"font-medium text-green-600",children:I(q)})]}),(0,or.jsx)("div",{className:"border-t pt-2",children:(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Differenza:"}),(0,or.jsx)("span",{className:"font-medium ".concat(r.totalValue-q>0?"text-red-600":"text-green-600"),children:I(r.totalValue-q)})]})})]})]}),(0,or.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[(0,or.jsx)("h4",{className:"font-medium text-orange-900 mb-2",children:"Valore da Pagare"}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:I(q)}),(0,or.jsx)("p",{className:"text-sm text-orange-700",children:"Solo per i prodotti ricevuti"})]})]}),(0,or.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,or.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Scadenza Pagamento"}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-lg font-semibold text-blue-600 mb-1",children:r.paymentDate?M(r.paymentDate):"Non specificata"}),(0,or.jsx)("p",{className:"text-sm text-blue-700",children:r.paymentDate?"Data scadenza pagamento":"Aggiungi data scadenza"})]})]}),(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Motivo (opzionale)"}),(0,or.jsx)(FY,{placeholder:"Es: prodotti mancanti, ritardi fornitore...",value:h,onChange:e=>f(e.target.value)})]}),(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Scadenza Pagamento"}),(0,or.jsx)(FY,{type:"date",value:r.paymentDate?r.paymentDate.split("T")[0]:"",onChange:t=>{l(l({},r),{},{paymentDate:t.target.value});_Y(e,{paymentDate:t.target.value})}})]}),(0,or.jsxs)("div",{className:"flex gap-3",children:[(0,or.jsx)(tY,{onClick:async()=>{c(!0);try{const t=new Date(r.purchaseDate),n=new Date(t);n.setDate(n.getDate()+30),await _Y(e,{status:SY,partialReason:h||"Ordine parziale - prodotti mancanti",paymentDate:n.toISOString().split("T")[0],partialClosedAt:(new Date).toISOString()});const a=F();d(!1),f("");let i="Ordine parziale chiuso! L'ordine \xe8 ora marcato come ricevuto.";a&&(i+="\n\nMagazzino aggiornato:\n- ".concat(a.updatedCount," prodotti aggiornati\n- ").concat(a.newCount," nuovi prodotti aggiunti")),alert(i),P()}catch(t){console.error("Errore nel chiudere ordine parziale:",t)}finally{c(!1)}},disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?"Salvando...":"Chiudi Parziale"}),(0,or.jsx)(tY,{onClick:()=>d(!1),variant:"outline",className:"flex-1",children:"Continua Scansione"})]})]})}),k&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[(0,or.jsx)("h2",{className:"text-xl font-bold mb-3 text-center",children:"Aggiungi nuovo prodotto"}),(0,or.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!j.sku.trim()||!j.nome.trim()||!j.quantita||!j.prezzo)return;const t=await Ck();if(t.some(e=>e.sku===j.sku.trim()))return;const n={sku:j.sku.trim(),nome:j.nome.trim(),quantita:parseInt(j.quantita),prezzo:parseFloat((""+j.prezzo).replace(",",".")),anagrafica:j.anagrafica.trim(),tipologia:j.tipologia.trim(),marca:j.marca.trim()},r=[...t,n];await Ok(r),B(r),await Tk({sku:n.sku,data:(new Date).toISOString(),quantita:n.quantita,prezzo:n.prezzo,tipo:"da ordine fornitore"}),S(!1)},className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1",placeholder:"SKU*",value:j.sku,onChange:e=>N(t=>l(l({},t),{},{sku:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1",placeholder:"Nome*",value:j.nome,onChange:e=>N(t=>l(l({},t),{},{nome:e.target.value}))})]}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 w-24",placeholder:"Quantit\xe0*",type:"number",min:"0",value:j.quantita,onChange:e=>N(t=>l(l({},t),{},{quantita:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 w-24",placeholder:"Prezzo*",type:"text",value:j.prezzo,onChange:e=>N(t=>l(l({},t),{},{prezzo:e.target.value}))})]}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Anagrafica",value:j.anagrafica,onChange:e=>N(t=>l(l({},t),{},{anagrafica:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Tipologia",value:j.tipologia,onChange:e=>N(t=>l(l({},t),{},{tipologia:e.target.value}))}),(0,or.jsx)("input",{className:"border rounded px-2 py-1 flex-1 min-w-0 max-w-[150px]",placeholder:"Marca",value:j.marca,onChange:e=>N(t=>l(l({},t),{},{marca:e.target.value}))})]}),(0,or.jsxs)("div",{className:"flex gap-2 justify-end mt-2",children:[(0,or.jsx)(tY,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annulla"}),(0,or.jsx)(tY,{type:"submit",children:"Salva"})]})]})]})}),_&&O&&(0,or.jsx)(IY,{isOpen:_,onClose:()=>E(!1),data:O}),T&&(0,or.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,or.jsx)(Rt,{className:"w-6 h-6 text-blue-600"}),(0,or.jsx)("h3",{className:"text-lg font-semibold",children:"Modifica Informazioni di Spedizione"})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Indirizzo di Destinazione"}),(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome destinatario"}),(0,or.jsx)(FY,{placeholder:"Nome e cognome",value:r.shippingName||"",onChange:t=>_Y(e,{shippingName:t.target.value})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Indirizzo"}),(0,or.jsx)(FY,{placeholder:"Via, numero civico",value:r.shippingAddress||"",onChange:t=>_Y(e,{shippingAddress:t.target.value})})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Citt\xe0"}),(0,or.jsx)(FY,{placeholder:"Citt\xe0",value:r.shippingCity||"",onChange:t=>_Y(e,{shippingCity:t.target.value})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CAP"}),(0,or.jsx)(FY,{placeholder:"CAP",value:r.shippingZip||"",onChange:t=>_Y(e,{shippingZip:t.target.value})})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefono"}),(0,or.jsx)(FY,{placeholder:"Numero di telefono",value:r.shippingPhone||"",onChange:t=>_Y(e,{shippingPhone:t.target.value})})]})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Dettagli Spedizione"}),(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Corriere"}),(0,or.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:r.shippingCarrier||"",onChange:t=>_Y(e,{shippingCarrier:t.target.value}),children:[(0,or.jsx)("option",{value:"",children:"Seleziona corriere..."}),(0,or.jsx)("option",{value:"fedex",children:"FedEx"}),(0,or.jsx)("option",{value:"ups",children:"UPS"}),(0,or.jsx)("option",{value:"dhl",children:"DHL"}),(0,or.jsx)("option",{value:"tnt",children:"TNT"}),(0,or.jsx)("option",{value:"poste",children:"Poste Italiane"}),(0,or.jsx)("option",{value:"bartolini",children:"Bartolini"}),(0,or.jsx)("option",{value:"gls",children:"GLS"}),(0,or.jsx)("option",{value:"sda",children:"SDA"}),(0,or.jsx)("option",{value:"altro",children:"Altro"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servizio di spedizione"}),(0,or.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:r.shippingService||"standard",onChange:t=>_Y(e,{shippingService:t.target.value}),children:[(0,or.jsx)("option",{value:"standard",children:"Standard"}),(0,or.jsx)("option",{value:"express",children:"Express"}),(0,or.jsx)("option",{value:"priority",children:"Priority"}),(0,or.jsx)("option",{value:"economy",children:"Economy"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Costo spedizione (\u20ac)"}),(0,or.jsx)(FY,{type:"number",step:"0.01",placeholder:"0.00",value:r.shippingCost||"",onChange:t=>_Y(e,{shippingCost:parseFloat(t.target.value)||0})})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data spedizione"}),(0,or.jsx)(FY,{type:"date",value:r.shippingDate?r.shippingDate.split("T")[0]:"",onChange:t=>_Y(e,{shippingDate:t.target.value})})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("input",{type:"checkbox",id:"shippingPaid",checked:r.shippingPaid||!1,onChange:t=>_Y(e,{shippingPaid:t.target.checked,shippingPaidAt:t.target.checked?(new Date).toISOString():null})}),(0,or.jsx)("label",{htmlFor:"shippingPaid",className:"text-sm font-medium text-gray-700",children:"Spedizione pagata"})]})]})]})]}),(0,or.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,or.jsx)(tY,{onClick:()=>{D(!1),P()},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Salva Modifiche"}),(0,or.jsx)(tY,{onClick:()=>D(!1),variant:"outline",className:"flex-1",children:"Annulla"})]})]})})]});var W},kX=Dt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function SX(e,t,n){const r=new Date;let a,i=new Date(r);switch(e){case"last_7_days":default:a=new Date(r.getTime()-6048e5);break;case"last_30_days":a=new Date(r.getTime()-2592e6);break;case"custom":t&&n?(a=new Date(t),i=new Date(n)):a=new Date(r.getTime()-6048e5)}return{startDate:a,endDate:i}}const jX=()=>{const[e,n]=(0,t.useState)("last_7_days"),[r,a]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[s,c]=(0,t.useState)(0),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(0),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)({date:"",amount:"",category:"altro",description:"",linkedTo:"",linkedType:"none",nominativo:""}),[x,w]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),j=[{value:"none",label:"Nessun collegamento"},{value:"order",label:"Ordine Shopify"},{value:"supplier",label:"Ordine Fornitore"},{value:"product",label:"Prodotto specifico"},{value:"campaign",label:"Campagna Marketing"}],[N,_]=(0,t.useState)([]),[E,O]=(0,t.useState)([]),[C,T]=(0,t.useState)(""),[D,P]=(0,t.useState)(""),[A,I]=(0,t.useState)(""),[M,R]=(0,t.useState)(""),[L,z]=(0,t.useState)("date_desc");(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("costs")||"[]");w(e)},[]),(0,t.useEffect)(()=>{(()=>{const e=localStorage.getItem("costCategories");if(e){const t=JSON.parse(e);S(t),t.length>0&&b(e=>l(l({},e),{},{category:t[0].value}))}else{S([{value:"marketing",label:"Marketing",color:"#3B82F6"},{value:"logistica",label:"Logistica/Spedizioni",color:"#10B981"},{value:"personale",label:"Personale",color:"#8B5CF6"},{value:"affitti",label:"Affitti/Spese fisse",color:"#F59E0B"},{value:"utilities",label:"Utilities",color:"#06B6D4"},{value:"altro",label:"Altro",color:"#6B7280"}])}})()},[]),(0,t.useEffect)(()=>{const t=localStorage.getItem("manualMetrics");let n=[];t&&(n=JSON.parse(t));const a=localStorage.getItem("shopify_orders");let o=[];a&&(o=JSON.parse(a));const{startDate:s,endDate:l}=SX(e,r,i),u=n.filter(e=>{const t=new Date(e.weekStart),n=new Date(e.weekStart);return n.setDate(n.getDate()+6),t<=l&&n>=s}).reduce((e,t)=>{var n,r,a;return e+((null===(n=t.googleAds)||void 0===n?void 0:n.spent)||0)+((null===(r=t.meta)||void 0===r?void 0:r.spent)||0)+((null===(a=t.tiktok)||void 0===a?void 0:a.spent)||0)},0);c(u);const h=o.filter(e=>{const t=new Date(e.createdAt);return t>=s&&t<=l});let p=0;h.forEach(e=>{e.shippingPrice;const t=rr(e.shippingType,"");t.includes("express a domicilio")?p+=4.5:t.includes("punto di ritiro")?p+=3.6:p+=4.5}),d(p);const m=x.filter(e=>{const t=new Date(e.date);return t>=s&&t<=l}).reduce((e,t)=>e+(parseFloat(t.amount)||0),0);f(m)},[e,r,i,x]),(0,t.useEffect)(()=>{const e=localStorage.getItem("shopify_orders");if(e){const t=JSON.parse(e);_(t.slice(0,50))}const t=localStorage.getItem("supplier_orders");if(t){const e=JSON.parse(t);O(e.slice(0,50))}},[]);const F=t=>{const n=l(l({id:Date.now()},t),{},{createdAt:(new Date).toISOString(),nominativo:t.nominativo||"Sistema",method:t.method||"manual",fileData:t.fileData||null}),a=[...JSON.parse(localStorage.getItem("costs")||"[]"),n];localStorage.setItem("costs",JSON.stringify(a)),w(a),m(null);const{startDate:o,endDate:s}=SX(e,r,i),c=a.filter(e=>{const t=new Date(e.date);return t>=o&&t<=s}).reduce((e,t)=>"marketing"!==t.category?e+(t.amount||0):e,0);f(c),b({date:"",amount:"",category:k.length>0?k[0].value:"altro",description:"",linkedTo:"",linkedType:"none",nominativo:""})},U=()=>{const{startDate:t,endDate:n}=SX(e,r,i);let a=x.filter(e=>{const r=new Date(e.date),a=r>=t&&r<=n,i=!C||e.category===C,o=!D||e.method===D,s=!A||ar(e.nominativo,A),l=!M||e.amount>=parseFloat(M);return a&&i&&o&&s&&l});return a.sort((e,t)=>{switch(L){case"date_desc":default:return new Date(t.date)-new Date(e.date);case"date_asc":return new Date(e.date)-new Date(t.date);case"amount_desc":return t.amount-e.amount;case"amount_asc":return e.amount-t.amount;case"nominativo_asc":return e.nominativo.localeCompare(t.nominativo);case"nominativo_desc":return t.nominativo.localeCompare(e.nominativo);case"category_asc":return(e.category||"").localeCompare(t.category||"")}}),a};(0,t.useEffect)(()=>{const e=U();console.log("Costi filtrati:",e.length,"per il periodo selezionato")},[e,r,i]);const{startDate:B,endDate:V}=SX(e,r,i);return(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsx)("div",{className:"flex items-center justify-between",children:(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold",children:"Analisi Costi"}),(0,or.jsx)("p",{className:"text-muted-foreground",children:"Monitoraggio costi e analisi economiche"})]})}),(0,or.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("label",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{children:"Periodo:"}),(0,or.jsxs)("select",{value:e,onChange:e=>n(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"last_7_days",children:"Ultimi 7 giorni"}),(0,or.jsx)("option",{value:"last_30_days",children:"Ultimi 30 giorni"}),(0,or.jsx)("option",{value:"custom",children:"Personalizzato"})]})]}),"custom"===e&&(0,or.jsx)(fX,{startDate:r?new Date(r):null,endDate:i?new Date(i):null,onDateChange:e=>{let[t,n]=e;a(t?t.toISOString().slice(0,10):""),o(n?n.toISOString().slice(0,10):"")}}),(0,or.jsxs)("span",{className:"text-gray-600 ml-4",children:[B.toLocaleDateString("it-IT")," \u2013 ",V.toLocaleDateString("it-IT")]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(iX,{className:"h-5 w-5"}),"Carica Fattura (OCR)"]}),(0,or.jsx)(kk,{children:"Carica una fattura per riconoscimento automatico di data e importo"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Carica Fattura (OCR)"}),(0,or.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];t&&(e=>{if(!e)return;v(!0);const t=new FileReader;t.onload=t=>{const n=t.target.result.split(",")[1],r=rr(e.name,""),a=e.size;let i="";const o=r.match(/(\d{2})[\/\-.](\d{2})[\/\-.](\d{4})/);i=o?"".concat(o[3],"-").concat(o[2],"-").concat(o[1]):(new Date).toISOString().slice(0,10);const s=(Math.floor(a/1e3)+50+100*Math.random()).toFixed(2),l=["Fornitore ABC SRL","Servizi Digitali Srl","Marketing Solutions","Agenzia Pubblicitaria XYZ","Google Ads","Meta Advertising","Spedizioni Express"],c=l[Math.floor(Math.random()*l.length)];m({date:i,amount:parseFloat(s),intestazione:c,description:"Fattura ".concat(e.name),confidence:.8,fileData:{name:e.name,type:e.type,size:e.size,data:n}}),v(!1)},t.readAsDataURL(e)})(t)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,or.jsx)("p",{className:"text-xs text-gray-500",children:"Supporta PDF, JPG, JPEG, PNG"})]}),g&&(0,or.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,or.jsx)("p",{className:"text-blue-800",children:"Analizzando il documento..."})}),p&&(0,or.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Risultati OCR - Conferma Dati:"}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Data riconosciuta:"}),(0,or.jsx)("input",{type:"date",value:p.date,onChange:e=>m(l(l({},p),{},{date:e.target.value})),className:"w-full px-3 py-2 border rounded-md"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Importo riconosciuto (\u20ac):"}),(0,or.jsx)("input",{type:"number",step:"0.01",value:p.amount,onChange:e=>m(l(l({},p),{},{amount:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border rounded-md"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Intestazione:"}),(0,or.jsx)("input",{type:"text",value:p.intestazione,onChange:e=>m(l(l({},p),{},{intestazione:e.target.value})),className:"w-full px-3 py-2 border rounded-md"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoria:"}),(0,or.jsx)("select",{value:p.category||(k.length>0?k[0].value:"altro"),onChange:e=>m(l(l({},p),{},{category:e.target.value})),className:"w-full px-3 py-2 border rounded-md",children:k.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,or.jsxs)("div",{className:"md:col-span-2",children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descrizione:"}),(0,or.jsx)("input",{type:"text",value:p.description,onChange:e=>m(l(l({},p),{},{description:e.target.value})),className:"w-full px-3 py-2 border rounded-md"})]})]}),(0,or.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,or.jsx)("button",{onClick:()=>{F({date:p.date,amount:parseFloat(p.amount),category:p.category||(k.length>0?k[0].value:"altro"),description:p.description,linkedTo:"",linkedType:"none",nominativo:"Sistema",method:"ocr",fileData:p.fileData}),alert("Costo OCR salvato con successo!")},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm",children:"\u2705 Conferma e Salva"}),(0,or.jsx)("button",{onClick:()=>m(null),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 text-sm",children:"\u274c Annulla"})]})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:[(0,or.jsx)(kX,{className:"h-5 w-5"}),"Aggiungi Costo Manuale"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nominativo *"}),(0,or.jsx)("input",{type:"text",value:y.nominativo,onChange:e=>b(l(l({},y),{},{nominativo:e.target.value})),placeholder:"Nome di chi carica il costo",className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Data"}),(0,or.jsx)("input",{type:"date",value:y.date,onChange:e=>b(l(l({},y),{},{date:e.target.value})),className:"w-full px-3 py-2 border rounded-md"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Importo (\u20ac)"}),(0,or.jsx)("input",{type:"number",step:"0.01",value:y.amount,onChange:e=>b(l(l({},y),{},{amount:e.target.value})),className:"w-full px-3 py-2 border rounded-md",placeholder:"0.00"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),(0,or.jsx)("select",{value:y.category,onChange:e=>b(l(l({},y),{},{category:e.target.value})),className:"w-full px-3 py-2 border rounded-md",children:k.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descrizione"}),(0,or.jsx)("input",{type:"text",value:y.description,onChange:e=>b(l(l({},y),{},{description:e.target.value})),className:"w-full px-3 py-2 border rounded-md",placeholder:"Descrizione costo"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipo Collegamento"}),(0,or.jsx)("select",{value:y.linkedType,onChange:e=>{b(l(l({},y),{},{linkedType:e.target.value,linkedTo:""}))},className:"w-full px-3 py-2 border rounded-md",children:j.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Collegamento"}),"order"===y.linkedType&&(0,or.jsxs)("select",{value:y.linkedTo,onChange:e=>b(l(l({},y),{},{linkedTo:e.target.value})),className:"w-full px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"",children:"Seleziona ordine..."}),N.map(e=>{var t;return(0,or.jsxs)("option",{value:e.id,children:["#",e.orderNumber," - ",e.customerName||"Cliente"," - ",null===(t=e.totalPrice)||void 0===t?void 0:t.toLocaleString("it-IT",{style:"currency",currency:"EUR"})]},e.id)})]}),"supplier"===y.linkedType&&(0,or.jsxs)("select",{value:y.linkedTo,onChange:e=>b(l(l({},y),{},{linkedTo:e.target.value})),className:"w-full px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"",children:"Seleziona ordine fornitore..."}),E.map(e=>{var t;return(0,or.jsxs)("option",{value:e.id,children:["#",e.numero_ordine," - ",e.fornitore," - ",null===(t=e.importo_totale)||void 0===t?void 0:t.toLocaleString("it-IT",{style:"currency",currency:"EUR"})]},e.id)})]}),"product"===y.linkedType&&(0,or.jsx)("input",{type:"text",value:y.linkedTo,onChange:e=>b(l(l({},y),{},{linkedTo:e.target.value})),className:"w-full px-3 py-2 border rounded-md",placeholder:"SKU o nome prodotto"}),"campaign"===y.linkedType&&(0,or.jsx)("input",{type:"text",value:y.linkedTo,onChange:e=>b(l(l({},y),{},{linkedTo:e.target.value})),className:"w-full px-3 py-2 border rounded-md",placeholder:"Nome campagna marketing"}),"none"===y.linkedType&&(0,or.jsx)("input",{type:"text",value:y.linkedTo,onChange:e=>b(l(l({},y),{},{linkedTo:e.target.value})),className:"w-full px-3 py-2 border rounded-md",placeholder:"Nessun collegamento",disabled:!0})]})]}),(0,or.jsx)("div",{className:"mt-4",children:(0,or.jsx)("button",{onClick:()=>{if(!y.date||!y.amount||!y.nominativo)return void alert("Compila data, importo e nominativo");const e={date:y.date,amount:parseFloat(y.amount),category:y.category,description:y.description,linkedTo:y.linkedTo,linkedType:y.linkedType,nominativo:y.nominativo,method:"manual"};F(e),alert("Costo manuale salvato con successo!")},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",disabled:!y.date||!y.amount||!y.nominativo,children:"Salva Costo"})})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Spesa Marketing"}),(0,or.jsx)(zt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:s.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("p",{className:"text-xs text-muted-foreground",children:"Costi marketing del periodo"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Spese Spedizione"}),(0,or.jsx)(Rt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:u.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("p",{className:"text-xs text-muted-foreground",children:"Spedizioni non pagate dal cliente"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Altri Costi"}),(0,or.jsx)(Lt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:h.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("p",{className:"text-xs text-muted-foreground",children:"Costi manuali e OCR del periodo"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Totale Costi"}),(0,or.jsx)(zt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:(s+u+h).toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tutti i costi del periodo"})]})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{className:"flex items-center gap-2",children:"\ud83d\udcca Distribuzione Costi per Categoria"}),(0,or.jsx)(kk,{children:"Analisi dei costi suddivisi per categoria nel periodo selezionato"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-4",children:[(()=>{const e={};U().forEach(t=>{const n=t.category||"altro";e[n]=(e[n]||0)+t.amount});const t=Object.values(e).reduce((e,t)=>e+t,0);return Object.entries(e).map(e=>{let[n,r]=e;const a=t>0?(r/t*100).toFixed(1):0,i=k.find(e=>e.value===n);return(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-3",children:[(0,or.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===i||void 0===i?void 0:i.color)||"#6B7280"}}),(0,or.jsx)("span",{className:"font-medium",children:(null===i||void 0===i?void 0:i.label)||n})]}),(0,or.jsxs)("div",{className:"text-right",children:[(0,or.jsx)("div",{className:"font-bold",children:r.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsxs)("div",{className:"text-sm text-gray-500",children:[a,"%"]})]})]},n)})})(),0===U().length&&(0,or.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Nessun costo per questo periodo"})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)(wk,{className:"flex items-center gap-2",children:"\ud83d\udcc8 Andamento Temporale Costi"}),(0,or.jsx)(kk,{children:"Evoluzione dei costi nel periodo selezionato"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsx)("div",{className:"h-64",children:(()=>{const e={};U().forEach(t=>{const n=t.date;e[n]=(e[n]||0)+t.amount});const t=Object.keys(e).sort(),n=Math.max(...Object.values(e),0);return 0===t.length?(0,or.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Nessun costo per questo periodo"}):(0,or.jsxs)("div",{className:"h-full",children:[(0,or.jsx)("div",{className:"flex items-end justify-between h-48 gap-1",children:t.map((t,r)=>{const a=e[t],i=n>0?a/n*100:0,o=new Date(t).toDateString()===(new Date).toDateString();return(0,or.jsx)("div",{className:"flex-1 flex flex-col items-center",children:(0,or.jsxs)("div",{className:"relative w-full",children:[(0,or.jsx)("div",{className:"w-full rounded-t transition-all duration-300 ".concat(o?"bg-blue-500":"bg-blue-300"),style:{height:"".concat(i,"%")}}),(0,or.jsx)("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs text-gray-600 whitespace-nowrap",children:new Date(t).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})})]})},t)})}),(0,or.jsxs)("div",{className:"mt-8 flex justify-between text-xs text-gray-500",children:[(0,or.jsx)("span",{children:"0\u20ac"}),(0,or.jsx)("span",{children:n.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]})]})})()}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,or.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:U().length}),(0,or.jsx)("div",{className:"text-sm text-blue-600",children:"Costi Totali"})]}),(0,or.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-green-600",children:U().filter(e=>"ocr"===e.method).length}),(0,or.jsx)("div",{className:"text-sm text-green-600",children:"OCR Processati"})]})]}),(0,or.jsxs)("div",{className:"border-t pt-4",children:[(0,or.jsx)("h4",{className:"font-semibold mb-2",children:"Giorni con Maggiori Spese"}),(0,or.jsx)("div",{className:"space-y-1",children:(()=>{const e={};return U().forEach(t=>{const n=t.date;e[n]=(e[n]||0)+t.amount}),Object.entries(e).sort((e,t)=>{let[,n]=e,[,r]=t;return r-n}).slice(0,3).map(e=>{let[t,n]=e;return(0,or.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,or.jsx)("span",{children:new Date(t).toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"2-digit"})}),(0,or.jsx)("span",{className:"font-bold",children:n.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]},t)})})()})]})]})})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsx)("div",{className:"flex justify-between items-center",children:(0,or.jsxs)("div",{children:[(0,or.jsx)(wk,{children:"Lista Costi"}),(0,or.jsxs)(kk,{children:[U().length," costi trovati per il periodo selezionato"]})]})}),(0,or.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Categoria:"}),(0,or.jsxs)("select",{className:"px-3 py-1 border rounded-md text-sm",value:C,onChange:e=>T(e.target.value),children:[(0,or.jsx)("option",{value:"",children:"Tutte le categorie"}),k.map(e=>(0,or.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Metodo:"}),(0,or.jsxs)("select",{className:"px-3 py-1 border rounded-md text-sm",value:D,onChange:e=>P(e.target.value),children:[(0,or.jsx)("option",{value:"",children:"Tutti i metodi"}),(0,or.jsx)("option",{value:"manual",children:"Manuale"}),(0,or.jsx)("option",{value:"ocr",children:"OCR"})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Nominativo:"}),(0,or.jsx)("input",{type:"text",placeholder:"Cerca nominativo...",className:"px-3 py-1 border rounded-md text-sm",value:A,onChange:e=>I(e.target.value)})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Importo min:"}),(0,or.jsx)("input",{type:"number",placeholder:"0",className:"px-3 py-1 border rounded-md text-sm w-20",value:M,onChange:e=>R(e.target.value)})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Ordina per:"}),(0,or.jsxs)("select",{className:"px-3 py-1 border rounded-md text-sm",value:L,onChange:e=>z(e.target.value),children:[(0,or.jsx)("option",{value:"date_desc",children:"\ud83d\udcc5 Pi\xf9 recenti"}),(0,or.jsx)("option",{value:"date_asc",children:"\ud83d\udcc5 Pi\xf9 storici"}),(0,or.jsx)("option",{value:"amount_desc",children:"\ud83d\udcb0 Pi\xf9 costosi"}),(0,or.jsx)("option",{value:"amount_asc",children:"\ud83d\udcb0 Meno costosi"}),(0,or.jsx)("option",{value:"nominativo_asc",children:"\ud83d\udc64 Nominativo A-Z"}),(0,or.jsx)("option",{value:"nominativo_desc",children:"\ud83d\udc64 Nominativo Z-A"}),(0,or.jsx)("option",{value:"category_asc",children:"\ud83c\udff7\ufe0f Categoria A-Z"})]})]})]})]}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"space-y-3",children:U().map(t=>{var n;const a=k.find(e=>e.value===t.category),o=new Date(t.date).toDateString()===(new Date).toDateString();return(0,or.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:(0,or.jsxs)("div",{className:"flex items-center justify-between",children:[(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{className:"text-sm font-medium ".concat(o?"text-blue-600":"text-gray-600"),children:new Date(t.date).toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"2-digit"})}),o&&(0,or.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Oggi"})]}),(0,or.jsx)("div",{className:"font-medium text-gray-900 min-w-[120px]",children:t.nominativo}),t.description&&(0,or.jsx)("div",{className:"text-sm text-gray-600 max-w-[200px] truncate",children:t.description})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:(null===a||void 0===a?void 0:a.color)+"20",color:null===a||void 0===a?void 0:a.color},children:(null===a||void 0===a?void 0:a.label)||t.category}),(0,or.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("ocr"===t.method?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:"ocr"===t.method?"\ud83d\udcc4 OCR":"\u270f\ufe0f Manuale"}),t.fileData&&(0,or.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\ud83d\udcce File"}),t.linkedTo&&(0,or.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["\ud83d\udd17 ",null===(n=j.find(e=>e.value===t.linkedType))||void 0===n?void 0:n.label]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-4",children:[(0,or.jsx)("div",{className:"text-right",children:(0,or.jsx)("div",{className:"text-lg font-bold text-gray-900",children:t.amount.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})}),(0,or.jsxs)("div",{className:"flex gap-2",children:[(0,or.jsx)("button",{onClick:()=>(t=>{if(window.confirm("Sei sicuro di voler eliminare questo costo?")){const n=JSON.parse(localStorage.getItem("costs")||"[]").filter(e=>e.id!==t);localStorage.setItem("costs",JSON.stringify(n)),w(n);const{startDate:a,endDate:o}=SX(e,r,i),s=n.filter(e=>{const t=new Date(e.date);return t>=a&&t<=o}).reduce((e,t)=>"marketing"!==t.category?e+(t.amount||0):e,0);f(s),alert("Costo eliminato con successo!")}})(t.id),className:"text-red-600 hover:text-red-800 text-sm font-medium px-2 py-1 rounded hover:bg-red-50 transition-colors",title:"Elimina costo",children:"\ud83d\uddd1\ufe0f"}),t.fileData&&(0,or.jsx)("button",{onClick:()=>(e=>{if(!e||!e.data)return;const t=document.createElement("a");t.href=e.data,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)})(t.fileData),className:"text-blue-600 hover:text-blue-800 text-sm font-medium px-2 py-1 rounded hover:bg-blue-50 transition-colors",title:"Scarica file",children:"\ud83d\udce5"})]})]})]})},t.id)})}),0===U().length&&(0,or.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,or.jsxs)("div",{className:"mb-4",children:[(0,or.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,or.jsx)("p",{className:"text-lg font-medium mb-2",children:"Nessun costo trovato"}),(0,or.jsx)("p",{className:"text-sm text-gray-400",children:"Per questo periodo non sono stati registrati costi"})]}),(0,or.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[(0,or.jsx)("p",{className:"text-sm font-medium mb-2",children:"\ud83d\udca1 Suggerimenti:"}),(0,or.jsxs)("ul",{className:"text-sm text-gray-500 space-y-1",children:[(0,or.jsx)("li",{children:"\u2022 Cambia il periodo selezionato"}),(0,or.jsx)("li",{children:"\u2022 Aggiungi un nuovo costo manualmente"}),(0,or.jsx)("li",{children:"\u2022 Carica una fattura tramite OCR"})]})]})]})]})]})]})},NX=4.5;function _X(e,t,n){const r=new Date;let a,i=new Date(r);switch(e){case"last_7_days":a=new Date(r.getTime()-6048e5);break;case"last_30_days":default:a=new Date(r.getTime()-2592e6);break;case"last_90_days":a=new Date(r.getTime()-7776e6);break;case"custom":t&&n?(a=new Date(t),i=new Date(n)):a=new Date(r.getTime()-2592e6)}return{startDate:a,endDate:i}}const EX=()=>{var e,n,r,a,i,o,s,c;const[u,d]=(0,t.useState)("last_30_days"),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)("month"),[y,b]=(0,t.useState)((new Date).getFullYear()),[x,w]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[_,E]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("costs")||"[]"),t=JSON.parse(localStorage.getItem("shopify_orders")||"[]"),n=JSON.parse(localStorage.getItem("manualMetrics")||"[]");w(e),S(t),N(n);const r=localStorage.getItem("costCategories");r&&E(JSON.parse(r))},[]);const O=(e,t)=>{const n=JSON.parse(localStorage.getItem("magazzino_data")||"[]"),r=k.filter(n=>{const r=new Date(n.createdAt);return r>=e&&r<=t});let a=0;return r.forEach(e=>{e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{const t=n.find(t=>{var n,r;return t.sku===e.sku||t.sku===(null===(n=e.sku)||void 0===n?void 0:n.toString())||t.sku===(null===(r=e.variant_id)||void 0===r?void 0:r.toString())});if(t&&t.prezzo>0){const n=t.prezzo*e.quantity;a+=n}})}),a},C=()=>{const{startDate:e,endDate:t}=_X(u,h,p),n=[];let r=new Date(e);const a=new Date(t);if("week"===g){const e=new Date(y,0,1).getDay(),t=new Date(y,0,1+(0===e?6:e-1));r=new Date(t);const a=y===(new Date).getFullYear()?new Date:new Date(y,11,31);for(;r<=a;){const e=new Date(r);e.setDate(e.getDate()+6);const a=k.filter(t=>{const n=new Date(t.createdAt);return n>=r&&n<=e}),i=Math.floor((r-t)/6048e5)+1,o="Week ".concat(i),s=a.reduce((e,t)=>e+(parseFloat(t.totalPrice)||0),0),l=a.reduce((e,t)=>e+(parseFloat(t.shippingPrice)||0),0),c=a.reduce((e,t)=>{const n=rr(t.shippingType,"");return n.includes("express a domicilio")?e+NX:n.includes("punto di ritiro")?e+3.6:e+NX},0),u=j.filter(t=>{const n=new Date(t.weekStart),a=new Date(t.weekStart);return a.setDate(a.getDate()+6),n<=e&&a>=r}).reduce((e,t)=>{var n,r,a;return e+((null===(n=t.googleAds)||void 0===n?void 0:n.spent)||0)+((null===(r=t.meta)||void 0===r?void 0:r.spent)||0)+((null===(a=t.tiktok)||void 0===a?void 0:a.spent)||0)},0),d=x.filter(t=>{const n=new Date(t.date);return n>=r&&n<=e}).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),h=O(r,e),f=s-l,p=h,m=f-p,g=f>0?m/f*100:0,v=u+d+c+h,y=s-v,b=s>0?y/s*100:0,w=l-c,S=l>0?w/l*100:0;n.push({period:o,startDate:r,endDate:e,totalRevenue:s,shippingRevenue:l,shippingCosts:c,shippingProfit:w,shippingMargin:S,marketingCosts:u,otherCosts:d,purchaseCosts:h,productRevenue:f,productCosts:p,productProfit:m,productMargin:g,totalCosts:v,grossProfit:y,grossMargin:b,orderCount:a.length,avgOrderValue:a.length>0?s/a.length:0}),r.setDate(r.getDate()+7)}return n}for(;r<=a;){let e,t;switch(g){case"month":e=new Date(r.getFullYear(),r.getMonth()+1,0),t=r.toLocaleDateString("it-IT",{month:"long",year:"numeric"});break;case"quarter":const a=Math.floor(r.getMonth()/3)+1;e=new Date(r.getFullYear(),3*a,0),t="Q".concat(a," ").concat(r.getFullYear());break;default:e=new Date(r),e.setDate(e.getDate()+6);const i=n.length+1;t="Week ".concat(i)}const a=k.filter(t=>{const n=new Date(t.createdAt);return n>=r&&n<=e}),i=a.reduce((e,t)=>e+(parseFloat(t.totalPrice)||0),0),o=a.reduce((e,t)=>e+(parseFloat(t.shippingPrice)||0),0),s=a.reduce((e,t)=>{const n=rr(t.shippingType,"");return n.includes("express a domicilio")?e+NX:n.includes("punto di ritiro")?e+3.6:e+NX},0),l=j.filter(t=>{const n=new Date(t.weekStart),a=new Date(t.weekStart);return a.setDate(a.getDate()+6),n<=e&&a>=r}).reduce((e,t)=>{var n,r,a;return e+((null===(n=t.googleAds)||void 0===n?void 0:n.spent)||0)+((null===(r=t.meta)||void 0===r?void 0:r.spent)||0)+((null===(a=t.tiktok)||void 0===a?void 0:a.spent)||0)},0),c=x.filter(t=>{const n=new Date(t.date);return n>=r&&n<=e}).reduce((e,t)=>e+(parseFloat(t.amount)||0),0),u=O(r,e),d=i-o,h=u,f=d-h,p=d>0?f/d*100:0,m=l+c+s+u,v=i-m,y=i>0?v/i*100:0,b=o-s,w=o>0?b/o*100:0;switch(n.push({period:t,startDate:r,endDate:e,totalRevenue:i,shippingRevenue:o,shippingCosts:s,shippingProfit:b,shippingMargin:w,marketingCosts:l,otherCosts:c,purchaseCosts:u,productRevenue:d,productCosts:h,productProfit:f,productMargin:p,totalCosts:m,grossProfit:v,grossMargin:y,orderCount:a.length,avgOrderValue:a.length>0?i/a.length:0}),g){case"month":r.setMonth(r.getMonth()+1);break;case"quarter":r.setMonth(r.getMonth()+3);break;default:r.setDate(r.getDate()+7)}}return n},T=()=>{const{startDate:e,endDate:t}=_X(u,h,p),n=Math.ceil((t-e)/864e5),r=new Date(e);r.setDate(r.getDate()-n);const a=new Date(e);a.setDate(a.getDate()-1);const i=k.filter(e=>{const t=new Date(e.createdAt);return t>=r&&t<=a}),o=i.reduce((e,t)=>e+(parseFloat(t.totalPrice)||0),0),s=x.filter(e=>{const t=new Date(e.date);return t>=r&&t<=a}).reduce((e,t)=>e+(parseFloat(t.amount)||0),0);return{revenue:o,costs:s,profit:o-s,orderCount:i.length}},D=(e=>{let t=0,n=0,r=0,a=0;return e.map(e=>(t+=e.totalRevenue,n+=e.totalCosts,r+=e.grossProfit,a+=e.orderCount,l(l({},e),{},{cumulativeRevenue:t,cumulativeCosts:n,cumulativeProfit:r,cumulativeOrders:a,cumulativeMargin:t>0?r/t*100:0})))})(C());T(),(()=>{const e=C(),t=e[e.length-1]||{totalRevenue:0,totalCosts:0,grossProfit:0},n=T(),r=n.revenue>0?(t.totalRevenue-n.revenue)/n.revenue*100:0,a=n.costs>0?(t.totalCosts-n.costs)/n.costs*100:0,i=t.totalRevenue*(1+r/100),o=t.totalCosts*(1+a/100)})(),(()=>{const e=C(),t=e[e.length-1]||{avgOrderValue:0,marketingCosts:0,otherCosts:0,shippingCosts:0,orderCount:0},n=t.avgOrderValue,r=t.marketingCosts+t.otherCosts,a=t.shippingCosts/t.orderCount||0;if(n>a){const e=r/(n-a),t=e*n;return{breakEvenOrders:Math.ceil(e),breakEvenRevenue:Math.ceil(t),avgOrderValue:n,fixedCosts:r,variableCostsPerOrder:a}}})();return(0,or.jsxs)("div",{className:"space-y-6",children:[(0,or.jsx)("div",{className:"flex items-center justify-between",children:(0,or.jsxs)("div",{children:[(0,or.jsx)("h1",{className:"text-3xl font-bold",children:"Conto Economico"}),(0,or.jsx)("p",{className:"text-muted-foreground",children:"Analisi completa ricavi, costi e profittabilit\xe0"})]})}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Periodo:"}),(0,or.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"last_7_days",children:"Ultimi 7 giorni"}),(0,or.jsx)("option",{value:"last_30_days",children:"Ultimi 30 giorni"}),(0,or.jsx)("option",{value:"last_90_days",children:"Ultimi 90 giorni"}),(0,or.jsx)("option",{value:"custom",children:"Personalizzato"})]})]}),(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Vista:"}),(0,or.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"week",children:"Settimanale"}),(0,or.jsx)("option",{value:"month",children:"Mensile"}),(0,or.jsx)("option",{value:"quarter",children:"Trimestrale"})]})]}),"week"===g&&(0,or.jsxs)("div",{className:"flex items-center gap-2",children:[(0,or.jsx)("label",{className:"text-sm font-medium",children:"Anno:"}),(0,or.jsx)("select",{value:y,onChange:e=>b(parseInt(e.target.value)),className:"px-3 py-2 border rounded-md",children:Array.from({length:5},(e,t)=>(new Date).getFullYear()-t).map(e=>(0,or.jsx)("option",{value:e,children:e},e))})]}),"custom"===u&&(0,or.jsx)(fX,{startDate:h?new Date(h):null,endDate:p?new Date(p):null,onDateChange:e=>{let[t,n]=e;f(t?t.toISOString().slice(0,10):""),m(n?n.toISOString().slice(0,10):"")}})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center gap-2",children:["\ud83d\udcca Dashboard di Monitoraggio - Vista ","week"===g?"Settimanale":"month"===g?"Mensile":"Trimestrale"]}),(0,or.jsx)(kk,{children:"Sintesi per periodo con indicatori chiave"})]}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"overflow-x-auto",children:[(0,or.jsxs)("table",{className:"w-full text-sm",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,or.jsx)("th",{className:"text-left p-3 font-semibold min-w-[200px]",children:"Indicatore"}),D.map((e,t)=>(0,or.jsx)("th",{className:"text-right p-3 font-semibold min-w-[120px]",children:e.period},t)),(0,or.jsx)("th",{className:"text-right p-3 font-semibold min-w-[120px] bg-blue-50",children:"TOTALE"})]})}),(0,or.jsxs)("tbody",{children:[(0,or.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,or.jsx)("td",{className:"p-3 font-bold text-gray-700",children:"\ud83d\udcc8 SINTESI"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Totale Ricavi"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-green-600",children:e.totalRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-green-600 bg-blue-50",children:(null===(e=D[D.length-1])||void 0===e?void 0:e.cumulativeRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"}))||"\u20ac0,00"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Costi di Acquisto"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:e.purchaseCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.purchaseCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Totale Costi"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600",children:e.totalCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600 bg-blue-50",children:(null===(n=D[D.length-1])||void 0===n?void 0:n.cumulativeCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"}))||"\u20ac0,00"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"EBITDA"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold ".concat(e.grossProfit>=0?"text-green-600":"text-red-600"),children:e.grossProfit.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold bg-blue-50 ".concat((null===(r=D[D.length-1])||void 0===r?void 0:r.cumulativeProfit)>=0?"text-green-600":"text-red-600"),children:(null===(a=D[D.length-1])||void 0===a?void 0:a.cumulativeProfit.toLocaleString("it-IT",{style:"currency",currency:"EUR"}))||"\u20ac0,00"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Perc. di Margine"}),D.map((e,t)=>(0,or.jsxs)("td",{className:"p-3 text-right ".concat(e.grossMargin>=0?"text-green-600":"text-red-600"),children:[e.grossMargin.toFixed(1),"%"]},t)),(0,or.jsxs)("td",{className:"p-3 text-right bg-blue-50 ".concat((null===(i=D[D.length-1])||void 0===i?void 0:i.cumulativeMargin)>=0?"text-green-600":"text-red-600"),children:[(null===(o=D[D.length-1])||void 0===o?void 0:o.cumulativeMargin.toFixed(1))||"0.0","%"]})]}),(0,or.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,or.jsx)("td",{className:"p-3 font-bold text-gray-700",children:"\ud83d\udcb0 COSTI ADV"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Totale Costi ADV"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600",children:e.marketingCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.marketingCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"CPA ADV"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right",children:e.orderCount>0?(e.marketingCosts/e.orderCount).toLocaleString("it-IT",{style:"currency",currency:"EUR"}):"\u20ac0,00"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50",children:(()=>{const e=D.reduce((e,t)=>e+t.orderCount,0),t=D.reduce((e,t)=>e+t.marketingCosts,0);return e>0?(t/e).toLocaleString("it-IT",{style:"currency",currency:"EUR"}):"\u20ac0,00"})()})]}),(0,or.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,or.jsx)("td",{className:"p-3 font-bold text-gray-700",children:"\ud83d\uded2 DETTAGLIO VENDITE"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Prodotti Venduti"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right",children:e.orderCount},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50",children:D.reduce((e,t)=>e+t.orderCount,0)})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Quantit\xe0 Venduta"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right",children:e.orderCount},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50",children:D.reduce((e,t)=>e+t.orderCount,0)})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Ordini Ricevuti"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right",children:e.orderCount},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50",children:D.reduce((e,t)=>e+t.orderCount,0)})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Quantit\xe0 Acquistata"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right",children:e.orderCount},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50",children:D.reduce((e,t)=>e+t.orderCount,0)})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Gross Profit %"}),D.map((e,t)=>(0,or.jsxs)("td",{className:"p-3 text-right ".concat(e.grossMargin>=0?"text-green-600":"text-red-600"),children:[e.grossMargin.toFixed(1),"%"]},t)),(0,or.jsxs)("td",{className:"p-3 text-right bg-blue-50 ".concat((null===(s=D[D.length-1])||void 0===s?void 0:s.cumulativeMargin)>=0?"text-green-600":"text-red-600"),children:[(null===(c=D[D.length-1])||void 0===c?void 0:c.cumulativeMargin.toFixed(1))||"0.0","%"]})]}),(0,or.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,or.jsx)("td",{className:"p-3 font-bold text-gray-700",children:"\ud83d\udce6 MARGINI PRODOTTI"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Ricavi Prodotti"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-green-600",children:e.productRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-green-600 bg-blue-50",children:D.reduce((e,t)=>e+t.productRevenue,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Costi Prodotti"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600",children:e.productCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.productCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Profitto Prodotti"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold ".concat(e.productProfit>=0?"text-green-600":"text-red-600"),children:e.productProfit.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold bg-blue-50 ".concat(D.reduce((e,t)=>e+t.productProfit,0)>=0?"text-green-600":"text-red-600"),children:D.reduce((e,t)=>e+t.productProfit,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Margine Prodotti %"}),D.map((e,t)=>(0,or.jsxs)("td",{className:"p-3 text-right ".concat(e.productMargin>=0?"text-green-600":"text-red-600"),children:[e.productMargin.toFixed(1),"%"]},t)),(0,or.jsxs)("td",{className:"p-3 text-right bg-blue-50 ".concat((()=>{const e=D.reduce((e,t)=>e+t.productRevenue,0),t=D.reduce((e,t)=>e+t.productProfit,0);return(e>0?t/e*100:0)>=0?"text-green-600":"text-red-600"})()),children:[(()=>{const e=D.reduce((e,t)=>e+t.productRevenue,0),t=D.reduce((e,t)=>e+t.productProfit,0);return(e>0?t/e*100:0).toFixed(1)})(),"%"]})]}),(0,or.jsxs)("tr",{className:"border-b bg-gray-100",children:[(0,or.jsx)("td",{className:"p-3 font-bold text-gray-700",children:"\ud83d\udcb8 COSTI DETTAGLIATI"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right"},t)),(0,or.jsx)("td",{className:"p-3 text-right bg-blue-50"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Costi di Acquisto"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:e.purchaseCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.purchaseCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Costi ADV"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:e.marketingCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.marketingCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Google"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:"\u20ac0,00"},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:"\u20ac0,00"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Meta"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:"\u20ac0,00"},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:"\u20ac0,00"})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Costi di Spedizione"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right text-red-600",children:e.shippingCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.shippingCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("tr",{className:"border-b",children:[(0,or.jsx)("td",{className:"p-3 font-medium",children:"Totale Costi"}),D.map((e,t)=>(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600",children:e.totalCosts.toLocaleString("it-IT",{style:"currency",currency:"EUR"})},t)),(0,or.jsx)("td",{className:"p-3 text-right font-bold text-red-600 bg-blue-50",children:D.reduce((e,t)=>e+t.totalCosts,0).toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]})]})]}),0===D.length&&(0,or.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,or.jsx)("p",{className:"mb-2",children:"Nessun dato disponibile per questo periodo"}),(0,or.jsx)("p",{className:"text-sm",children:"Prova a cambiare il periodo o la vista"})]})]})})]})]})};function OX(e){const t=new Date(e);return{date:t.toLocaleDateString("it-IT"),time:t.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}}function CX(){const{sku:e}=pe(),n=fe(),[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(null),[s,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const t=await Ck();a(t.find(t=>t.sku===e));const n=localStorage.getItem("foto_".concat(e));n&&o(n);const r=localStorage.getItem("marca_".concat(e));r&&u(r);const i=localStorage.getItem("tipologia_".concat(e));i&&p(i);const s=Pk("magazzino_storico",{});l(s[e]||[])}catch(t){console.error("Errore nel caricare dati prodotto:",t)}})()},[e]);const v=(Array.isArray(s)?s:[]).map(e=>({date:OX(e.data).date+" "+OX(e.data).time,prezzo:e.prezzo}));return r?(0,or.jsxs)("div",{className:"max-w-2xl mx-auto py-8",children:[(0,or.jsx)("button",{onClick:()=>n("/magazzino"),className:"mb-4 text-blue-600 underline",children:"Torna al magazzino"}),(0,or.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-6 mb-6",children:[(0,or.jsxs)("div",{className:"flex flex-col items-center",children:[i?(0,or.jsx)("img",{src:i,alt:"Foto prodotto",className:"w-40 h-40 object-contain rounded shadow mb-2"}):(0,or.jsx)("div",{className:"w-40 h-40 flex items-center justify-center bg-muted rounded shadow mb-2 text-muted-foreground",children:"Nessuna foto"}),(0,or.jsxs)("label",{className:"block",children:[(0,or.jsx)("span",{className:"sr-only",children:"Carica foto"}),(0,or.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{const n=t.target.files[0];if(!n)return;const r=new FileReader;r.onload=t=>{o(t.target.result),localStorage.setItem("foto_".concat(e),t.target.result)},r.readAsDataURL(n)},className:"block w-full text-sm"})]})]}),(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsx)("h1",{className:"text-2xl font-bold mb-2",children:r.nome}),(0,or.jsxs)("div",{className:"mb-2",children:["SKU: ",(0,or.jsx)("b",{children:r.sku})]}),(0,or.jsxs)("div",{className:"mb-2",children:["Quantit\xe0: ",(0,or.jsx)("b",{children:r.quantita})]}),(0,or.jsxs)("div",{className:"mb-2",children:["Prezzo: ",(0,or.jsxs)("b",{children:["\u20ac",r.prezzo.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"mb-2",children:["Marca:",d?(0,or.jsxs)("div",{className:"inline-flex items-center gap-2 ml-2",children:[(0,or.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Inserisci marca"}),(0,or.jsx)("button",{onClick:()=>{localStorage.setItem("marca_".concat(e),c),h(!1)},className:"bg-primary text-primary-foreground px-2 py-1 rounded text-sm",children:"\u2713"}),(0,or.jsx)("button",{onClick:()=>h(!1),className:"bg-secondary text-secondary-foreground px-2 py-1 rounded text-sm",children:"\u2717"})]}):(0,or.jsxs)("span",{className:"ml-2",children:[(0,or.jsx)("b",{children:c||"Non specificata"}),(0,or.jsx)("button",{onClick:()=>h(!0),className:"ml-2 text-blue-600 underline text-sm",children:"Modifica"})]})]}),(0,or.jsxs)("div",{className:"mb-2",children:["Tipologia:",m?(0,or.jsxs)("div",{className:"inline-flex items-center gap-2 ml-2",children:[(0,or.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),className:"px-2 py-1 border rounded text-sm",placeholder:"Inserisci tipologia"}),(0,or.jsx)("button",{onClick:()=>{localStorage.setItem("tipologia_".concat(e),f),g(!1)},className:"bg-primary text-primary-foreground px-2 py-1 rounded text-sm",children:"\u2713"}),(0,or.jsx)("button",{onClick:()=>g(!1),className:"bg-secondary text-secondary-foreground px-2 py-1 rounded text-sm",children:"\u2717"})]}):(0,or.jsxs)("span",{className:"ml-2",children:[(0,or.jsx)("b",{children:f||"Non specificata"}),(0,or.jsx)("button",{onClick:()=>g(!0),className:"ml-2 text-blue-600 underline text-sm",children:"Modifica"})]})]}),(0,or.jsxs)("div",{className:"mb-4",children:["Valore magazzino: ",(0,or.jsxs)("b",{children:["\u20ac",(r.quantita*r.prezzo).toFixed(2)]})]})]})]}),(0,or.jsxs)("div",{className:"mt-8",children:[(0,or.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Storico Caricamenti"}),(0,or.jsxs)("table",{className:"w-full border-collapse border border-border",children:[(0,or.jsx)("thead",{children:(0,or.jsxs)("tr",{className:"bg-muted/50",children:[(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Data"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Ora"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Quantit\xe0"}),(0,or.jsx)("th",{className:"border border-border px-4 py-2 text-left font-medium",children:"Prezzo"})]})}),(0,or.jsx)("tbody",{children:0===(Array.isArray(s)?s:[]).length?(0,or.jsx)("tr",{children:(0,or.jsx)("td",{colSpan:4,className:"border border-border px-4 py-4 text-center text-muted-foreground",children:"Nessun caricamento registrato"})}):(Array.isArray(s)?s:[]).map((e,t)=>{const{date:n,time:r}=OX(e.data);return(0,or.jsxs)("tr",{children:[(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:n}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:r}),(0,or.jsx)("td",{className:"border border-border px-4 py-2",children:e.quantita}),(0,or.jsxs)("td",{className:"border border-border px-4 py-2",children:["\u20ac",e.prezzo.toFixed(2)]})]},t)})})]})]}),(0,or.jsxs)("div",{className:"mt-8",children:[(0,or.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Andamento Prezzo"}),v.length>1?(0,or.jsx)(CB,{width:"100%",height:220,children:(0,or.jsxs)(Zq,{data:v,children:[(0,or.jsx)(HW,{dataKey:"date",fontSize:12}),(0,or.jsx)(ZW,{domain:["auto","auto"],fontSize:12}),(0,or.jsx)(sK,{}),(0,or.jsx)(kB,{type:"monotone",dataKey:"prezzo",stroke:"#2563eb",strokeWidth:2,dot:!0})]})}):(0,or.jsx)("div",{className:"text-muted-foreground text-center py-8",children:"Non ci sono abbastanza dati per il grafico"})]})]}):(0,or.jsx)("div",{children:"Prodotto non trovato"})}const TX=["value","children","className"],DX=(0,t.createContext)(),PX=e=>{let{defaultValue:n,value:r,onValueChange:a,children:i,className:o=""}=e;const[s,l]=(0,t.useState)(n),c=void 0!==r?r:s;return(0,or.jsx)(DX.Provider,{value:{value:c,onValueChange:e=>{void 0===r&&l(e),null===a||void 0===a||a(e)}},children:(0,or.jsx)("div",{className:o,children:i})})},AX=e=>{let{children:t,className:n=""}=e;return(0,or.jsx)("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg ".concat(n),children:t})},IX=e=>{let{value:n,children:r,className:a=""}=e,o=i(e,TX);const{value:s,onValueChange:c}=(0,t.useContext)(DX),u=s===n;return(0,or.jsx)("button",l(l({onClick:()=>c(n),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(u?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"," ").concat(a)},o),{},{children:r}))},MX=e=>{let{value:n,children:r,className:a=""}=e;const{value:i}=(0,t.useContext)(DX);return i!==n?null:(0,or.jsx)("div",{className:a,children:r})},RX=["children","htmlFor","className"],LX=e=>{let{children:t,htmlFor:n,className:r=""}=e,a=i(e,RX);return(0,or.jsx)("label",l(l({htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1 ".concat(r)},a),{},{children:t}))},zX=Dt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),FX=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(null),d=async()=>{if(r)if(i){if("cancella"!==s.toLowerCase())return alert('Password errata! Devi scrivere "cancella" per confermare.'),void l("");n(!0),u(null);try{const e=await Ek();u(e),e.success&&setTimeout(()=>{window.location.reload()},2e3)}catch(e){u({success:!1,error:e.message})}finally{n(!1),a(!1),o(!1),l("")}}else o(!0);else a(!0)},h=()=>{a(!1),o(!1),l(""),u(null)};return(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border border-red-200",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,or.jsx)(DY,{className:"h-6 w-6 text-red-600"}),(0,or.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Reset Completo Magazzino"})]}),(0,or.jsx)("div",{className:"mb-4",children:(0,or.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,or.jsx)(Lk,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,or.jsxs)("div",{className:"text-sm text-red-800",children:[(0,or.jsx)("p",{className:"font-medium",children:"\u26a0\ufe0f Attenzione!"}),(0,or.jsxs)("p",{children:["Questa azione canceller\xe0 ",(0,or.jsx)("strong",{children:"TUTTI"})," i prodotti dal magazzino in modo permanente."]}),(0,or.jsx)("p",{className:"mt-2",children:"I dati verranno rimossi sia da Firebase che dal localStorage."}),(0,or.jsx)("p",{className:"mt-2 font-semibold",children:"Questa operazione richiede una doppia conferma per sicurezza."})]})]})}),!r&&!c&&(0,or.jsxs)("button",{onClick:d,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,or.jsx)(DY,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Reset Completo Magazzino"})]}),r&&!i&&(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsx)("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,or.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:"Prima conferma: Sei sicuro di voler cancellare TUTTI i prodotti? Questa azione non pu\xf2 essere annullata."})}),(0,or.jsxs)("div",{className:"flex space-x-3",children:[(0,or.jsxs)("button",{onClick:d,className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,or.jsx)(Lk,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Conferma Prima Volta"})]}),(0,or.jsxs)("button",{onClick:h,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,or.jsx)(cr,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Annulla"})]})]})]}),i&&(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,or.jsx)(zX,{className:"h-5 w-5 text-orange-600"}),(0,or.jsx)("p",{className:"text-sm text-orange-800 font-medium",children:'Seconda conferma: Scrivi "cancella" per confermare definitivamente'})]}),(0,or.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Scrivi 'cancella'",className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0})]}),(0,or.jsxs)("div",{className:"flex space-x-3",children:[(0,or.jsx)("button",{onClick:d,disabled:e,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:e?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,or.jsx)("span",{children:"Resettando..."})]}):(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(DY,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Conferma Definitiva"})]})}),(0,or.jsxs)("button",{onClick:h,disabled:e,className:"flex-1 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[(0,or.jsx)(cr,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Annulla"})]})]})]}),c&&(0,or.jsx)("div",{className:"mt-4 p-4 rounded-lg border ".concat(c.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,or.jsxs)("div",{className:"flex items-center space-x-3",children:[c.success?(0,or.jsx)(oX,{className:"h-5 w-5 text-green-600"}):(0,or.jsx)(Lk,{className:"h-5 w-5 text-red-600"}),(0,or.jsx)("div",{className:"text-sm",children:c.success?(0,or.jsx)("p",{className:"text-green-800 font-medium",children:c.message}):(0,or.jsxs)("p",{className:"text-red-800 font-medium",children:["Errore: ",c.error]})})]})})]})},UX=Dt("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),BX=Dt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),VX=()=>{const[e,n]=(0,t.useState)({shopDomain:"",accessToken:"",apiVersion:"2023-10"}),[r,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1);t.useEffect(()=>{const e=localStorage.getItem("shopify_config");if(e)try{n(JSON.parse(e))}catch(t){console.error("Errore nel caricamento configurazione Shopify:",t)}},[]);return(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(Mt,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Test Integrazione Shopify"})]}),(0,or.jsx)(kk,{children:"Testa la connessione e le API di Shopify per verificare che tutto funzioni"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"testShopDomain",children:"Dominio Shop"}),(0,or.jsx)(FY,{id:"testShopDomain",placeholder:"mio-shop.myshopify.com",value:e.shopDomain,onChange:t=>n(l(l({},e),{},{shopDomain:t.target.value}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"testAccessToken",children:"Access Token"}),(0,or.jsx)(FY,{id:"testAccessToken",type:"password",placeholder:"shpat_...",value:e.accessToken,onChange:t=>n(l(l({},e),{},{accessToken:t.target.value}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"testApiVersion",children:"Versione API"}),(0,or.jsx)(FY,{id:"testApiVersion",placeholder:"2023-10",value:e.apiVersion,onChange:t=>n(l(l({},e),{},{apiVersion:t.target.value}))})]})]}),(0,or.jsxs)("div",{className:"flex space-x-2",children:[(0,or.jsx)(tY,{onClick:()=>{localStorage.setItem("shopify_config",JSON.stringify(e)),alert("Configurazione Shopify salvata!")},variant:"outline",className:"flex-1",children:"\ud83d\udcbe Salva Config"}),(0,or.jsx)(tY,{onClick:async()=>{if(e.shopDomain&&e.accessToken){o(!0),a(null);try{if(!/^[a-zA-Z0-9-]+\.myshopify\.com$/.test(e.shopDomain))throw new Error("Formato dominio non valido. Deve essere: nome-shop.myshopify.com");if(!e.accessToken.startsWith("shpat_"))throw new Error('Access token non valido. Deve iniziare con "shpat_"');const t=await fetch("/.netlify/functions/shopify-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopDomain:e.shopDomain,accessToken:e.accessToken,apiVersion:e.apiVersion,testType:"shop"})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Errore HTTP: ".concat(t.status))}const n=await t.json();if(!n.success||!n.data.shop)throw new Error("Risposta API non valida");a({success:!0,data:{shopName:n.data.shop.name,shopEmail:n.data.shop.email,shopDomain:n.data.shop.domain,currency:n.data.shop.currency,timezone:n.data.shop.iana_timezone}})}catch(t){a({success:!1,error:t.message})}finally{o(!1)}}else a({success:!1,error:"Dominio shop e access token sono richiesti"})},disabled:i,className:"flex-1",children:i?(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)(UX,{className:"h-4 w-4 mr-2 animate-spin"}),"Testando..."]}):(0,or.jsx)(or.Fragment,{children:"\ud83d\udd0d Test Connessione"})})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,or.jsx)(tY,{onClick:async()=>{if(e.shopDomain&&e.accessToken)try{const t=await fetch("/.netlify/functions/shopify-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopDomain:e.shopDomain,accessToken:e.accessToken,apiVersion:e.apiVersion,testType:"products"})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Errore HTTP: ".concat(t.status))}const n=await t.json();if(!n.success||!n.data.products)throw new Error("Risposta API prodotti non valida");{const e=n.data.products.length;alert("\u2705 Connessione prodotti riuscita!\n\nTrovati ".concat(e," prodotti\n\nPrimi prodotti:\n").concat(n.data.products.slice(0,3).map(e=>"- ".concat(e.title)).join("\n")||"Nessun prodotto"))}}catch(t){alert("\u274c Errore nel test prodotti: ".concat(t.message))}else alert("Configura prima la connessione Shopify")},variant:"outline",size:"sm",children:"\ud83d\udce6 Test Prodotti"}),(0,or.jsx)(tY,{onClick:async()=>{if(e.shopDomain&&e.accessToken)try{const t=await fetch("/.netlify/functions/shopify-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shopDomain:e.shopDomain,accessToken:e.accessToken,apiVersion:e.apiVersion,testType:"orders"})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Errore HTTP: ".concat(t.status))}const n=await t.json();if(!n.success||!n.data.orders)throw new Error("Risposta API ordini non valida");{const e=n.data.orders.length;alert("\u2705 Connessione ordini riuscita!\n\nTrovati ".concat(e," ordini\n\nPrimi ordini:\n").concat(n.data.orders.slice(0,3).map(e=>"- #".concat(e.order_number," - ").concat(e.total_price," ").concat(e.currency)).join("\n")||"Nessun ordine"))}}catch(t){alert("\u274c Errore nel test ordini: ".concat(t.message))}else alert("Configura prima la connessione Shopify")},variant:"outline",size:"sm",children:"\ud83d\udccb Test Ordini"})]}),r&&(0,or.jsx)("div",{className:"p-4 rounded-lg border ".concat(r.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,or.jsxs)("div",{className:"flex items-center space-x-3",children:[r.success?(0,or.jsx)(oX,{className:"h-5 w-5 text-green-600"}):(0,or.jsx)(BX,{className:"h-5 w-5 text-red-600"}),(0,or.jsx)("div",{className:"text-sm",children:r.success?(0,or.jsxs)("div",{children:[(0,or.jsx)("p",{className:"text-green-800 font-medium",children:"\u2705 Connessione Shopify riuscita!"}),r.data&&(0,or.jsxs)("div",{className:"mt-2 text-green-700",children:[(0,or.jsxs)("p",{children:[(0,or.jsx)("strong",{children:"Nome Shop:"})," ",r.data.shopName]}),(0,or.jsxs)("p",{children:[(0,or.jsx)("strong",{children:"Email:"})," ",r.data.shopEmail]}),(0,or.jsxs)("p",{children:[(0,or.jsx)("strong",{children:"Dominio:"})," ",r.data.shopDomain]}),(0,or.jsxs)("p",{children:[(0,or.jsx)("strong",{children:"Valuta:"})," ",r.data.currency]}),(0,or.jsxs)("p",{children:[(0,or.jsx)("strong",{children:"Timezone:"})," ",r.data.timezone]})]})]}):(0,or.jsxs)("p",{className:"text-red-800 font-medium",children:["\u274c Errore: ",r.error]})})]})}),(0,or.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-3 rounded",children:[(0,or.jsx)("p",{className:"font-medium mb-2",children:"\ud83d\udccb Come ottenere le credenziali Shopify:"}),(0,or.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,or.jsxs)("li",{children:["Vai su ",(0,or.jsx)("strong",{children:"Shopify Admin"})," \u2192 ",(0,or.jsx)("strong",{children:"App"})]}),(0,or.jsxs)("li",{children:["Crea una ",(0,or.jsx)("strong",{children:"App privata"})]}),(0,or.jsxs)("li",{children:["Configura i ",(0,or.jsx)("strong",{children:"permessi"})," per prodotti e ordini"]}),(0,or.jsxs)("li",{children:["Copia ",(0,or.jsx)("strong",{children:"Access Token"})," e ",(0,or.jsx)("strong",{children:"Shop Domain"})]}),(0,or.jsx)("li",{children:"Incolla qui e testa la connessione"})]})]})]})]})},qX=Dt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function WX(){const[e,n]=(0,t.useState)({shopDomain:"",accessToken:"",apiVersion:"2023-10"}),[r,a]=(0,t.useState)({clientId:"",clientSecret:"",refreshToken:"",customerId:""}),[i,o]=(0,t.useState)({accessToken:"",pixelId:""}),[s,c]=(0,t.useState)({backupEnabled:!0,autoBackup:!0,backupInterval:"24"}),[u,d]=(0,t.useState)({shopify:!1,googleAds:!1,meta:!1,database:!1}),h=(e,t)=>{d(n=>l(l({},n),{},{[e]:t}))};(0,t.useEffect)(()=>{const e=localStorage.getItem("shopify_config");if(e)try{const t=JSON.parse(e);n(t),console.log("\u2705 Configurazione Shopify caricata:",t)}catch(s){console.error("\u274c Errore nel caricare configurazione Shopify:",s)}const t=localStorage.getItem("google_ads_config");if(t)try{const e=JSON.parse(t);a(e),console.log("\u2705 Configurazione Google Ads caricata:",e)}catch(s){console.error("\u274c Errore nel caricare configurazione Google Ads:",s)}const r=localStorage.getItem("meta_config");if(r)try{const e=JSON.parse(r);o(e),console.log("\u2705 Configurazione Meta caricata:",e)}catch(s){console.error("\u274c Errore nel caricare configurazione Meta:",s)}const i=localStorage.getItem("database_config");if(i)try{const e=JSON.parse(i);c(e),console.log("\u2705 Configurazione Database caricata:",e)}catch(s){console.error("\u274c Errore nel caricare configurazione Database:",s)}},[]);return(0,or.jsxs)("div",{className:"container mx-auto p-6",children:[(0,or.jsxs)("div",{className:"mb-6",children:[(0,or.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Impostazioni"}),(0,or.jsx)("p",{className:"text-gray-600",children:"Gestisci le configurazioni dell'applicazione"})]}),(0,or.jsxs)(PX,{defaultValue:"integrations",className:"space-y-6",children:[(0,or.jsxs)(AX,{className:"grid w-full grid-cols-4",children:[(0,or.jsxs)(IX,{value:"integrations",className:"flex items-center space-x-2",children:[(0,or.jsx)(qX,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Integrazioni"})]}),(0,or.jsxs)(IX,{value:"database",className:"flex items-center space-x-2",children:[(0,or.jsx)(AY,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Database"})]}),(0,or.jsxs)(IX,{value:"backup",className:"flex items-center space-x-2",children:[(0,or.jsx)(kX,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Backup"})]}),(0,or.jsxs)(IX,{value:"advanced",className:"flex items-center space-x-2",children:[(0,or.jsx)(Ut,{className:"h-4 w-4"}),(0,or.jsx)("span",{children:"Avanzate"})]})]}),(0,or.jsxs)(MX,{value:"integrations",className:"space-y-6",children:[(0,or.jsx)(VX,{}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(Mt,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Configurazione Shopify"})]}),(0,or.jsx)(kk,{children:"Configura l'integrazione con Shopify per sincronizzare ordini e prodotti"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"shopDomain",children:"Dominio Shop"}),(0,or.jsx)(FY,{id:"shopDomain",placeholder:"mio-shop.myshopify.com",value:e.shopDomain,onChange:t=>{n(l(l({},e),{},{shopDomain:t.target.value})),h("shopify",!0)}})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"accessToken",children:"Access Token"}),(0,or.jsx)(FY,{id:"accessToken",type:"password",placeholder:"shpat_...",value:e.accessToken,onChange:t=>{n(l(l({},e),{},{accessToken:t.target.value})),h("shopify",!0)}})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"apiVersion",children:"Versione API"}),(0,or.jsx)(FY,{id:"apiVersion",placeholder:"2023-10",value:e.apiVersion,onChange:t=>{n(l(l({},e),{},{apiVersion:t.target.value})),h("shopify",!0)}})]}),(0,or.jsxs)(tY,{onClick:()=>{localStorage.setItem("shopify_config",JSON.stringify(e)),h("shopify",!1),console.log("\ud83d\udcbe Configurazione Shopify salvata:",e),alert("\u2705 Configurazione Shopify salvata con successo!")},className:"w-full ".concat(u.shopify?"bg-orange-600 hover:bg-orange-700":""),disabled:!u.shopify,children:[(0,or.jsx)(UY,{className:"h-4 w-4 mr-2"}),u.shopify?"\u26a0\ufe0f Salva Modifiche Shopify":"\u2705 Configurazione Salvata"]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(Pt,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Google Ads"})]}),(0,or.jsx)(kk,{children:"Configura l'integrazione con Google Ads per il tracking delle campagne"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"clientId",children:"Client ID"}),(0,or.jsx)(FY,{id:"clientId",placeholder:"123456789-...",value:r.clientId,onChange:e=>a(l(l({},r),{},{clientId:e.target.value}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"clientSecret",children:"Client Secret"}),(0,or.jsx)(FY,{id:"clientSecret",type:"password",placeholder:"GOCSPX-...",value:r.clientSecret,onChange:e=>a(l(l({},r),{},{clientSecret:e.target.value}))})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"refreshToken",children:"Refresh Token"}),(0,or.jsx)(FY,{id:"refreshToken",type:"password",placeholder:"1//...",value:r.refreshToken,onChange:e=>a(l(l({},r),{},{refreshToken:e.target.value}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"customerId",children:"Customer ID"}),(0,or.jsx)(FY,{id:"customerId",placeholder:"123-456-7890",value:r.customerId,onChange:e=>a(l(l({},r),{},{customerId:e.target.value}))})]})]}),(0,or.jsxs)(tY,{onClick:()=>{localStorage.setItem("google_ads_config",JSON.stringify(r)),h("googleAds",!1),console.log("\ud83d\udcbe Configurazione Google Ads salvata:",r),alert("\u2705 Configurazione Google Ads salvata con successo!")},className:"w-full",children:[(0,or.jsx)(UY,{className:"h-4 w-4 mr-2"}),"Salva Configurazione Google Ads"]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(qX,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Meta (Facebook/Instagram)"})]}),(0,or.jsx)(kk,{children:"Configura l'integrazione con Meta per il tracking delle campagne pubblicitarie"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"metaAccessToken",children:"Access Token"}),(0,or.jsx)(FY,{id:"metaAccessToken",type:"password",placeholder:"EAAG...",value:i.accessToken,onChange:e=>o(l(l({},i),{},{accessToken:e.target.value}))})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"pixelId",children:"Pixel ID"}),(0,or.jsx)(FY,{id:"pixelId",placeholder:"123456789",value:i.pixelId,onChange:e=>o(l(l({},i),{},{pixelId:e.target.value}))})]})]}),(0,or.jsxs)(tY,{onClick:()=>{localStorage.setItem("meta_config",JSON.stringify(i)),h("meta",!1),console.log("\ud83d\udcbe Configurazione Meta salvata:",i),alert("\u2705 Configurazione Meta salvata con successo!")},className:"w-full",children:[(0,or.jsx)(UY,{className:"h-4 w-4 mr-2"}),"Salva Configurazione Meta"]})]})]})]}),(0,or.jsx)(MX,{value:"database",className:"space-y-6",children:(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(AY,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Configurazione Database"})]}),(0,or.jsx)(kk,{children:"Gestisci le impostazioni del database e le operazioni di backup"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,or.jsx)("input",{type:"checkbox",id:"backupEnabled",checked:s.backupEnabled,onChange:e=>c(l(l({},s),{},{backupEnabled:e.target.checked}))}),(0,or.jsx)(LX,{htmlFor:"backupEnabled",children:"Abilita backup automatici"})]}),(0,or.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,or.jsx)("input",{type:"checkbox",id:"autoBackup",checked:s.autoBackup,onChange:e=>c(l(l({},s),{},{autoBackup:e.target.checked}))}),(0,or.jsx)(LX,{htmlFor:"autoBackup",children:"Backup automatico"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)(LX,{htmlFor:"backupInterval",children:"Intervallo backup (ore)"}),(0,or.jsx)(FY,{id:"backupInterval",type:"number",min:"1",max:"168",value:s.backupInterval,onChange:e=>c(l(l({},s),{},{backupInterval:e.target.value}))})]})]}),(0,or.jsxs)(tY,{onClick:()=>{localStorage.setItem("database_config",JSON.stringify(s)),h("database",!1),console.log("\ud83d\udcbe Configurazione Database salvata:",s),alert("\u2705 Configurazione Database salvata con successo!")},className:"w-full",children:[(0,or.jsx)(UY,{className:"h-4 w-4 mr-2"}),"Salva Configurazione Database"]})]})]})}),(0,or.jsx)(MX,{value:"backup",className:"space-y-6",children:(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(kX,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Operazioni di Backup"})]}),(0,or.jsx)(kk,{children:"Gestisci i backup e il ripristino dei dati"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)(tY,{onClick:()=>{alert("Backup avviato...")},className:"w-full",children:[(0,or.jsx)(iX,{className:"h-4 w-4 mr-2"}),"Crea Backup"]}),(0,or.jsxs)(tY,{onClick:()=>{alert("Restore avviato...")},className:"w-full",children:[(0,or.jsx)(PY,{className:"h-4 w-4 mr-2"}),"Ripristina Backup"]})]}),(0,or.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,or.jsx)("p",{children:"\u2022 Backup completi: Tutti i dati dell'applicazione"}),(0,or.jsx)("p",{children:"\u2022 Backup incrementali: Solo le modifiche recenti"}),(0,or.jsx)("p",{children:"\u2022 Ripristino: Sostituisce completamente i dati esistenti"})]})]})]})}),(0,or.jsxs)(MX,{value:"advanced",className:"space-y-6",children:[(0,or.jsxs)(bk,{children:[(0,or.jsxs)(xk,{children:[(0,or.jsxs)(wk,{className:"flex items-center space-x-2",children:[(0,or.jsx)(Ut,{className:"h-5 w-5"}),(0,or.jsx)("span",{children:"Impostazioni Avanzate"})]}),(0,or.jsx)(kk,{children:"Configurazioni avanzate e strumenti di debug"})]}),(0,or.jsxs)(Sk,{className:"space-y-4",children:[(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{const e=localStorage.getItem("shopify_config");if(e)try{const t=JSON.parse(e);n(t),console.log("\ud83d\udd04 Configurazione Shopify ricaricata:",t)}catch(s){console.error("\u274c Errore nel ricaricare configurazione Shopify:",s)}const t=localStorage.getItem("google_ads_config");if(t)try{const e=JSON.parse(t);a(e),console.log("\ud83d\udd04 Configurazione Google Ads ricaricata:",e)}catch(s){console.error("\u274c Errore nel ricaricare configurazione Google Ads:",s)}const r=localStorage.getItem("meta_config");if(r)try{const e=JSON.parse(r);o(e),console.log("\ud83d\udd04 Configurazione Meta ricaricata:",e)}catch(s){console.error("\u274c Errore nel ricaricare configurazione Meta:",s)}const i=localStorage.getItem("database_config");if(i)try{const e=JSON.parse(i);c(e),console.log("\ud83d\udd04 Configurazione Database ricaricata:",e)}catch(s){console.error("\u274c Errore nel ricaricare configurazione Database:",s)}alert("\ud83d\udd04 Tutte le configurazioni sono state ricaricate!")},className:"w-full",children:[(0,or.jsx)(ZJ,{className:"h-4 w-4 mr-2"}),"Ricarica Configurazioni"]}),(0,or.jsxs)(tY,{variant:"outline",onClick:()=>{confirm("\u26a0\ufe0f Sei sicuro di voler resettare tutte le impostazioni? Questa azione non pu\xf2 essere annullata.")&&(n({shopDomain:"",accessToken:"",apiVersion:"2023-10"}),localStorage.removeItem("shopify_config"),a({clientId:"",clientSecret:"",refreshToken:"",customerId:""}),localStorage.removeItem("google_ads_config"),o({accessToken:"",pixelId:""}),localStorage.removeItem("meta_config"),c({backupEnabled:!0,autoBackup:!0,backupInterval:"24"}),localStorage.removeItem("database_config"),console.log("\ud83d\uddd1\ufe0f Tutte le impostazioni sono state resettate"),alert("\ud83d\uddd1\ufe0f Tutte le impostazioni sono state resettate ai valori predefiniti!"))},className:"w-full",children:[(0,or.jsx)(DY,{className:"h-4 w-4 mr-2"}),"Reset Impostazioni"]})]}),(0,or.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,or.jsx)("p",{children:"\u2022 Ricarica: Rilegge tutte le configurazioni"}),(0,or.jsx)("p",{children:"\u2022 Reset: Ripristina le impostazioni predefinite"}),(0,or.jsx)("p",{children:"\u2022 Debug: Abilita log dettagliati"})]})]})]}),(0,or.jsx)(FX,{})]})]})]})}const HX=e=>{var n,r,a,i;let{onSave:o,orders:s=[]}=e;const[c,u]=(0,t.useState)({weekStart:"",weekEnd:"",googleAds:{spent:"",impressions:"",clicks:"",conversions:""},meta:{spent:"",impressions:"",clicks:"",conversions:""},tiktok:{spent:"",impressions:"",clicks:"",conversions:""}}),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)({shopifyConversions:0,shopifyRevenue:0,googleAds:{cpa:0,roas:0},meta:{cpa:0,roas:0},tiktok:{cpa:0,roas:0},overall:{cpa:0,roas:0}}),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)("all"),[w,k]=(0,t.useState)(""),[S,j]=(0,t.useState)(null),[N,_]=(0,t.useState)(1);(0,t.useEffect)(()=>{const e=localStorage.getItem("manualMetrics");e&&h(JSON.parse(e))},[]),(0,t.useEffect)(()=>{if(c.weekStart&&c.weekEnd){const e=s.filter(e=>{const t=new Date(e.created_at);return t>=new Date(c.weekStart)&&t<=new Date(c.weekEnd)}),t=e.length,n=e.reduce((e,t)=>e+parseFloat(t.total_price),0),r=parseFloat(c.googleAds.spent)||0,a=parseInt(c.googleAds.conversions)||0,i=parseFloat(c.meta.spent)||0,o=parseInt(c.meta.conversions)||0,l=parseFloat(c.tiktok.spent)||0,u=parseInt(c.tiktok.conversions)||0,d=r+i+l;p({shopifyConversions:t,shopifyRevenue:n,googleAds:{cpa:(a>0?r/a:0)||0,roas:(r>0?r/d*n/r:0)||0},meta:{cpa:(o>0?i/o:0)||0,roas:(i>0?i/d*n/i:0)||0},tiktok:{cpa:(u>0?l/u:0)||0,roas:(l>0?l/d*n/l:0)||0},overall:{cpa:(t>0?d/t:0)||0,roas:(d>0?n/d:0)||0}})}},[c,s]);const E=(e,t,n)=>{u(r=>l(l({},r),{},{[e]:l(l({},r[e]),{},{[t]:n})}))},O=e=>{const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const r=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-r)/864e5+1)/7)},C=(e,t,n)=>{const r=f[e];return(0,or.jsxs)("div",{className:"space-y-4",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:n}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spesa (\u20ac)"}),(0,or.jsx)("input",{type:"number",step:"0.01",value:t.spent,onChange:t=>E(e,"spent",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impressioni"}),(0,or.jsx)("input",{type:"number",value:t.impressions,onChange:t=>E(e,"impressions",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Click"}),(0,or.jsx)("input",{type:"number",value:t.clicks,onChange:t=>E(e,"clicks",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conversioni"}),(0,or.jsx)("input",{type:"number",value:t.conversions,onChange:t=>E(e,"conversions",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),(0,or.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,or.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Metriche Calcolate:"}),(0,or.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"CPA:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",((null===r||void 0===r?void 0:r.cpa)||0).toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-gray-600",children:"ROAS:"}),(0,or.jsx)("span",{className:"font-medium",children:((null===r||void 0===r?void 0:r.roas)||0).toFixed(2)})]})]})]})]})},T=(()=>{let e=d;if("week"===b&&w){const[t,n]=w.split("-W");e=d.filter(e=>{const r=new Date(e.weekStart),a=r.getFullYear(),i=O(r);return a===parseInt(t)&&i===parseInt(n)})}else if("month"===b&&w){const[t,n]=w.split("-");e=d.filter(e=>{const r=new Date(e.weekStart);return r.getFullYear()===parseInt(t)&&r.getMonth()===parseInt(n)-1})}return e.sort((e,t)=>new Date(t.weekStart)-new Date(e.weekStart))})(),D=Math.ceil(T.length/4),P=4*(N-1),A=P+4,I=T.slice(P,A);return(0,t.useEffect)(()=>{_(1)},[b,w]),(0,or.jsxs)("div",{className:"space-y-6",children:[!v&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\ud83d\udcca Inserimento Dati Marketing"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\u2139\ufe0f Come funziona"}),(0,or.jsx)("p",{className:"text-sm text-blue-700",children:"Inserisci spesa, impressioni, click e conversioni per ogni piattaforma. CPA e ROAS vengono calcolati automaticamente. Per le metriche complessive vengono usate le conversioni Shopify del periodo."}),(0,or.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:["\ud83d\udca1 ",(0,or.jsx)("strong",{children:"Nota:"})," Tutte le piattaforme sono opzionali. Puoi inserire dati solo per le piattaforme che usi."]})]}),(0,or.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=parseFloat(c.googleAds.spent)>0||parseInt(c.googleAds.conversions)>0,n=parseFloat(c.meta.spent)>0||parseInt(c.meta.conversions)>0,r=parseFloat(c.tiktok.spent)>0||parseInt(c.tiktok.conversions)>0;if(!t&&!n&&!r)return void alert("Inserisci almeno i dati per una piattaforma (spesa o conversioni)");const a={id:Date.now(),weekStart:c.weekStart,weekEnd:c.weekEnd,shopifyConversions:f.shopifyConversions,shopifyRevenue:f.shopifyRevenue,overallCpa:f.overall.cpa,overallRoas:f.overall.roas,googleAds:{spent:parseFloat(c.googleAds.spent)||0,impressions:parseInt(c.googleAds.impressions)||0,clicks:parseInt(c.googleAds.clicks)||0,conversions:parseInt(c.googleAds.conversions)||0,cpa:f.googleAds.cpa,roas:f.googleAds.roas},meta:{spent:parseFloat(c.meta.spent)||0,impressions:parseInt(c.meta.impressions)||0,clicks:parseInt(c.meta.clicks)||0,conversions:parseInt(c.meta.conversions)||0,cpa:f.meta.cpa,roas:f.meta.roas},tiktok:{spent:parseFloat(c.tiktok.spent)||0,impressions:parseInt(c.tiktok.impressions)||0,clicks:parseInt(c.tiktok.clicks)||0,conversions:parseInt(c.tiktok.conversions)||0,cpa:f.tiktok.cpa,roas:f.tiktok.roas}},i=[...d,a];h(i),localStorage.setItem("manualMetrics",JSON.stringify(i)),o&&o(i),u({weekStart:"",weekEnd:"",googleAds:{spent:"",impressions:"",clicks:"",conversions:""},meta:{spent:"",impressions:"",clicks:"",conversions:""},tiktok:{spent:"",impressions:"",clicks:"",conversions:""}})},className:"space-y-6",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inizio Settimana"}),(0,or.jsx)("input",{type:"date",value:c.weekStart,onChange:e=>u(t=>l(l({},t),{},{weekStart:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fine Settimana"}),(0,or.jsx)("input",{type:"date",value:c.weekEnd,onChange:e=>u(t=>l(l({},t),{},{weekEnd:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),c.weekStart&&c.weekEnd&&(0,or.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"\ud83d\udcc8 Metriche Shopify dal Periodo Selezionato"}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Conversioni Shopify:"}),(0,or.jsx)("div",{className:"font-medium text-lg",children:f.shopifyConversions||0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Revenue Shopify:"}),(0,or.jsxs)("div",{className:"font-medium text-lg",children:["\u20ac",(f.shopifyRevenue||0).toFixed(2)]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"CPA Complessivo:"}),(0,or.jsxs)("div",{className:"font-medium text-lg",children:["\u20ac",((null===(n=f.overall)||void 0===n?void 0:n.cpa)||0).toFixed(2)]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"ROAS Complessivo:"}),(0,or.jsx)("div",{className:"font-medium text-lg",children:((null===(r=f.overall)||void 0===r?void 0:r.roas)||0).toFixed(2)})]})]})]}),C("googleAds",c.googleAds,"Google Ads"),C("meta",c.meta,"Meta (Facebook/Instagram)"),C("tiktok",c.tiktok,"TikTok Ads"),(0,or.jsx)("div",{className:"flex justify-end",children:(0,or.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Salva Dati"})})]})]})]}),v&&m&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\u270f\ufe0f Modifica Dati Marketing"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"\u26a0\ufe0f Modifica in Corso"}),(0,or.jsxs)("p",{className:"text-sm text-yellow-700",children:["Stai modificando i dati per la settimana: ",new Date(m.weekStart).toLocaleDateString("it-IT")," - ",new Date(m.weekEnd).toLocaleDateString("it-IT")]}),(0,or.jsxs)("p",{className:"text-sm text-yellow-600 mt-2",children:["\ud83d\udca1 ",(0,or.jsx)("strong",{children:"Nota:"})," Tutte le piattaforme sono opzionali. Puoi inserire dati solo per le piattaforme che usi."]})]}),(0,or.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=parseFloat(c.googleAds.spent)>0||parseInt(c.googleAds.conversions)>0,n=parseFloat(c.meta.spent)>0||parseInt(c.meta.conversions)>0,r=parseFloat(c.tiktok.spent)>0||parseInt(c.tiktok.conversions)>0;if(!t&&!n&&!r)return void alert("Inserisci almeno i dati per una piattaforma (spesa o conversioni)");const a=l(l({},m),{},{weekStart:c.weekStart,weekEnd:c.weekEnd,shopifyConversions:f.shopifyConversions,shopifyRevenue:f.shopifyRevenue,overallCpa:f.overall.cpa,overallRoas:f.overall.roas,googleAds:{spent:parseFloat(c.googleAds.spent)||0,impressions:parseInt(c.googleAds.impressions)||0,clicks:parseInt(c.googleAds.clicks)||0,conversions:parseInt(c.googleAds.conversions)||0,cpa:f.googleAds.cpa,roas:f.googleAds.roas},meta:{spent:parseFloat(c.meta.spent)||0,impressions:parseInt(c.meta.impressions)||0,clicks:parseInt(c.meta.clicks)||0,conversions:parseInt(c.meta.conversions)||0,cpa:f.meta.cpa,roas:f.meta.roas},tiktok:{spent:parseFloat(c.tiktok.spent)||0,impressions:parseInt(c.tiktok.impressions)||0,clicks:parseInt(c.tiktok.clicks)||0,conversions:parseInt(c.tiktok.conversions)||0,cpa:f.tiktok.cpa,roas:f.tiktok.roas}}),i=d.map(e=>e.id===m.id?a:e);h(i),localStorage.setItem("manualMetrics",JSON.stringify(i)),o&&o(i),g(null),y(!1),u({weekStart:"",weekEnd:"",googleAds:{spent:"",impressions:"",clicks:"",conversions:""},meta:{spent:"",impressions:"",clicks:"",conversions:""},tiktok:{spent:"",impressions:"",clicks:"",conversions:""}})},className:"space-y-6",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inizio Settimana"}),(0,or.jsx)("input",{type:"date",value:c.weekStart,onChange:e=>u(t=>l(l({},t),{},{weekStart:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fine Settimana"}),(0,or.jsx)("input",{type:"date",value:c.weekEnd,onChange:e=>u(t=>l(l({},t),{},{weekEnd:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),c.weekStart&&c.weekEnd&&(0,or.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"\ud83d\udcc8 Metriche Shopify dal Periodo Selezionato"}),(0,or.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Conversioni Shopify:"}),(0,or.jsx)("div",{className:"font-medium text-lg",children:f.shopifyConversions||0})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"Revenue Shopify:"}),(0,or.jsxs)("div",{className:"font-medium text-lg",children:["\u20ac",(f.shopifyRevenue||0).toFixed(2)]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"CPA Complessivo:"}),(0,or.jsxs)("div",{className:"font-medium text-lg",children:["\u20ac",((null===(a=f.overall)||void 0===a?void 0:a.cpa)||0).toFixed(2)]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("span",{className:"text-gray-600",children:"ROAS Complessivo:"}),(0,or.jsx)("div",{className:"font-medium text-lg",children:((null===(i=f.overall)||void 0===i?void 0:i.roas)||0).toFixed(2)})]})]})]}),C("googleAds",c.googleAds,"Google Ads"),C("meta",c.meta,"Meta (Facebook/Instagram)"),C("tiktok",c.tiktok,"TikTok Ads"),(0,or.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,or.jsx)("button",{type:"button",onClick:()=>{g(null),y(!1),u({weekStart:"",weekEnd:"",googleAds:{spent:"",impressions:"",clicks:"",conversions:""},meta:{spent:"",impressions:"",clicks:"",conversions:""},tiktok:{spent:"",impressions:"",clicks:"",conversions:""}})},className:"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annulla"}),(0,or.jsx)("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Salva Modifiche"})]})]})]})]}),d.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{children:["\ud83d\udccb Dati Salvati (",T.length," di ",d.length," settimane)",D>1&&" \u2022 Pagina ".concat(N,"/").concat(D)]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo Filtro"}),(0,or.jsxs)("select",{value:b,onChange:e=>{x(e.target.value),k("")},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"all",children:"Tutte le Settimane"}),(0,or.jsx)("option",{value:"week",children:"Per Settimana"}),(0,or.jsx)("option",{value:"month",children:"Per Mese"})]})]}),("week"===b||"month"===b)&&(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"week"===b?"Settimana":"Mese"}),(0,or.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"",children:"Seleziona..."}),(()=>{const e=[];if("week"===b){const t=new Set;d.forEach(e=>{const n=new Date(e.weekStart),r=n.getFullYear(),a=O(n);t.add("".concat(r,"-W").concat(a.toString().padStart(2,"0")))}),e.push(...Array.from(t).sort().reverse())}else if("month"===b){const t=new Set;d.forEach(e=>{const n=new Date(e.weekStart),r=n.getFullYear(),a=n.getMonth()+1;t.add("".concat(r,"-").concat(a.toString().padStart(2,"0")))}),e.push(...Array.from(t).sort().reverse())}return e})().map(e=>(0,or.jsx)("option",{value:e,children:"week"===b?"Settimana ".concat(e.split("-W")[1]," del ").concat(e.split("-W")[0]):"".concat(new Date(e+"-01").toLocaleDateString("it-IT",{year:"numeric",month:"long"}))},e))]})]})]})}),(0,or.jsxs)("div",{className:"space-y-3",children:[I.map(e=>{var t,n,r,a,i,s,l,c,f,p,m,v,b,x,w,k,N,_;return(0,or.jsxs)("div",{className:"border rounded-lg p-4 bg-white hover:bg-gray-50 transition-colors",children:[(0,or.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,or.jsxs)("div",{className:"flex-1",children:[(0,or.jsxs)("h4",{className:"font-medium text-gray-900",children:[new Date(e.weekStart).toLocaleDateString("it-IT")," - ",new Date(e.weekEnd).toLocaleDateString("it-IT")]}),(0,or.jsxs)("p",{className:"text-sm text-gray-600",children:[e.shopifyConversions||0," conversioni Shopify \u2022 \u20ac",(e.shopifyRevenue||0).toFixed(2)," revenue Shopify"]})]}),(0,or.jsxs)("div",{className:"flex space-x-2",children:[(0,or.jsx)("button",{onClick:()=>j(S===e.id?null:e.id),className:"text-blue-600 hover:text-blue-800 text-sm px-3 py-1 border border-blue-300 rounded hover:bg-blue-50",children:S===e.id?"\ud83d\udcd6 Nascondi":"\ud83d\udc41\ufe0f Dettagli"}),(0,or.jsx)("button",{onClick:()=>(e=>{var t,n,r,a,i,o,s,l,c,d,h,f;g(e),u({weekStart:e.weekStart,weekEnd:e.weekEnd,googleAds:{spent:((null===(t=e.googleAds)||void 0===t?void 0:t.spent)||0).toString(),impressions:((null===(n=e.googleAds)||void 0===n?void 0:n.impressions)||0).toString(),clicks:((null===(r=e.googleAds)||void 0===r?void 0:r.clicks)||0).toString(),conversions:((null===(a=e.googleAds)||void 0===a?void 0:a.conversions)||0).toString()},meta:{spent:((null===(i=e.meta)||void 0===i?void 0:i.spent)||0).toString(),impressions:((null===(o=e.meta)||void 0===o?void 0:o.impressions)||0).toString(),clicks:((null===(s=e.meta)||void 0===s?void 0:s.clicks)||0).toString(),conversions:((null===(l=e.meta)||void 0===l?void 0:l.conversions)||0).toString()},tiktok:{spent:((null===(c=e.tiktok)||void 0===c?void 0:c.spent)||0).toString(),impressions:((null===(d=e.tiktok)||void 0===d?void 0:d.impressions)||0).toString(),clicks:((null===(h=e.tiktok)||void 0===h?void 0:h.clicks)||0).toString(),conversions:((null===(f=e.tiktok)||void 0===f?void 0:f.conversions)||0).toString()}}),y(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm px-3 py-1 border border-blue-300 rounded hover:bg-blue-50",children:"\u270f\ufe0f Modifica"}),(0,or.jsx)("button",{onClick:()=>(e=>{const t=d.filter(t=>t.id!==e);h(t),localStorage.setItem("manualMetrics",JSON.stringify(t)),o&&o(t)})(e.id),className:"text-red-600 hover:text-red-800 text-sm px-3 py-1 border border-red-300 rounded hover:bg-red-50",children:"\ud83d\uddd1\ufe0f Elimina"})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,or.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,or.jsx)("div",{className:"font-medium text-blue-800",children:"Google Ads"}),(0,or.jsxs)("div",{className:"text-xs text-gray-600",children:["\u20ac",((null===(t=e.googleAds)||void 0===t?void 0:t.spent)||0).toFixed(0)," \u2022 ",(null===(n=e.googleAds)||void 0===n?void 0:n.conversions)||0," conv."]})]}),(0,or.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,or.jsx)("div",{className:"font-medium text-blue-800",children:"Meta"}),(0,or.jsxs)("div",{className:"text-xs text-gray-600",children:["\u20ac",((null===(r=e.meta)||void 0===r?void 0:r.spent)||0).toFixed(0)," \u2022 ",(null===(a=e.meta)||void 0===a?void 0:a.conversions)||0," conv."]})]}),(0,or.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,or.jsx)("div",{className:"font-medium text-blue-800",children:"TikTok"}),(0,or.jsxs)("div",{className:"text-xs text-gray-600",children:["\u20ac",((null===(i=e.tiktok)||void 0===i?void 0:i.spent)||0).toFixed(0)," \u2022 ",(null===(s=e.tiktok)||void 0===s?void 0:s.conversions)||0," conv."]})]})]}),S===e.id&&(0,or.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,or.jsx)("h5",{className:"font-medium text-blue-600 mb-2",children:"Google Ads"}),(0,or.jsxs)("div",{className:"text-sm space-y-1",children:[(0,or.jsxs)("div",{children:["Spesa: \u20ac",((null===(l=e.googleAds)||void 0===l?void 0:l.spent)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["Conversioni: ",(null===(c=e.googleAds)||void 0===c?void 0:c.conversions)||0]}),(0,or.jsxs)("div",{children:["CPA: \u20ac",((null===(f=e.googleAds)||void 0===f?void 0:f.cpa)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["ROAS: ",((null===(p=e.googleAds)||void 0===p?void 0:p.roas)||0).toFixed(2)]})]})]}),(0,or.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,or.jsx)("h5",{className:"font-medium text-blue-600 mb-2",children:"Meta"}),(0,or.jsxs)("div",{className:"text-sm space-y-1",children:[(0,or.jsxs)("div",{children:["Spesa: \u20ac",((null===(m=e.meta)||void 0===m?void 0:m.spent)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["Conversioni: ",(null===(v=e.meta)||void 0===v?void 0:v.conversions)||0]}),(0,or.jsxs)("div",{children:["CPA: \u20ac",((null===(b=e.meta)||void 0===b?void 0:b.cpa)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["ROAS: ",((null===(x=e.meta)||void 0===x?void 0:x.roas)||0).toFixed(2)]})]})]}),(0,or.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,or.jsx)("h5",{className:"font-medium text-blue-600 mb-2",children:"TikTok"}),(0,or.jsxs)("div",{className:"text-sm space-y-1",children:[(0,or.jsxs)("div",{children:["Spesa: \u20ac",((null===(w=e.tiktok)||void 0===w?void 0:w.spent)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["Conversioni: ",(null===(k=e.tiktok)||void 0===k?void 0:k.conversions)||0]}),(0,or.jsxs)("div",{children:["CPA: \u20ac",((null===(N=e.tiktok)||void 0===N?void 0:N.cpa)||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["ROAS: ",((null===(_=e.tiktok)||void 0===_?void 0:_.roas)||0).toFixed(2)]})]})]})]}),(0,or.jsxs)("div",{className:"mt-3 p-3 bg-green-50 rounded border",children:[(0,or.jsx)("h6",{className:"font-medium text-green-800 mb-1",children:"Metriche Complessive (usando conversioni Shopify)"}),(0,or.jsxs)("div",{className:"text-sm space-y-1",children:[(0,or.jsxs)("div",{children:["CPA Totale: \u20ac",(e.overallCpa||0).toFixed(2)]}),(0,or.jsxs)("div",{children:["ROAS Totale: ",(e.overallRoas||0).toFixed(2)]})]})]})]})]},e.id)}),D>1&&(0,or.jsxs)("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[(0,or.jsx)("button",{onClick:()=>_(Math.max(1,N-1)),disabled:1===N,className:"px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2190 Precedente"}),(0,or.jsx)("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,D)},(e,t)=>{let n;return n=D<=5||N<=3?t+1:N>=D-2?D-4+t:N-2+t,(0,or.jsx)("button",{onClick:()=>_(n),className:"px-3 py-2 text-sm border rounded-md ".concat(N===n?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"),children:n},n)})}),(0,or.jsx)("button",{onClick:()=>_(Math.min(D,N+1)),disabled:N===D,className:"px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Successiva \u2192"})]}),D>1&&(0,or.jsxs)("div",{className:"mt-2 text-center text-sm text-gray-600",children:["Pagina ",N," di ",D," \u2022 Mostrando ",P+1,"-",Math.min(A,T.length)," di ",T.length," settimane"]})]})]})]})]})};function KX(e){var n=FN();return(0,t.useEffect)(()=>{n(nq(e))},[n,e]),null}var YX=["width","height","layout"];function GX(){return GX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GX.apply(null,arguments)}var QX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},JX=(0,t.forwardRef)(function(e,n){var r,a=gU(e.categoricalChartProps,QX),{width:i,height:o,layout:s}=a,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,YX);if(!yj(i)||!yj(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(vq,{preloadedState:{options:f},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:c},t.createElement(yq,{chartData:a.data}),t.createElement(bq,{width:i,height:o,layout:s,margin:a.margin}),t.createElement(xq,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(KX,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(Yq,GX({width:i,height:o},l,{ref:n})))}),XX=["item"],$X={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZX=(0,t.forwardRef)((e,n)=>{var r=gU(e,$X);return t.createElement(JX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:XX,tooltipPayloadSearcher:TB,categoricalChartProps:r,ref:n})}),e$=e=>e.graphicalItems.polarItems,t$=XN([_A,EA],YA),n$=XN([e$,WA,t$],JA),r$=XN([n$],tI),a$=XN([r$,XP],rI),i$=XN([a$,WA,n$],iI),o$=XN([a$,WA,n$],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:d_(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:d_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),s$=()=>{},l$=XN([WA,LI,s$,o$,s$,Q_,_A],zI),c$=XN([WA,Q_,a$,i$,wA,_A,l$],BI),u$=XN([c$,WA,WI],KI);XN([WA,c$,u$,_A],GI);function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(t){f$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p$=XN([e$,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),m$=[],g$=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?m$:n,v$=XN([XP,p$,g$],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>h$(h$({},t.presentationProps),e.props))),null!=r))return r}),y$=XN([v$,p$,g$],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,i,o=d_(e,t.nameKey,t.name);return i=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:j_(o,t.dataKey),color:i,payload:e,type:t.legendType}})}),b$=XN([v$,p$,g$,R_],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:i,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=K$(c,u),g=Math.abs(m),v=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,y=i.filter(e=>0!==d_(e,d,0)).length,b=g-y*p-(g>=360?y:y-1)*v,x=i.reduce((e,t)=>{var n=d_(t,d,0);return e+(oj(n)?n:0)},0);x>0&&(n=i.map((e,t)=>{var n,i=d_(e,d,0),u=d_(e,h,t),g=H$(a,s,e),y=(oj(i)?i:0)/x,w=F$(F$({},e),o&&o[t]&&o[t].props),k=(n=t?r.endAngle+rj(m)*v*(0!==i?1:0):c)+rj(m)*((0!==i?p:0)+y*b),S=(n+k)/2,j=(g.innerRadius+g.outerRadius)/2,N=[{name:u,value:i,payload:w,dataKey:d,type:f}],_=DN(g.cx,g.cy,j,S);return r=F$(F$(F$(F$({},a.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:N,midAngle:S,middleRadius:j,tooltipPosition:_},w),g),{},{value:d_(e,d),startAngle:n,endAngle:k,payload:w,paddingAngle:rj(m)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),x$=e=>null;x$.displayName="Cell";var w$=n(9397),k$=n.n(w$);function S$(){return S$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S$.apply(null,arguments)}var j$=(e,t,n,r,a)=>{var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},N$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_$=e=>{var n=gU(e,N$),r=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Wt("recharts-trapezoid",d);return m?t.createElement(AH,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:o,height:s,x:l,y:c}=e;return t.createElement(AH,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",S$({},Bj(n,!0),{className:g,d:j$(l,c,i,o,s),ref:r})))}):t.createElement("g",null,t.createElement("path",S$({},Bj(n,!0),{className:g,d:j$(o,s,l,c,u)})))},E$=["option","shapeType","propTransformer","activeClassName","isActive"];function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(t){T$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$(e,t){return C$(C$({},t),e)}function P$(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(LH,r);case"trapezoid":return t.createElement(_$,r);case"sector":return t.createElement(qH,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(LK,r);break;default:return null}}function A$(e){var n,{option:r,shapeType:a,propTransformer:i=D$,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,E$);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,C$(C$({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(k$()(r)&&"boolean"!==typeof r){var c=i(r,l);n=t.createElement(P$,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement(P$,{shapeType:a,elementProps:u})}return s?t.createElement(Wj,{className:o},n):n}var I$=["onMouseEnter","onClick","onMouseLeave"],M$=["id"],R$=["id"];function L$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(t){U$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(){return B$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B$.apply(null,arguments)}function V$(e){var n=(0,t.useMemo)(()=>Fj(e.children,x$),[e.children]),r=qN(t=>y$(t,e.id,n));return null==r?null:t.createElement(hU,{legendPayload:r})}function q$(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:j_(s,t),hide:l,type:c,color:o,unit:""}}}var W$=(e,t)=>e>t?"start":e<t?"end":"middle",H$=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=PN(i,o),l=a+uj(e.cx,i,i/2),c=r+uj(e.cy,o,o/2),u=uj(e.innerRadius,s,0),d=((e,t,n)=>"function"===typeof t?t(e):uj(t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}},K$=(e,t)=>rj(t-e)*Math.min(Math.abs(t-e),360);function Y$(e){var{sectors:n,props:r,showLabels:a}=e,{label:i,labelLine:o,dataKey:s}=r;if(!a||!i||!n)return null;var l=wj(r),c=Bj(i,!1),u=Bj(o,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=n.map((e,n)=>{var r=(e.startAngle+e.endAngle)/2,a=DN(e.cx,e.cy,e.outerRadius+d,r),h=F$(F$(F$(F$({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:W$(a.x,e.cx)},a),f=F$(F$(F$(F$({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[DN(e.cx,e.cy,e.outerRadius,r),a],key:"line"});return t.createElement(Wj,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},o&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=Wt("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(Dj,B$({},n,{type:"linear",className:r}))})(o,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var i=Wt("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(NN,B$({},n,{alignmentBaseline:"middle",className:i}),a)})(i,h,d_(e,s)))});return t.createElement(Wj,{className:"recharts-pie-labels"},h)}function G$(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:i,showLabels:o}=e,s=qN(_F),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=L$(i,I$),h=((e,t)=>{var n=FN();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(kz({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(l,i.dataKey),f=(e=>{var t=FN();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(Sz())}})(u),p=((e,t)=>{var n=FN();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(Nz({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(c,i.dataKey);return null==n?null:t.createElement(t.Fragment,null,n.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(o)===s,c=l?r:s?a:null,u=F$(F$({},e),{},{stroke:e.stroke,tabIndex:-1,[D_]:o,[P_]:i.dataKey});return t.createElement(Wj,B$({tabIndex:-1,className:"recharts-pie-sector"},ej(d,e,o),{onMouseEnter:h(e,o),onMouseLeave:f(e,o),onClick:p(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),t.createElement(A$,B$({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(Y$,{sectors:n,props:i,showLabels:o}))}function Q$(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=fU(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(tB,{begin:o,duration:s,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var i=[],o=(a&&a[0]).startAngle;return a.forEach((t,n)=>{var r=p&&p[n],a=n>0?nj()(t,"paddingAngle",0):0;if(r){var s=hj(r.endAngle-r.startAngle,t.endAngle-t.startAngle),l=F$(F$({},t),{},{startAngle:o+a,endAngle:o+s(e)+a});i.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=hj(0,c-u)(e),h=F$(F$({},t),{},{startAngle:o+a,endAngle:o+d+a});i.push(h),o=h.endAngle}}),r.current=i,t.createElement(Wj,null,t.createElement(G$,{sectors:i,activeShape:c,inactiveShape:u,allOtherPieProps:n,showLabels:!m}))})}function J$(e){var{sectors:n,isAnimationActive:r,activeShape:a,inactiveShape:i}=e,o=(0,t.useRef)(null),s=o.current;return r&&n&&n.length&&(!s||s!==n)?t.createElement(Q$,{props:e,previousSectorsRef:o}):t.createElement(G$,{sectors:n,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function X$(e){var{hide:n,className:r,rootTabIndex:a}=e,i=Wt("recharts-pie",r);return n?null:t.createElement(Wj,{tabIndex:a,className:i},t.createElement(J$,e))}var $$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Yj,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Z$(e){var{id:n}=e,r=L$(e,M$),a=(0,t.useMemo)(()=>Fj(e.children,x$),[e.children]),i=qN(e=>b$(e,n,a));return t.createElement(t.Fragment,null,t.createElement(VF,{fn:q$,args:F$(F$({},e),{},{sectors:i})}),t.createElement(X$,B$({},r,{sectors:i})))}function eZ(e){var n=gU(e,$$),{id:r}=n,a=L$(n,R$),i=wj(a);return t.createElement(bU,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(OU,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:i}),t.createElement(V$,B$({},a,{id:e})),t.createElement(Z$,B$({},a,{id:e})),a.children))}eZ.displayName="Pie";const tZ=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[i,o]=(0,t.useState)([]),[s,l]=(0,t.useState)({totalRevenue:0,totalConversions:0,averageOrderValue:0,totalSpent:0,cpa:0,roas:0}),[c,u]=(0,t.useState)("cpa"),[d,h]=(0,t.useState)("internal"),[f,p]=(0,t.useState)("all"),[m,g]=(0,t.useState)("last_7_days"),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[w,k]=(0,t.useState)("previous_period"),[S,j]=(0,t.useState)(""),[N,_]=(0,t.useState)(""),[E,O]=(0,t.useState)(!0),C=()=>{try{console.log("MarketingPage - Caricamento ordini da localStorage...");const e=localStorage.getItem("shopify_orders"),t=localStorage.getItem("manualMetrics");if(console.log("MarketingPage - Dati trovati:"),console.log("  - Ordini:",e?JSON.parse(e).length:0),console.log("  - Metriche manuali:",t?JSON.parse(t).length:0),e){const t=JSON.parse(e);console.log("MarketingPage - Ordini caricati da localStorage:",t.length),n(t)}else{console.log("MarketingPage - Nessun ordine trovato in localStorage");const e=[{id:"example_1",orderNumber:"1001",totalPrice:150,createdAt:(new Date).toISOString(),status:"paid",fulfillmentStatus:"fulfilled"},{id:"example_2",orderNumber:"1002",totalPrice:89.99,createdAt:new Date(Date.now()-864e5).toISOString(),status:"paid",fulfillmentStatus:"fulfilled"}];n(e)}if(t){const e=JSON.parse(t);o(e)}}catch(e){console.error("Errore nel caricamento ordini:",e),n([])}finally{a(!1)}};(0,t.useEffect)(()=>{C()},[]);(0,t.useEffect)(()=>{const e=A(),t=I(),n=e.reduce((e,t)=>{const n=t.totalPrice||0;return e+parseFloat(n)},0),r=e.length,a=r>0?n/r:0,i=t.reduce((e,t)=>e+t.googleAds.spent+t.meta.spent+t.tiktok.spent,0),o={totalRevenue:n,totalConversions:r,averageOrderValue:a,totalSpent:i,cpa:r>0?i/r:0,roas:i>0?n/i:0};console.log("MarketingPage - Dati marketing calcolati per periodo:",o),console.log("MarketingPage - Ordini filtrati:",e.length),console.log("MarketingPage - Metriche manuali filtrate:",t.length),console.log("MarketingPage - Periodo selezionato:",m),l(o)},[e,i,m,v,b]);const T=()=>{const e=I(),t=A(),n={google_ads:{spent:0,conversions:0,revenue:0,cpa:0,roas:0},meta:{spent:0,conversions:0,revenue:0,cpa:0,roas:0},tiktok:{spent:0,conversions:0,revenue:0,cpa:0,roas:0}};e.forEach(e=>{n.google_ads.spent+=e.googleAds.spent,n.google_ads.conversions+=e.googleAds.conversions,n.google_ads.cpa=e.googleAds.cpa,n.google_ads.roas=e.googleAds.roas,n.meta.spent+=e.meta.spent,n.meta.conversions+=e.meta.conversions,n.meta.cpa=e.meta.cpa,n.meta.roas=e.meta.roas,n.tiktok.spent+=e.tiktok.spent,n.tiktok.conversions+=e.tiktok.conversions,n.tiktok.cpa=e.tiktok.cpa,n.tiktok.roas=e.tiktok.roas});const r=t.reduce((e,t)=>{const n=t.totalPrice||0;return e+parseFloat(n)},0),a=n.google_ads.spent+n.meta.spent+n.tiktok.spent;return a>0&&(n.google_ads.revenue=n.google_ads.spent/a*r,n.meta.revenue=n.meta.spent/a*r,n.tiktok.revenue=n.tiktok.spent/a*r),n},D=()=>0===i.length?[]:i.map(e=>({week:new Date(e.weekStart).toLocaleDateString("it-IT",{month:"short",day:"numeric"}),weekStart:e.weekStart,overallCpa:parseFloat(e.overallCpa)||0,overallRoas:parseFloat(e.overallRoas)||0,shopifyConversions:e.shopifyConversions||0,shopifyRevenue:e.shopifyRevenue||0,totalSpent:e.googleAds.spent+e.meta.spent+e.tiktok.spent,google_ads_cpa:e.googleAds.cpa,google_ads_roas:e.googleAds.roas,google_ads_spent:e.googleAds.spent,google_ads_conversions:e.googleAds.conversions,meta_cpa:e.meta.cpa,meta_roas:e.meta.roas,meta_spent:e.meta.spent,meta_conversions:e.meta.conversions,tiktok_cpa:e.tiktok.cpa,tiktok_roas:e.tiktok.roas,tiktok_spent:e.tiktok.spent,tiktok_conversions:e.tiktok.conversions})).sort((e,t)=>new Date(e.weekStart)-new Date(t.weekStart)),P=()=>{const e=new Date;let t,n=new Date(e);switch(m){case"last_7_days":default:t=new Date(e.getTime()-6048e5);break;case"last_30_days":t=new Date(e.getTime()-2592e6);break;case"custom":v&&b?(t=new Date(v),n=new Date(b)):t=new Date(e.getTime()-6048e5)}return{startDate:t,endDate:n}},A=()=>{const{startDate:t,endDate:n}=P();return console.log("Filtro ordini:",{startDate:t,endDate:n,totalOrders:e.length}),e.filter(r=>{const a=new Date(r.createdAt),i=a>=t&&a<=n;return e.indexOf(r)<3&&console.log("Ordine ".concat(r.orderNumber||r.id,":"),{createdAt:r.createdAt,orderDate:a,isInRange:i}),i})},I=()=>{const{startDate:e,endDate:t}=P();return console.log("Filtro metriche manuali:",{startDate:e,endDate:t,totalMetrics:i.length}),i.filter(n=>{const r=new Date(n.weekStart),a=new Date(n.weekStart);a.setDate(a.getDate()+6);const o=r<=t&&a>=e;return i.indexOf(n)<3&&console.log("Metrica ".concat(n.weekStart,":"),{metricStartDate:r,metricEndDate:a,isInRange:o}),o})},M=()=>{const{startDate:t,endDate:n}=P(),r=n.getTime()-t.getTime(),a=new Date(t.getTime()-r),i=new Date(t.getTime()),o=e.filter(e=>{const t=new Date(e.createdAt);return t>=a&&t<=i}),s=o.reduce((e,t)=>{const n=t.totalPrice||0;return e+parseFloat(n)},0);return{orders:o,revenue:s,conversions:o.length,averageOrderValue:o.length>0?s/o.length:0}},R=()=>{const t=A(),n=t.reduce((e,t)=>{const n=t.totalPrice||0;return e+parseFloat(n)},0),r=t.length,a=r>0?n/r:0;if(!E)return{current:{revenue:n,conversions:r,averageOrderValue:a},comparison:{revenue:0,conversions:0,averageOrderValue:0},changes:{revenue:0,conversions:0,averageOrderValue:0}};const i="custom_period"===w?(()=>{if(!S||!N)return M();const t=new Date(S),n=new Date(N),r=e.filter(e=>{const r=new Date(e.createdAt);return r>=t&&r<=n}),a=r.reduce((e,t)=>{const n=t.totalPrice||0;return e+parseFloat(n)},0);return{orders:r,revenue:a,conversions:r.length,averageOrderValue:r.length>0?a/r.length:0}})():M(),o=i.revenue>0?(n-i.revenue)/i.revenue*100:0,s=i.conversions>0?(r-i.conversions)/i.conversions*100:0,l=i.averageOrderValue>0?(a-i.averageOrderValue)/i.averageOrderValue*100:0;return{current:{revenue:n,conversions:r,averageOrderValue:a},comparison:{revenue:i.revenue,conversions:i.conversions,averageOrderValue:i.averageOrderValue},changes:{revenue:o,conversions:s,averageOrderValue:l}}},L=T(),z=D(),F=(()=>{const e=T();return[{name:"Google Ads",value:e.google_ads.spent,color:"#4285F4"},{name:"Meta",value:e.meta.spent,color:"#1877F2"},{name:"TikTok",value:e.tiktok.spent,color:"#000000"}].filter(e=>e.value>0)})(),U=(()=>{const e=D();if(e.length<2)return null;const t=e[e.length-1],n=e[e.length-2],r=(e,t,n)=>{if("all"===n)return"cpa"===t?e.overallCpa:e.overallRoas;return e["".concat(n,"_").concat(t)]||0},a=r(t,c,f),i=r(n,c,f),o=i>0?(a-i)/i*100:0;return{current:a,previous:i,change:o,trend:o>0?"up":o<0?"down":"stable"}})(),B=R();function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cpa";const t=I();let n=[];if(E){let e,t;if("custom_period"===w&&S&&N)e=new Date(S),t=new Date(N);else{const{startDate:n,endDate:r}=P(),a=r.getTime()-n.getTime();e=new Date(n.getTime()-a),t=new Date(n.getTime())}n=i.filter(n=>{const r=new Date(n.weekStart),a=new Date(n.weekStart);return a.setDate(a.getDate()+6),r<=t&&a>=e})}const r=[...t].sort((e,t)=>new Date(e.weekStart)-new Date(t.weekStart)),a=[...n].sort((e,t)=>new Date(e.weekStart)-new Date(t.weekStart));let o=0,s=0;const l=[],c=Math.max(r.length,a.length);for(let i=0;i<c;i++){const t=r[i],n=a[i];let c=0,u=0;t&&("cpa"===e?c=t.google_ads_cpa:"roas"===e?c=t.google_ads_roas:"spent"===e?c=t.google_ads_spent+t.meta_spent+t.tiktok_spent:"orders"===e&&(c=t.shopifyConversions)),n&&("cpa"===e?u=n.google_ads_cpa:"roas"===e?u=n.google_ads_roas:"spent"===e?u=n.google_ads_spent+n.meta_spent+n.tiktok_spent:"orders"===e&&(u=n.shopifyConversions)),o+=c||0,s+=u||0,l.push({week:t?new Date(t.weekStart).toLocaleDateString("it-IT",{month:"short",day:"numeric"}):n?new Date(n.weekStart).toLocaleDateString("it-IT",{month:"short",day:"numeric"}):"Settimana ".concat(i+1),current:o,comparison:E?s:null})}return l}return r?(0,or.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,or.jsx)("div",{className:"text-lg",children:"Caricamento..."})}):(0,or.jsxs)("div",{className:"space-y-8",children:[(0,or.jsxs)("div",{className:"mb-8",children:[(0,or.jsx)("h1",{className:"text-2xl font-bold mb-1",children:"Dashboard Marketing"}),(0,or.jsxs)("div",{className:"text-gray-600 mb-4",children:["Periodo selezionato: ",P().startDate.toLocaleDateString("it-IT")," \u2013 ",P().endDate.toLocaleDateString("it-IT")]}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center mb-4",children:[(0,or.jsxs)("label",{className:"flex items-center gap-2",children:[(0,or.jsx)("span",{children:"Periodo:"}),(0,or.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"last_7_days",children:"Ultimi 7 giorni"}),(0,or.jsx)("option",{value:"last_30_days",children:"Ultimi 30 giorni"}),(0,or.jsx)("option",{value:"custom",children:"Personalizzato"})]})]}),"custom"===m&&(0,or.jsx)(fX,{startDate:v?new Date(v):null,endDate:b?new Date(b):null,onDateChange:e=>{let[t,n]=e;y(t?t.toISOString().slice(0,10):""),x(n?n.toISOString().slice(0,10):"")},className:""})]}),(0,or.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,or.jsxs)("label",{className:"flex items-center gap-2",children:[(0,or.jsx)("input",{type:"checkbox",checked:E,onChange:e=>O(e.target.checked)}),"Abilita confronto"]}),E&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-3 py-2 border rounded-md",children:[(0,or.jsx)("option",{value:"previous_period",children:"Periodo Precedente"}),(0,or.jsx)("option",{value:"custom_period",children:"Personalizzato"})]}),"custom_period"===w&&(0,or.jsxs)(or.Fragment,{children:[(0,or.jsx)("input",{type:"date",value:S,onChange:e=>j(e.target.value),className:"px-2 py-1 border rounded-md"}),(0,or.jsx)("span",{children:"\u2013"}),(0,or.jsx)("input",{type:"date",value:N,onChange:e=>_(e.target.value),className:"px-2 py-1 border rounded-md"})]})]})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Spesa Marketing"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),E&&(0,or.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:(()=>{const e=R();return e.comparisonEnabled?(0,or.jsxs)("span",{children:[e.changes.totalSpent>0?"\u2197":e.changes.totalSpent<0?"\u2198":"\u2192",Math.abs(e.changes.totalSpent).toFixed(1),"% vs confronto"]}):null})()})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"CPA"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:s.cpa.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),E&&(0,or.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:(()=>{const e=R();return e.comparisonEnabled?(0,or.jsxs)("span",{children:[e.changes.cpa>0?"\u2197":e.changes.cpa<0?"\u2198":"\u2192",Math.abs(e.changes.cpa).toFixed(1),"% vs confronto"]}):null})()})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"ROAS"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:[s.roas.toFixed(2),"x"]}),E&&(0,or.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:(()=>{const e=R();return e.comparisonEnabled?(0,or.jsxs)("span",{children:[e.changes.roas>0?"\u2197":e.changes.roas<0?"\u2198":"\u2192",Math.abs(e.changes.roas).toFixed(1),"% vs confronto"]}):null})()})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Ordini"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:s.totalConversions}),E&&(0,or.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:(()=>{const e=R();return e.comparisonEnabled?(0,or.jsxs)("span",{children:[e.changes.conversions>0?"\u2197":e.changes.conversions<0?"\u2198":"\u2192",Math.abs(e.changes.conversions).toFixed(1),"% vs confronto"]}):null})()})]})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Revenue Totale"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:B.current.revenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),E?(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(B.changes.revenue>0?"bg-green-100 text-green-800":B.changes.revenue<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[B.changes.revenue>0?"\u2197":B.changes.revenue<0?"\u2198":"\u2192",Math.abs(B.changes.revenue).toFixed(1),"%"]}),(0,or.jsx)("span",{className:"text-xs text-gray-600",children:"vs periodo precedente"})]}):(0,or.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Confronto disabilitato"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Conversioni"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:B.current.conversions}),E?(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(B.changes.conversions>0?"bg-green-100 text-green-800":B.changes.conversions<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[B.changes.conversions>0?"\u2197":B.changes.conversions<0?"\u2198":"\u2192",Math.abs(B.changes.conversions).toFixed(1),"%"]}),(0,or.jsx)("span",{className:"text-xs text-gray-600",children:"vs periodo precedente"})]}):(0,or.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Confronto disabilitato"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Media per Ordine"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:B.current.averageOrderValue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),E?(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(B.changes.averageOrderValue>0?"bg-green-100 text-green-800":B.changes.averageOrderValue<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[B.changes.averageOrderValue>0?"\u2197":B.changes.averageOrderValue<0?"\u2198":"\u2192",Math.abs(B.changes.averageOrderValue).toFixed(1),"%"]}),(0,or.jsx)("span",{className:"text-xs text-gray-600",children:"vs periodo precedente"})]}):(0,or.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Confronto disabilitato"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"Spesa Marketing"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsxs)("span",{className:"text-xs text-gray-600",children:[I().length," settimane nel periodo"]}),(0,or.jsxs)("span",{className:"text-xs text-gray-500",children:["(",i.length," totali)"]})]}),(0,or.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:I().length>0?"Media: ".concat((s.totalSpent/I().length).toLocaleString("it-IT",{style:"currency",currency:"EUR"}),"/settimana"):"Nessun dato per il periodo"})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"ROAS"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"text-2xl font-bold",children:[s.roas.toFixed(2),"x"]}),(0,or.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,or.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(s.roas>1?"bg-green-100 text-green-800":s.roas<1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[s.roas>1?"\u2197":s.roas<1?"\u2198":"\u2192",s.roas>0?"".concat((100*(s.roas-1)).toFixed(1),"%"):"N/A"]}),(0,or.jsx)("span",{className:"text-xs text-gray-600",children:"vs break-even (1x)"})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,or.jsx)(wk,{className:"text-sm font-medium",children:"CPA"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsx)("div",{className:"text-2xl font-bold",children:s.cpa.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:s.totalConversions>0?"per conversione":"N/A"})]})]})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\ud83c\udfaf Performance Marketing - Periodo Selezionato"})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,or.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"ROAS"}),(0,or.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[s.roas.toFixed(2),"x"]}),(0,or.jsx)("div",{className:"text-sm text-green-700",children:s.roas>1?"Profitto: +".concat((100*(s.roas-1)).toFixed(1),"%"):s.roas<1?"Perdita: ".concat((100*(1-s.roas)).toFixed(1),"%"):"Break-even"}),(0,or.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["Revenue: ",s.totalRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})," | Spesa: ",s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})]})]}),(0,or.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"CPA"}),(0,or.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.cpa.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("div",{className:"text-sm text-blue-700",children:s.cpa<50?"Ottimo":s.cpa<100?"Buono":s.cpa<200?"Accettabile":"Alto"}),(0,or.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[s.totalConversions," conversioni | Spesa totale: ",s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})]})]}),(0,or.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"Margine di Profitto"}),(0,or.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:s.totalSpent>0?"".concat(((s.totalRevenue-s.totalSpent)/s.totalRevenue*100).toFixed(1),"%"):"N/A"}),(0,or.jsxs)("div",{className:"text-sm text-purple-700",children:[s.totalSpent>0?(s.totalRevenue-s.totalSpent).toLocaleString("it-IT",{style:"currency",currency:"EUR"}):"N/A"," profitto netto"]}),(0,or.jsxs)("div",{className:"text-xs text-purple-600 mt-1",children:["Revenue: ",s.totalRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})," | Costi: ",s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})]})]}),(0,or.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-semibold text-orange-800 mb-2",children:"Efficienza Marketing"}),(0,or.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:s.totalSpent>0?"".concat((s.totalRevenue/s.totalSpent*100).toFixed(1),"%"):"N/A"}),(0,or.jsx)("div",{className:"text-sm text-orange-700",children:s.totalSpent>0?"".concat(s.totalSpent.toLocaleString("it-IT",{style:"currency",currency:"EUR"})," \u2192 ").concat(s.totalRevenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})):"N/A"}),(0,or.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:["ROI: ",s.totalSpent>0?"".concat(((s.totalRevenue-s.totalSpent)/s.totalSpent*100).toFixed(1),"%"):"N/A"]})]})]})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsxs)(wk,{children:["\ud83d\udcca Confronto con ","custom_period"===w?"Periodo Personalizzato":"Periodo Precedente"]})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Periodo Attuale"}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue:"}),(0,or.jsx)("span",{className:"font-medium",children:B.current.revenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Conversioni:"}),(0,or.jsx)("span",{className:"font-medium",children:B.current.conversions})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Media per ordine:"}),(0,or.jsx)("span",{className:"font-medium",children:B.current.averageOrderValue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"ROAS:"}),(0,or.jsxs)("span",{className:"font-medium",children:[s.roas.toFixed(2),"x"]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"CPA:"}),(0,or.jsx)("span",{className:"font-medium",children:s.cpa.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"custom_period"===w?"Periodo di Confronto":"Periodo Precedente"}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue:"}),(0,or.jsx)("span",{className:"font-medium",children:B.comparison.revenue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Conversioni:"}),(0,or.jsx)("span",{className:"font-medium",children:B.comparison.conversions})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Media per ordine:"}),(0,or.jsx)("span",{className:"font-medium",children:B.comparison.averageOrderValue.toLocaleString("it-IT",{style:"currency",currency:"EUR"})})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"ROAS:"}),(0,or.jsx)("span",{className:"font-medium",children:"N/A"})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"CPA:"}),(0,or.jsx)("span",{className:"font-medium",children:"N/A"})]})]})]})]}),(0,or.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,or.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Variazioni Percentuali"}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsxs)("div",{className:"text-lg font-bold ".concat(B.changes.revenue>0?"text-green-600":B.changes.revenue<0?"text-red-600":"text-gray-600"),children:[B.changes.revenue>0?"+":"",B.changes.revenue.toFixed(1),"%"]}),(0,or.jsx)("div",{className:"text-xs text-gray-600",children:"Revenue"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsxs)("div",{className:"text-lg font-bold ".concat(B.changes.conversions>0?"text-green-600":B.changes.conversions<0?"text-red-600":"text-gray-600"),children:[B.changes.conversions>0?"+":"",B.changes.conversions.toFixed(1),"%"]}),(0,or.jsx)("div",{className:"text-xs text-gray-600",children:"Conversioni"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsxs)("div",{className:"text-lg font-bold ".concat(B.changes.averageOrderValue>0?"text-green-600":B.changes.averageOrderValue<0?"text-red-600":"text-gray-600"),children:[B.changes.averageOrderValue>0?"+":"",B.changes.averageOrderValue.toFixed(1),"%"]}),(0,or.jsx)("div",{className:"text-xs text-gray-600",children:"Media per ordine"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsxs)("div",{className:"text-lg font-bold ".concat(s.roas>1?"text-green-600":s.roas<1?"text-red-600":"text-gray-600"),children:[s.roas.toFixed(2),"x"]}),(0,or.jsx)("div",{className:"text-xs text-gray-600",children:"ROAS Attuale"})]}),(0,or.jsxs)("div",{className:"text-center",children:[(0,or.jsx)("div",{className:"text-lg font-bold ".concat(s.cpa<50?"text-green-600":s.cpa>100?"text-red-600":"text-yellow-600"),children:s.cpa.toLocaleString("it-IT",{style:"currency",currency:"EUR"})}),(0,or.jsx)("div",{className:"text-xs text-gray-600",children:"CPA Attuale"})]})]})]})]})]}),(0,or.jsx)(HX,{onSave:e=>{o(e)},orders:e}),i.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\ud83d\udcc8 Statistiche per Piattaforma"})}),(0,or.jsx)(Sk,{children:(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,or.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Google Ads"}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Spesa:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.google_ads.spent.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Conversioni:"}),(0,or.jsx)("span",{className:"font-medium",children:L.google_ads.conversions})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"CPA:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.google_ads.cpa.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"ROAS:"}),(0,or.jsx)("span",{className:"font-medium",children:L.google_ads.roas.toFixed(2)})]})]})]}),(0,or.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Meta"}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Spesa:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.meta.spent.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Conversioni:"}),(0,or.jsx)("span",{className:"font-medium",children:L.meta.conversions})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"CPA:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.meta.cpa.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"ROAS:"}),(0,or.jsx)("span",{className:"font-medium",children:L.meta.roas.toFixed(2)})]})]})]}),(0,or.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,or.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"TikTok"}),(0,or.jsxs)("div",{className:"space-y-2",children:[(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Spesa:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.tiktok.spent.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"Conversioni:"}),(0,or.jsx)("span",{className:"font-medium",children:L.tiktok.conversions})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"CPA:"}),(0,or.jsxs)("span",{className:"font-medium",children:["\u20ac",L.tiktok.cpa.toFixed(2)]})]}),(0,or.jsxs)("div",{className:"flex justify-between",children:[(0,or.jsx)("span",{className:"text-sm text-gray-600",children:"ROAS:"}),(0,or.jsx)("span",{className:"font-medium",children:L.tiktok.roas.toFixed(2)})]})]})]})]})})]}),z.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\ud83d\udcc8 Controlli Grafici"})}),(0,or.jsxs)(Sk,{children:[(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metrica"}),(0,or.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"cpa",children:"CPA (Costo per Acquisizione)"}),(0,or.jsx)("option",{value:"roas",children:"ROAS (Return on Ad Spend)"})]})]}),(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fonte Dati"}),(0,or.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"internal",children:"Dati Complessivi (conversioni Shopify)"}),(0,or.jsx)("option",{value:"platform",children:"Dati per Piattaforma (conversioni manuali)"})]})]}),"platform"===d&&(0,or.jsxs)("div",{children:[(0,or.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piattaforma"}),(0,or.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,or.jsx)("option",{value:"all",children:"Tutte le Piattaforme"}),(0,or.jsx)("option",{value:"google_ads",children:"Google Ads"}),(0,or.jsx)("option",{value:"meta",children:"Meta (Facebook/Instagram)"}),(0,or.jsx)("option",{value:"tiktok",children:"TikTok Ads"})]})]})]}),U&&(0,or.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,or.jsx)("h4",{className:"font-medium mb-2",children:"\ud83d\udcca Cambiamenti Settimanali"}),(0,or.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,or.jsxs)("div",{className:"text-2xl font-bold",children:["cpa"===c?"\u20ac":"",U.current.toFixed(2)]}),(0,or.jsxs)("div",{className:"flex items-center space-x-1 ".concat("up"===U.trend?"text-green-600":"down"===U.trend?"text-red-600":"text-gray-600"),children:[(0,or.jsx)("span",{className:"text-lg",children:"up"===U.trend?"\u2197":"down"===U.trend?"\u2198":"\u2192"}),(0,or.jsxs)("span",{className:"text-sm",children:[U.change>0?"+":"",U.change.toFixed(1),"%"]})]}),(0,or.jsx)("div",{className:"text-sm text-gray-500",children:"vs settimana precedente"})]})]})]})]}),(0,or.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Andamento Spesa Marketing"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)(CB,{width:"100%",height:300,children:(0,or.jsxs)(Zq,{data:V("spent"),children:[(0,or.jsx)(RW,{strokeDasharray:"3 3"}),(0,or.jsx)(HW,{dataKey:"week"}),(0,or.jsx)(ZW,{}),(0,or.jsx)(sK,{formatter:e=>"\u20ac".concat(e.toLocaleString("it-IT",{minimumFractionDigits:2}))}),(0,or.jsx)(ZK,{}),(0,or.jsx)(kB,{type:"monotone",dataKey:"current",name:"Spesa Periodo Selezionato",stroke:"#2563eb"}),E&&(0,or.jsx)(kB,{type:"monotone",dataKey:"comparison",name:"Spesa Periodo Confronto",stroke:"#f59e42"})]})})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Andamento CPA"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)(CB,{width:"100%",height:300,children:(0,or.jsxs)(Zq,{data:V("cpa"),children:[(0,or.jsx)(RW,{strokeDasharray:"3 3"}),(0,or.jsx)(HW,{dataKey:"week"}),(0,or.jsx)(ZW,{}),(0,or.jsx)(sK,{formatter:e=>"\u20ac".concat(e.toLocaleString("it-IT",{minimumFractionDigits:2}))}),(0,or.jsx)(ZK,{}),(0,or.jsx)(kB,{type:"monotone",dataKey:"current",name:"CPA Periodo Selezionato",stroke:"#f59e42"}),E&&(0,or.jsx)(kB,{type:"monotone",dataKey:"comparison",name:"CPA Periodo Confronto",stroke:"#fbbf24"})]})})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Andamento ROAS"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)(CB,{width:"100%",height:300,children:(0,or.jsxs)(Zq,{data:V("roas"),children:[(0,or.jsx)(RW,{strokeDasharray:"3 3"}),(0,or.jsx)(HW,{dataKey:"week"}),(0,or.jsx)(ZW,{}),(0,or.jsx)(sK,{formatter:e=>"".concat(e.toFixed(2),"x")}),(0,or.jsx)(ZK,{}),(0,or.jsx)(kB,{type:"monotone",dataKey:"current",name:"ROAS Periodo Selezionato",stroke:"#22c55e"}),E&&(0,or.jsx)(kB,{type:"monotone",dataKey:"comparison",name:"ROAS Periodo Confronto",stroke:"#f59e42"})]})})})]}),(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"Andamento Ordini"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)(CB,{width:"100%",height:300,children:(0,or.jsxs)(Zq,{data:V("orders"),children:[(0,or.jsx)(RW,{strokeDasharray:"3 3"}),(0,or.jsx)(HW,{dataKey:"week"}),(0,or.jsx)(ZW,{}),(0,or.jsx)(sK,{}),(0,or.jsx)(ZK,{}),(0,or.jsx)(kB,{type:"monotone",dataKey:"current",name:"Ordini Periodo Selezionato",stroke:"#a21caf"}),E&&(0,or.jsx)(kB,{type:"monotone",dataKey:"comparison",name:"Ordini Periodo Confronto",stroke:"#f59e42"})]})})})]})]}),F.length>0&&(0,or.jsxs)(bk,{children:[(0,or.jsx)(xk,{children:(0,or.jsx)(wk,{children:"\ud83e\udd67 Distribuzione Spesa per Piattaforma"})}),(0,or.jsx)(Sk,{children:(0,or.jsx)(CB,{width:"100%",height:300,children:(0,or.jsxs)(ZX,{children:[(0,or.jsx)(eZ,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat(t," ").concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map((e,t)=>(0,or.jsx)(x$,{fill:e.color},"cell-".concat(t)))}),(0,or.jsx)(sK,{formatter:e=>["\u20ac".concat(e.toFixed(2)),"Spesa"]})]})})})]})]})};function nZ(){const[e,n]=t.useState(!1);return t.useEffect(()=>{0},[]),e?(0,or.jsxs)("div",{className:"fixed bottom-4 right-4 bg-black bg-opacity-75 text-white p-4 rounded-lg text-xs max-w-sm",children:[(0,or.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,or.jsx)("span",{className:"font-bold",children:"Debug Info"}),(0,or.jsx)("button",{onClick:()=>n(!1),className:"text-gray-300 hover:text-white",children:"\xd7"})]}),(0,or.jsxs)("div",{className:"space-y-1",children:[(0,or.jsxs)("div",{children:["NODE_ENV: ","production"]}),(0,or.jsxs)("div",{children:["REACT_APP_FIREBASE_PROJECT_ID: ",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID?"Set":"Not set"]}),(0,or.jsxs)("div",{children:["REACT_APP_FIREBASE_API_KEY: ",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY?"Set":"Not set"]}),(0,or.jsxs)("div",{children:["User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]}):null}class rZ extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,or.jsx)("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:(0,or.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl",children:[(0,or.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Errore nell'applicazione"}),(0,or.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-4",children:[(0,or.jsx)("h2",{className:"font-semibold mb-2",children:"Dettagli dell'errore:"}),(0,or.jsx)("pre",{className:"text-sm overflow-auto",children:this.state.error&&this.state.error.toString()})]}),(0,or.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,or.jsx)("h2",{className:"font-semibold mb-2",children:"Stack trace:"}),(0,or.jsx)("pre",{className:"text-sm overflow-auto",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),(0,or.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Ricarica la pagina"})]})}):this.props.children}}const aZ=function(){const[e,n]=t.useState(!1),r=()=>{n(!e)};return(0,or.jsx)(rZ,{children:(0,or.jsxs)(pt,{children:[(0,or.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,or.jsx)(sr,{isCollapsed:e,onToggle:r}),(0,or.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,or.jsx)(hr,{sidebarCollapsed:e,onToggleSidebar:r}),(0,or.jsx)("main",{className:"flex-1 overflow-auto p-6",children:(0,or.jsxs)(Ie,{children:[(0,or.jsx)(Pe,{path:"/",element:(0,or.jsx)(De,{to:"/dashboard",replace:!0})}),(0,or.jsx)(Pe,{path:"/dashboard",element:(0,or.jsxs)("div",{children:[(0,or.jsx)(CY,{}),(0,or.jsx)(hk,{})]})}),(0,or.jsx)(Pe,{path:"/stock",element:(0,or.jsx)(MY,{})}),(0,or.jsx)(Pe,{path:"/magazzino",element:(0,or.jsx)(VY,{})}),(0,or.jsx)(Pe,{path:"/ordini",element:(0,or.jsx)(nX,{})}),(0,or.jsx)(Pe,{path:"/ordini/:orderId",element:(0,or.jsx)(aX,{})}),(0,or.jsx)(Pe,{path:"/ordini-fornitori",element:(0,or.jsx)(bX,{})}),(0,or.jsx)(Pe,{path:"/ordini-fornitori/nuovo",element:(0,or.jsx)(cX,{})}),(0,or.jsx)(Pe,{path:"/ordini-fornitori/:orderId",element:(0,or.jsx)(wX,{})}),(0,or.jsx)(Pe,{path:"/marketing",element:(0,or.jsx)(tZ,{})}),(0,or.jsx)(Pe,{path:"/costi",element:(0,or.jsx)(jX,{})}),(0,or.jsx)(Pe,{path:"/conto-economico",element:(0,or.jsx)(EX,{})}),(0,or.jsx)(Pe,{path:"/magazzino/:sku",element:(0,or.jsx)(CX,{})}),(0,or.jsx)(Pe,{path:"/settings",element:(0,or.jsx)(WX,{})})]})})]})]}),(0,or.jsx)(nZ,{})]})})};a.createRoot(document.getElementById("root")).render((0,or.jsx)(t.StrictMode,{children:(0,or.jsx)(aZ,{})}))})()})();
//# sourceMappingURL=main.cf859e5f.js.map